(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sm={exports:{}},Df={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function L4(){if(Lp)return Df;Lp=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(u,o,f){var g=null;if(f!==void 0&&(g=""+f),o.key!==void 0&&(g=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:r,type:u,key:g,ref:o!==void 0?o:null,props:f}}return Df.Fragment=t,Df.jsx=a,Df.jsxs=a,Df}var Gp;function G4(){return Gp||(Gp=1,Sm.exports=L4()),Sm.exports}var re=G4(),Em={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function H4(){if(Hp)return he;Hp=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),O=Symbol.iterator;function U(Q){return Q===null||typeof Q!="object"?null:(Q=O&&Q[O]||Q["@@iterator"],typeof Q=="function"?Q:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function L(Q,it,St){this.props=Q,this.context=it,this.refs=z,this.updater=St||D}L.prototype.isReactComponent={},L.prototype.setState=function(Q,it){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,it,"setState")},L.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function F(){}F.prototype=L.prototype;function C(Q,it,St){this.props=Q,this.context=it,this.refs=z,this.updater=St||D}var R=C.prototype=new F;R.constructor=C,x(R,L.prototype),R.isPureReactComponent=!0;var H=Array.isArray,I={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(Q,it,St,st,gt,Ct){return St=Ct.ref,{$$typeof:r,type:Q,key:it,ref:St!==void 0?St:null,props:Ct}}function V(Q,it){return j(Q.type,it,void 0,void 0,void 0,Q.props)}function M(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===r}function w(Q){var it={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(St){return it[St]})}var q=/\/+/g;function K(Q,it){return typeof Q=="object"&&Q!==null&&Q.key!=null?w(""+Q.key):it.toString(36)}function T(){}function Y(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(T,T):(Q.status="pending",Q.then(function(it){Q.status==="pending"&&(Q.status="fulfilled",Q.value=it)},function(it){Q.status==="pending"&&(Q.status="rejected",Q.reason=it)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function P(Q,it,St,st,gt){var Ct=typeof Q;(Ct==="undefined"||Ct==="boolean")&&(Q=null);var Mt=!1;if(Q===null)Mt=!0;else switch(Ct){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(Q.$$typeof){case r:case t:Mt=!0;break;case b:return Mt=Q._init,P(Mt(Q._payload),it,St,st,gt)}}if(Mt)return gt=gt(Q),Mt=st===""?"."+K(Q,0):st,H(gt)?(St="",Mt!=null&&(St=Mt.replace(q,"$&/")+"/"),P(gt,it,St,"",function(At){return At})):gt!=null&&(M(gt)&&(gt=V(gt,St+(gt.key==null||Q&&Q.key===gt.key?"":(""+gt.key).replace(q,"$&/")+"/")+Mt)),it.push(gt)),1;Mt=0;var et=st===""?".":st+":";if(H(Q))for(var ct=0;ct<Q.length;ct++)st=Q[ct],Ct=et+K(st,ct),Mt+=P(st,it,St,Ct,gt);else if(ct=U(Q),typeof ct=="function")for(Q=ct.call(Q),ct=0;!(st=Q.next()).done;)st=st.value,Ct=et+K(st,ct++),Mt+=P(st,it,St,Ct,gt);else if(Ct==="object"){if(typeof Q.then=="function")return P(Y(Q),it,St,st,gt);throw it=String(Q),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function X(Q,it,St){if(Q==null)return Q;var st=[],gt=0;return P(Q,st,"","",function(Ct){return it.call(St,Ct,gt++)}),st}function $(Q){if(Q._status===-1){var it=Q._result;it=it(),it.then(function(St){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=St)},function(St){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=St)}),Q._status===-1&&(Q._status=0,Q._result=it)}if(Q._status===1)return Q._result.default;throw Q._result}var at=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function dt(){}return he.Children={map:X,forEach:function(Q,it,St){X(Q,function(){it.apply(this,arguments)},St)},count:function(Q){var it=0;return X(Q,function(){it++}),it},toArray:function(Q){return X(Q,function(it){return it})||[]},only:function(Q){if(!M(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},he.Component=L,he.Fragment=a,he.Profiler=o,he.PureComponent=C,he.StrictMode=u,he.Suspense=_,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,he.act=function(){throw Error("act(...) is not supported in production builds of React.")},he.cache=function(Q){return function(){return Q.apply(null,arguments)}},he.cloneElement=function(Q,it,St){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var st=x({},Q.props),gt=Q.key,Ct=void 0;if(it!=null)for(Mt in it.ref!==void 0&&(Ct=void 0),it.key!==void 0&&(gt=""+it.key),it)!k.call(it,Mt)||Mt==="key"||Mt==="__self"||Mt==="__source"||Mt==="ref"&&it.ref===void 0||(st[Mt]=it[Mt]);var Mt=arguments.length-2;if(Mt===1)st.children=St;else if(1<Mt){for(var et=Array(Mt),ct=0;ct<Mt;ct++)et[ct]=arguments[ct+2];st.children=et}return j(Q.type,gt,void 0,void 0,Ct,st)},he.createContext=function(Q){return Q={$$typeof:g,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:f,_context:Q},Q},he.createElement=function(Q,it,St){var st,gt={},Ct=null;if(it!=null)for(st in it.key!==void 0&&(Ct=""+it.key),it)k.call(it,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=it[st]);var Mt=arguments.length-2;if(Mt===1)gt.children=St;else if(1<Mt){for(var et=Array(Mt),ct=0;ct<Mt;ct++)et[ct]=arguments[ct+2];gt.children=et}if(Q&&Q.defaultProps)for(st in Mt=Q.defaultProps,Mt)gt[st]===void 0&&(gt[st]=Mt[st]);return j(Q,Ct,void 0,void 0,null,gt)},he.createRef=function(){return{current:null}},he.forwardRef=function(Q){return{$$typeof:y,render:Q}},he.isValidElement=M,he.lazy=function(Q){return{$$typeof:b,_payload:{_status:-1,_result:Q},_init:$}},he.memo=function(Q,it){return{$$typeof:S,type:Q,compare:it===void 0?null:it}},he.startTransition=function(Q){var it=I.T,St={};I.T=St;try{var st=Q(),gt=I.S;gt!==null&&gt(St,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(dt,at)}catch(Ct){at(Ct)}finally{I.T=it}},he.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},he.use=function(Q){return I.H.use(Q)},he.useActionState=function(Q,it,St){return I.H.useActionState(Q,it,St)},he.useCallback=function(Q,it){return I.H.useCallback(Q,it)},he.useContext=function(Q){return I.H.useContext(Q)},he.useDebugValue=function(){},he.useDeferredValue=function(Q,it){return I.H.useDeferredValue(Q,it)},he.useEffect=function(Q,it){return I.H.useEffect(Q,it)},he.useId=function(){return I.H.useId()},he.useImperativeHandle=function(Q,it,St){return I.H.useImperativeHandle(Q,it,St)},he.useInsertionEffect=function(Q,it){return I.H.useInsertionEffect(Q,it)},he.useLayoutEffect=function(Q,it){return I.H.useLayoutEffect(Q,it)},he.useMemo=function(Q,it){return I.H.useMemo(Q,it)},he.useOptimistic=function(Q,it){return I.H.useOptimistic(Q,it)},he.useReducer=function(Q,it,St){return I.H.useReducer(Q,it,St)},he.useRef=function(Q){return I.H.useRef(Q)},he.useState=function(Q){return I.H.useState(Q)},he.useSyncExternalStore=function(Q,it,St){return I.H.useSyncExternalStore(Q,it,St)},he.useTransition=function(){return I.H.useTransition()},he.version="19.0.0",he}var qp;function Ag(){return qp||(qp=1,Em.exports=H4()),Em.exports}var $e=Ag();const la=m1($e);var Tm={exports:{}},Nf={},bm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function q4(){return Pp||(Pp=1,function(r){function t(X,$){var at=X.length;X.push($);t:for(;0<at;){var dt=at-1>>>1,Q=X[dt];if(0<o(Q,$))X[dt]=$,X[at]=Q,at=dt;else break t}}function a(X){return X.length===0?null:X[0]}function u(X){if(X.length===0)return null;var $=X[0],at=X.pop();if(at!==$){X[0]=at;t:for(var dt=0,Q=X.length,it=Q>>>1;dt<it;){var St=2*(dt+1)-1,st=X[St],gt=St+1,Ct=X[gt];if(0>o(st,at))gt<Q&&0>o(Ct,st)?(X[dt]=Ct,X[gt]=at,dt=gt):(X[dt]=st,X[St]=at,dt=St);else if(gt<Q&&0>o(Ct,at))X[dt]=Ct,X[gt]=at,dt=gt;else break t}}return $}function o(X,$){var at=X.sortIndex-$.sortIndex;return at!==0?at:X.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var g=Date,y=g.now();r.unstable_now=function(){return g.now()-y}}var _=[],S=[],b=1,O=null,U=3,D=!1,x=!1,z=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(X){for(var $=a(S);$!==null;){if($.callback===null)u(S);else if($.startTime<=X)u(S),$.sortIndex=$.expirationTime,t(_,$);else break;$=a(S)}}function H(X){if(z=!1,R(X),!x)if(a(_)!==null)x=!0,Y();else{var $=a(S);$!==null&&P(H,$.startTime-X)}}var I=!1,k=-1,j=5,V=-1;function M(){return!(r.unstable_now()-V<j)}function w(){if(I){var X=r.unstable_now();V=X;var $=!0;try{t:{x=!1,z&&(z=!1,F(k),k=-1),D=!0;var at=U;try{e:{for(R(X),O=a(_);O!==null&&!(O.expirationTime>X&&M());){var dt=O.callback;if(typeof dt=="function"){O.callback=null,U=O.priorityLevel;var Q=dt(O.expirationTime<=X);if(X=r.unstable_now(),typeof Q=="function"){O.callback=Q,R(X),$=!0;break e}O===a(_)&&u(_),R(X)}else u(_);O=a(_)}if(O!==null)$=!0;else{var it=a(S);it!==null&&P(H,it.startTime-X),$=!1}}break t}finally{O=null,U=at,D=!1}$=void 0}}finally{$?q():I=!1}}}var q;if(typeof C=="function")q=function(){C(w)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,T=K.port2;K.port1.onmessage=w,q=function(){T.postMessage(null)}}else q=function(){L(w,0)};function Y(){I||(I=!0,q())}function P(X,$){k=L(function(){X(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){x||D||(x=!0,Y())},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_getFirstCallbackNode=function(){return a(_)},r.unstable_next=function(X){switch(U){case 1:case 2:case 3:var $=3;break;default:$=U}var at=U;U=$;try{return X()}finally{U=at}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,$){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var at=U;U=X;try{return $()}finally{U=at}},r.unstable_scheduleCallback=function(X,$,at){var dt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?dt+at:dt):at=dt,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=at+Q,X={id:b++,callback:$,priorityLevel:X,startTime:at,expirationTime:Q,sortIndex:-1},at>dt?(X.sortIndex=at,t(S,X),a(_)===null&&X===a(S)&&(z?(F(k),k=-1):z=!0,P(H,at-dt))):(X.sortIndex=Q,t(_,X),x||D||(x=!0,Y())),X},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(X){var $=U;return function(){var at=U;U=$;try{return X.apply(this,arguments)}finally{U=at}}}}(Am)),Am}var Ip;function p1(){return Ip||(Ip=1,bm.exports=q4()),bm.exports}var Cm={exports:{}},sa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function P4(){if(jp)return sa;jp=1;var r=Ag();function t(_){var S="https://react.dev/errors/"+_;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)S+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var u={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,S,b){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:_,containerInfo:S,implementation:b}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,S){if(_==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,sa.createPortal=function(_,S){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(t(299));return f(_,S,null,b)},sa.flushSync=function(_){var S=g.T,b=u.p;try{if(g.T=null,u.p=2,_)return _()}finally{g.T=S,u.p=b,u.d.f()}},sa.preconnect=function(_,S){typeof _=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,u.d.C(_,S))},sa.prefetchDNS=function(_){typeof _=="string"&&u.d.D(_)},sa.preinit=function(_,S){if(typeof _=="string"&&S&&typeof S.as=="string"){var b=S.as,O=y(b,S.crossOrigin),U=typeof S.integrity=="string"?S.integrity:void 0,D=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;b==="style"?u.d.S(_,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:O,integrity:U,fetchPriority:D}):b==="script"&&u.d.X(_,{crossOrigin:O,integrity:U,fetchPriority:D,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},sa.preinitModule=function(_,S){if(typeof _=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var b=y(S.as,S.crossOrigin);u.d.M(_,{crossOrigin:b,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&u.d.M(_)},sa.preload=function(_,S){if(typeof _=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var b=S.as,O=y(b,S.crossOrigin);u.d.L(_,b,{crossOrigin:O,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},sa.preloadModule=function(_,S){if(typeof _=="string")if(S){var b=y(S.as,S.crossOrigin);u.d.m(_,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:b,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else u.d.m(_)},sa.requestFormReset=function(_){u.d.r(_)},sa.unstable_batchedUpdates=function(_,S){return _(S)},sa.useFormState=function(_,S,b){return g.H.useFormState(_,S,b)},sa.useFormStatus=function(){return g.H.useHostTransitionStatus()},sa.version="19.0.0",sa}var Fp;function I4(){if(Fp)return Cm.exports;Fp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cm.exports=P4(),Cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function j4(){if(Yp)return Nf;Yp=1;var r=p1(),t=Ag(),a=I4();function u(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var j=Symbol.for("react.client.reference");function V(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case y:return"Portal";case b:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case L:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case x:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:V(e.type)||"Memo";case C:n=e._payload,e=e._init;try{return V(e(n))}catch{}}return null}var M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,q,K;function T(e){if(q===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);q=n&&n[1]||"",K=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+e+K}var Y=!1;function P(e,n){if(!e||Y)return"";Y=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(Et){var yt=Et}Reflect.construct(e,[],Ot)}else{try{Ot.call()}catch(Et){yt=Et}e.call(Ot.prototype)}}else{try{throw Error()}catch(Et){yt=Et}(Ot=e())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(Et){if(Et&&yt&&typeof Et.stack=="string")return[Et.stack,yt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),G=v[0],Z=v[1];if(G&&Z){var tt=G.split(`
`),lt=Z.split(`
`);for(m=c=0;c<tt.length&&!tt[c].includes("DetermineComponentFrameRoot");)c++;for(;m<lt.length&&!lt[m].includes("DetermineComponentFrameRoot");)m++;if(c===tt.length||m===lt.length)for(c=tt.length-1,m=lt.length-1;1<=c&&0<=m&&tt[c]!==lt[m];)m--;for(;1<=c&&0<=m;c--,m--)if(tt[c]!==lt[m]){if(c!==1||m!==1)do if(c--,m--,0>m||tt[c]!==lt[m]){var bt=`
`+tt[c].replace(" at new "," at ");return e.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",e.displayName)),bt}while(1<=c&&0<=m);break}}}finally{Y=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?T(l):""}function X(e){switch(e.tag){case 26:case 27:case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 15:return e=P(e.type,!1),e;case 11:return e=P(e.type.render,!1),e;case 1:return e=P(e.type,!0),e;default:return""}}function $(e){try{var n="";do n+=X(e),e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function at(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function dt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Q(e){if(at(e)!==e)throw Error(u(188))}function it(e){var n=e.alternate;if(!n){if(n=at(e),n===null)throw Error(u(188));return n!==e?null:e}for(var l=e,c=n;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Q(m),e;if(v===c)return Q(m),n;v=v.sibling}throw Error(u(188))}if(l.return!==c.return)l=m,c=v;else{for(var G=!1,Z=m.child;Z;){if(Z===l){G=!0,l=m,c=v;break}if(Z===c){G=!0,c=m,l=v;break}Z=Z.sibling}if(!G){for(Z=v.child;Z;){if(Z===l){G=!0,l=v,c=m;break}if(Z===c){G=!0,c=v,l=m;break}Z=Z.sibling}if(!G)throw Error(u(189))}}if(l.alternate!==c)throw Error(u(190))}if(l.tag!==3)throw Error(u(188));return l.stateNode.current===l?e:n}function St(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=St(e),n!==null)return n;e=e.sibling}return null}var st=Array.isArray,gt=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct={pending:!1,data:null,method:null,action:null},Mt=[],et=-1;function ct(e){return{current:e}}function At(e){0>et||(e.current=Mt[et],Mt[et]=null,et--)}function Rt(e,n){et++,Mt[et]=e.current,e.current=n}var zt=ct(null),Gt=ct(null),Jt=ct(null),le=ct(null);function Yt(e,n){switch(Rt(Jt,n),Rt(Gt,e),Rt(zt,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?hp(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=hp(e),n=fp(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}At(zt),Rt(zt,n)}function je(){At(zt),At(Gt),At(Jt)}function se(e){e.memoizedState!==null&&Rt(le,e);var n=zt.current,l=fp(n,e.type);n!==l&&(Rt(Gt,e),Rt(zt,l))}function Fe(e){Gt.current===e&&(At(zt),At(Gt)),le.current===e&&(At(le),Tf._currentValue=Ct)}var di=Object.prototype.hasOwnProperty,He=r.unstable_scheduleCallback,li=r.unstable_cancelCallback,tn=r.unstable_shouldYield,Kn=r.unstable_requestPaint,en=r.unstable_now,Mi=r.unstable_getCurrentPriorityLevel,Ce=r.unstable_ImmediatePriority,qe=r.unstable_UserBlockingPriority,Qn=r.unstable_NormalPriority,ca=r.unstable_LowPriority,ji=r.unstable_IdlePriority,ha=r.log,zn=r.unstable_setDisableYieldValue,nn=null,be=null;function fa(e){if(be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(nn,e,void 0,(e.current.flags&128)===128)}catch{}}function Fi(e){if(typeof ha=="function"&&zn(e),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(nn,e)}catch{}}var Xn=Math.clz32?Math.clz32:So,js=Math.log,vo=Math.LN2;function So(e){return e>>>=0,e===0?32:31-(js(e)/vo|0)|0}var da=128,Fs=4194304;function Yi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,m=e.suspendedLanes,v=e.pingedLanes,G=e.warmLanes;e=e.finishedLanes!==0;var Z=l&134217727;return Z!==0?(l=Z&~m,l!==0?c=Yi(l):(v&=Z,v!==0?c=Yi(v):e||(G=Z&~G,G!==0&&(c=Yi(G))))):(Z=l&~m,Z!==0?c=Yi(Z):v!==0?c=Yi(v):e||(G=l&~G,G!==0&&(c=Yi(G)))),c===0?0:n!==0&&n!==c&&!(n&m)&&(m=c&-c,G=n&-n,m>=G||m===32&&(G&4194176)!==0)?n:c}function Ys(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ks(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var e=da;return da<<=1,!(da&4194176)&&(da=128),e}function Ja(){var e=Fs;return Fs<<=1,!(Fs&62914560)&&(Fs=4194304),e}function Nl(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function vn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eo(e,n,l,c,m,v){var G=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var Z=e.entanglements,tt=e.expirationTimes,lt=e.hiddenUpdates;for(l=G&~l;0<l;){var bt=31-Xn(l),Ot=1<<bt;Z[bt]=0,tt[bt]=-1;var yt=lt[bt];if(yt!==null)for(lt[bt]=null,bt=0;bt<yt.length;bt++){var Et=yt[bt];Et!==null&&(Et.lane&=-536870913)}l&=~Ot}c!==0&&_s(e,c,0),v!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=v&~(G&~n))}function _s(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Xn(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|l&4194218}function vs(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var c=31-Xn(l),m=1<<c;m&n|e[c]&n&&(e[c]|=n),l&=~m}}function Wa(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function To(){var e=gt.p;return e!==0?e:(e=window.event,e===void 0?32:Op(e.type))}function Oi(e,n){var l=gt.p;try{return gt.p=e,n()}finally{gt.p=l}}var ei=Math.random().toString(36).slice(2),bn="__reactFiber$"+ei,ue="__reactProps$"+ei,$a="__reactContainer$"+ei,Qs="__reactEvents$"+ei,Ml="__reactListeners$"+ei,ts="__reactHandles$"+ei,bo="__reactResources$"+ei,Ss="__reactMarker$"+ei;function Xs(e){delete e[bn],delete e[ue],delete e[Qs],delete e[Ml],delete e[ts]}function ma(e){var n=e[bn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[$a]||l[bn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=mp(e);e!==null;){if(l=e[bn])return l;e=mp(e)}return n}e=l,l=e.parentNode}return null}function Sn(e){if(e=e[bn]||e[$a]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ze(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(u(33))}function Na(e){var n=e[bo];return n||(n=e[bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function an(e){e[Ss]=!0}var Ol=new Set,ki={};function gi(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(ki[e]=n,e=0;e<n.length;e++)Ol.add(n[e])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},yu={};function Ao(e){return di.call(yu,e)?!0:di.call(pu,e)?!1:yc.test(e)?yu[e]=!0:(pu[e]=!0,!1)}function Zs(e,n,l){if(Ao(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Js(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Ki(e,n,l,c){if(c===null)e.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+c)}}function pi(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _c(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vc(e){var n=_c(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(G){c=""+G,v.call(this,G)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(G){c=""+G},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function wr(e){e._valueTracker||(e._valueTracker=vc(e))}function _u(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),c="";return e&&(c=_c(e)?e.checked?"true":"false":e.value),e=c,e!==l?(n.setValue(e),!0):!1}function Vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Es=/[\n"\\]/g;function mn(e){return e.replace(Es,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ws(e,n,l,c,m,v,G,Z){e.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?e.type=G:e.removeAttribute("type"),n!=null?G==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+pi(n)):e.value!==""+pi(n)&&(e.value=""+pi(n)):G!=="submit"&&G!=="reset"||e.removeAttribute("value"),n!=null?xl(e,G,pi(n)):l!=null?xl(e,G,pi(l)):c!=null&&e.removeAttribute("value"),m==null&&v!=null&&(e.defaultChecked=!!v),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?e.name=""+pi(Z):e.removeAttribute("name")}function Ur(e,n,l,c,m,v,G,Z){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||n!=null))return;l=l!=null?""+pi(l):"",n=n!=null?""+pi(n):l,Z||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=Z?e.checked:!!c,e.defaultChecked=!!c,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(e.name=G)}function xl(e,n,l){n==="number"&&Vr(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function xe(e,n,l,c){if(e=e.options,n){n={};for(var m=0;m<l.length;m++)n["$"+l[m]]=!0;for(l=0;l<e.length;l++)m=n.hasOwnProperty("$"+e[l].value),e[l].selected!==m&&(e[l].selected=m),m&&c&&(e[l].defaultSelected=!0)}else{for(l=""+pi(l),n=null,m=0;m<e.length;m++){if(e[m].value===l){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function zr(e,n,l){if(n!=null&&(n=""+pi(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+pi(l):""}function pa(e,n,l,c){if(n==null){if(c!=null){if(l!=null)throw Error(u(92));if(st(c)){if(1<c.length)throw Error(u(93));c=c[0]}l=c}l==null&&(l=""),n=l}l=pi(n),e.defaultValue=l,c=e.textContent,c===l&&c!==""&&c!==null&&(e.value=c)}function ya(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Br(e,n,l){var c=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,l):typeof l!="number"||l===0||vu.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Co(e,n,l){if(n!=null&&typeof n!="object")throw Error(u(62));if(e=e.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&l[m]!==c&&Br(e,m,c)}else for(var v in n)n.hasOwnProperty(v)&&Br(e,v,n[v])}function wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ec=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(e){return Ec.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _a=null;function Lr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,bs=null;function ns(e){var n=Sn(e);if(n&&(e=n.stateNode)){var l=e[ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ws(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var c=l[n];if(c!==e&&c.form===e.form){var m=c[ue]||null;if(!m)throw Error(u(90));Ws(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<l.length;n++)c=l[n],c.form===e.form&&_u(c)}break t;case"textarea":zr(e,l.value,l.defaultValue);break t;case"select":n=l.value,n!=null&&xe(e,!!l.multiple,n,!1)}}}var Su=!1;function Ro(e,n,l){if(Su)return e(n,l);Su=!0;try{var c=e(n);return c}finally{if(Su=!1,(Ts!==null||bs!==null)&&(su(),Ts&&(n=Ts,e=bs,bs=Ts=null,ns(n),e)))for(n=0;n<e.length;n++)ns(e[n])}}function Gr(e,n){var l=e.stateNode;if(l===null)return null;var c=l[ue]||null;if(c===null)return null;l=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(u(231,n,typeof l));return l}var Qi=!1;if(xi)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Qi=!1}var is=null,qr=null,$s=null;function Eu(){if($s)return $s;var e,n=qr,l=n.length,c,m="value"in is?is.value:is.textContent,v=m.length;for(e=0;e<l&&n[e]===m[e];e++);var G=l-e;for(c=1;c<=G&&n[l-c]===m[v-c];c++);return $s=m.slice(e,1<c?1-c:void 0)}function Xi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ma(){return!0}function Pr(){return!1}function Zn(e){function n(l,c,m,v,G){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=G,this.currentTarget=null;for(var Z in e)e.hasOwnProperty(Z)&&(l=e[Z],this[Z]=l?l(v):v[Z]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ma:Pr,this.isPropagationStopped=Pr,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),n}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ir=Zn(Be),jr=w({},Be,{view:0,detail:0}),Do=Zn(jr),Oa,tr,as,er=w({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(Oa=e.screenX-as.screenX,tr=e.screenY-as.screenY):tr=Oa=0,as=e),Oa)},movementY:function(e){return"movementY"in e?e.movementY:tr}}),va=Zn(er),No=w({},er,{dataTransfer:0}),Dh=Zn(No),pn=w({},jr,{relatedTarget:0}),Vl=Zn(pn),Tu=w({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),Ul=Zn(Tu),Mo=w({},Be,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zl=Zn(Mo),Bl=w({},Be,{data:0}),Ll=Zn(Bl),Fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xo[e])?!!n[e]:!1}function nr(){return Gl}var wo=w({},jr,{key:function(e){if(e.key){var n=Fr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Oo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yr=Zn(wo),bu=w({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=Zn(bu),As=w({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),Au=Zn(As),Vo=w({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),xa=Zn(Vo),Cu=w({},er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ru=Zn(Cu),yi=w({},Be,{newState:0,oldState:0}),ss=Zn(yi),wa=[9,13,27,32],Va=xi&&"CompositionEvent"in window,d=null;xi&&"documentMode"in document&&(d=document.documentMode);var A=xi&&"TextEvent"in window&&!d,B=xi&&(!Va||d&&8<d&&11>=d),W=" ",ut=!1;function vt(e,n){switch(e){case"keyup":return wa.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _e=!1;function yn(e,n){switch(e){case"compositionend":return Bt(n);case"keypress":return n.which!==32?null:(ut=!0,W);case"textInput":return e=n.data,e===W&&ut?null:e;default:return null}}function ve(e,n){if(_e)return e==="compositionend"||!Va&&vt(e,n)?(e=Eu(),$s=qr=is=null,_e=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return B&&n.locale!=="ko"?null:n.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!An[e.type]:n==="textarea"}function Cn(e,n,l,c){Ts?bs?bs.push(c):bs=[c]:Ts=c,n=B0(n,"onChange"),0<n.length&&(l=new Ir("onChange","change",null,l,c),e.push({event:l,listeners:n}))}var ni=null,Ua=null;function Du(e){rp(e,0)}function Uo(e){var n=Ze(e);if(_u(n))return e}function Tc(e,n){if(e==="change")return n}var bc=!1;if(xi){var Ac;if(xi){var Nu="oninput"in document;if(!Nu){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),Nu=typeof Mu.oninput=="function"}Ac=Nu}else Ac=!1;bc=Ac&&(!document.documentMode||9<document.documentMode)}function hn(){ni&&(ni.detachEvent("onpropertychange",Gd),Ua=ni=null)}function Gd(e){if(e.propertyName==="value"&&Uo(Ua)){var n=[];Cn(n,Ua,e,Lr(e)),Ro(Du,n)}}function Pg(e,n,l){e==="focusin"?(hn(),ni=n,Ua=l,ni.attachEvent("onpropertychange",Gd)):e==="focusout"&&hn()}function Hd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uo(Ua)}function zo(e,n){if(e==="click")return Uo(n)}function kr(e,n){if(e==="input"||e==="change")return Uo(n)}function qd(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Zi=typeof Object.is=="function"?Object.is:qd;function rs(e,n){if(Zi(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!di.call(n,m)||!Zi(e[m],n[m]))return!1}return!0}function Ji(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nh(e,n){var l=Ji(e);e=0;for(var c;l;){if(l.nodeType===3){if(c=e+l.textContent.length,e<=n&&c>=n)return{node:l,offset:n-e};e=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Ji(l)}}function Mh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Oh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Vr(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Vr(e.document)}return n}function Bo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function xh(e,n){var l=Oh(n);n=e.focusedElem;var c=e.selectionRange;if(l!==n&&n&&n.ownerDocument&&Mh(n.ownerDocument.documentElement,n)){if(c!==null&&Bo(n)){if(e=c.start,l=c.end,l===void 0&&(l=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(l,n.value.length);else if(l=(e=n.ownerDocument||document)&&e.defaultView||window,l.getSelection){l=l.getSelection();var m=n.textContent.length,v=Math.min(c.start,m);c=c.end===void 0?v:Math.min(c.end,m),!l.extend&&v>c&&(m=c,c=v,v=m),m=Nh(n,v);var G=Nh(n,c);m&&G&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==G.node||l.focusOffset!==G.offset)&&(e=e.createRange(),e.setStart(m.node,m.offset),l.removeAllRanges(),v>c?(l.addRange(e),l.extend(G.node,G.offset)):(e.setEnd(G.node,G.offset),l.addRange(e)))}}for(e=[],l=n;l=l.parentNode;)l.nodeType===1&&e.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)l=e[n],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Cc=xi&&"documentMode"in document&&11>=document.documentMode,ql=null,wh=null,Ou=null,Rc=!1;function za(e,n,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rc||ql==null||ql!==Vr(c)||(c=ql,"selectionStart"in c&&Bo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ou&&rs(Ou,c)||(Ou=c,c=B0(wh,"onSelect"),0<c.length&&(n=new Ir("onSelect","select",null,n,l),e.push({event:n,listeners:c}),n.target=ql)))}function ir(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Pl={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},Vh={},Dc={};xi&&(Dc=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Ln(e){if(Vh[e])return Vh[e];if(!Pl[e])return e;var n=Pl[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Dc)return Vh[e]=n[l];return e}var Uh=Ln("animationend"),Wi=Ln("animationiteration"),zh=Ln("animationstart"),ar=Ln("transitionrun"),xu=Ln("transitionstart"),Kr=Ln("transitioncancel"),Nc=Ln("transitionend"),Mc=new Map,sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ba(e,n){Mc.set(e,n),gi(n,[e])}var ui=[],Cs=0,rr=0;function Lo(){for(var e=Cs,n=rr=Cs=0;n<e;){var l=ui[n];ui[n++]=null;var c=ui[n];ui[n++]=null;var m=ui[n];ui[n++]=null;var v=ui[n];if(ui[n++]=null,c!==null&&m!==null){var G=c.pending;G===null?m.next=m:(m.next=G.next,G.next=m),c.pending=m}v!==0&&Ho(l,m,v)}}function Go(e,n,l,c){ui[Cs++]=e,ui[Cs++]=n,ui[Cs++]=l,ui[Cs++]=c,rr|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Il(e,n,l,c){return Go(e,n,l,c),qo(e)}function lr(e,n){return Go(e,null,null,n),qo(e)}function Ho(e,n,l){e.lanes|=l;var c=e.alternate;c!==null&&(c.lanes|=l);for(var m=!1,v=e.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(m=!0)),e=v,v=v.return;m&&n!==null&&e.tag===3&&(v=e.stateNode,m=31-Xn(l),v=v.hiddenUpdates,e=v[m],e===null?v[m]=[n]:e.push(n),n.lane=l|536870912)}function qo(e){if(50<ka)throw ka=0,Nr=null,Error(u(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Qr={},Oc=new WeakMap;function $i(e,n){if(typeof e=="object"&&e!==null){var l=Oc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:$(n)},Oc.set(e,n),n)}return{value:e,source:n,stack:$(n)}}var jl=[],Xr=0,_i=null,Po=0,sn=[],Sa=0,ur=null,Rs=1,or="";function wi(e,n){jl[Xr++]=Po,jl[Xr++]=_i,_i=e,Po=n}function Bh(e,n,l){sn[Sa++]=Rs,sn[Sa++]=or,sn[Sa++]=ur,ur=e;var c=Rs;e=or;var m=32-Xn(c)-1;c&=~(1<<m),l+=1;var v=32-Xn(n)+m;if(30<v){var G=m-m%5;v=(c&(1<<G)-1).toString(32),c>>=G,m-=G,Rs=1<<32-Xn(n)+m|l<<m|c,or=v+e}else Rs=1<<v|l<<m|c,or=e}function Io(e){e.return!==null&&(wi(e,1),Bh(e,1,0))}function Zr(e){for(;e===_i;)_i=jl[--Xr],jl[Xr]=null,Po=jl[--Xr],jl[Xr]=null;for(;e===ur;)ur=sn[--Sa],sn[Sa]=null,or=sn[--Sa],sn[Sa]=null,Rs=sn[--Sa],sn[Sa]=null}var vi=null,ii=null,De=!1,La=null,Ga=!1,jo=Error(u(519));function Fl(e){var n=Error(u(418,""));throw Ds($i(n,e)),jo}function Pd(e){var n=e.stateNode,l=e.type,c=e.memoizedProps;switch(n[bn]=e,n[ue]=c,l){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(l=0;l<yf.length;l++)Me(yf[l],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),Ur(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),wr(n);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),pa(n,c.value,c.defaultValue,c.children),wr(n)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||c.suppressHydrationWarning===!0||cp(n.textContent,l)?(c.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),c.onScroll!=null&&Me("scroll",n),c.onScrollEnd!=null&&Me("scrollend",n),c.onClick!=null&&(n.onclick=L0),n=!0):n=!1,n||Fl(e)}function Id(e){for(vi=e.return;vi;)switch(vi.tag){case 3:case 27:Ga=!0;return;case 5:case 13:Ga=!1;return;default:vi=vi.return}}function wu(e){if(e!==vi)return!1;if(!De)return Id(e),De=!0,!1;var n=!1,l;if((l=e.tag!==3&&e.tag!==27)&&((l=e.tag===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||lm(e.type,e.memoizedProps)),l=!l),l&&(n=!0),n&&ii&&Fl(e),Id(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(n===0){ii=Or(e.nextSibling);break t}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;e=e.nextSibling}ii=null}}else ii=vi?Or(e.stateNode.nextSibling):null;return!0}function Vu(){ii=vi=null,De=!1}function Ds(e){La===null?La=[e]:La.push(e)}var Jr=Error(u(460)),Lh=Error(u(474)),xc={then:function(){}};function jd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fo(){}function Wr(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Fo,Fo),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Jr?Error(u(483)):e;default:if(typeof n.status=="string")n.then(Fo,Fo);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Jr?Error(u(483)):e}throw Uu=n,Jr}}var Uu=null;function Le(){if(Uu===null)throw Error(u(459));var e=Uu;return Uu=null,e}var $r=null,Yo=0;function ko(e){var n=Yo;return Yo+=1,$r===null&&($r=[]),Wr($r,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wc(e,n){throw n.$$typeof===f?Error(u(525)):(e=Object.prototype.toString.call(n),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fd(e){var n=e._init;return n(e._payload)}function Yd(e){function n(ht,rt){if(e){var mt=ht.deletions;mt===null?(ht.deletions=[rt],ht.flags|=16):mt.push(rt)}}function l(ht,rt){if(!e)return null;for(;rt!==null;)n(ht,rt),rt=rt.sibling;return null}function c(ht){for(var rt=new Map;ht!==null;)ht.key!==null?rt.set(ht.key,ht):rt.set(ht.index,ht),ht=ht.sibling;return rt}function m(ht,rt){return ht=Bi(ht,rt),ht.index=0,ht.sibling=null,ht}function v(ht,rt,mt){return ht.index=mt,e?(mt=ht.alternate,mt!==null?(mt=mt.index,mt<rt?(ht.flags|=33554434,rt):mt):(ht.flags|=33554434,rt)):(ht.flags|=1048576,rt)}function G(ht){return e&&ht.alternate===null&&(ht.flags|=33554434),ht}function Z(ht,rt,mt,Dt){return rt===null||rt.tag!==6?(rt=Pn(mt,ht.mode,Dt),rt.return=ht,rt):(rt=m(rt,mt),rt.return=ht,rt)}function tt(ht,rt,mt,Dt){var qt=mt.type;return qt===_?bt(ht,rt,mt.props.children,Dt,mt.key):rt!==null&&(rt.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===C&&Fd(qt)===rt.type)?(rt=m(rt,mt.props),Ko(rt,mt),rt.return=ht,rt):(rt=Xu(mt.type,mt.key,mt.props,null,ht.mode,Dt),Ko(rt,mt),rt.return=ht,rt)}function lt(ht,rt,mt,Dt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==mt.containerInfo||rt.stateNode.implementation!==mt.implementation?(rt=sc(mt,ht.mode,Dt),rt.return=ht,rt):(rt=m(rt,mt.children||[]),rt.return=ht,rt)}function bt(ht,rt,mt,Dt,qt){return rt===null||rt.tag!==7?(rt=_l(mt,ht.mode,Dt,qt),rt.return=ht,rt):(rt=m(rt,mt),rt.return=ht,rt)}function Ot(ht,rt,mt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=Pn(""+rt,ht.mode,mt),rt.return=ht,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case g:return mt=Xu(rt.type,rt.key,rt.props,null,ht.mode,mt),Ko(mt,rt),mt.return=ht,mt;case y:return rt=sc(rt,ht.mode,mt),rt.return=ht,rt;case C:var Dt=rt._init;return rt=Dt(rt._payload),Ot(ht,rt,mt)}if(st(rt)||k(rt))return rt=_l(rt,ht.mode,mt,null),rt.return=ht,rt;if(typeof rt.then=="function")return Ot(ht,ko(rt),mt);if(rt.$$typeof===D)return Ot(ht,Xc(ht,rt),mt);wc(ht,rt)}return null}function yt(ht,rt,mt,Dt){var qt=rt!==null?rt.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return qt!==null?null:Z(ht,rt,""+mt,Dt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case g:return mt.key===qt?tt(ht,rt,mt,Dt):null;case y:return mt.key===qt?lt(ht,rt,mt,Dt):null;case C:return qt=mt._init,mt=qt(mt._payload),yt(ht,rt,mt,Dt)}if(st(mt)||k(mt))return qt!==null?null:bt(ht,rt,mt,Dt,null);if(typeof mt.then=="function")return yt(ht,rt,ko(mt),Dt);if(mt.$$typeof===D)return yt(ht,rt,Xc(ht,mt),Dt);wc(ht,mt)}return null}function Et(ht,rt,mt,Dt,qt){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return ht=ht.get(mt)||null,Z(rt,ht,""+Dt,qt);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case g:return ht=ht.get(Dt.key===null?mt:Dt.key)||null,tt(rt,ht,Dt,qt);case y:return ht=ht.get(Dt.key===null?mt:Dt.key)||null,lt(rt,ht,Dt,qt);case C:var Ee=Dt._init;return Dt=Ee(Dt._payload),Et(ht,rt,mt,Dt,qt)}if(st(Dt)||k(Dt))return ht=ht.get(mt)||null,bt(rt,ht,Dt,qt,null);if(typeof Dt.then=="function")return Et(ht,rt,mt,ko(Dt),qt);if(Dt.$$typeof===D)return Et(ht,rt,mt,Xc(rt,Dt),qt);wc(rt,Dt)}return null}function It(ht,rt,mt,Dt){for(var qt=null,Ee=null,jt=rt,Zt=rt=0,Ri=null;jt!==null&&Zt<mt.length;Zt++){jt.index>Zt?(Ri=jt,jt=null):Ri=jt.sibling;var Ge=yt(ht,jt,mt[Zt],Dt);if(Ge===null){jt===null&&(jt=Ri);break}e&&jt&&Ge.alternate===null&&n(ht,jt),rt=v(Ge,rt,Zt),Ee===null?qt=Ge:Ee.sibling=Ge,Ee=Ge,jt=Ri}if(Zt===mt.length)return l(ht,jt),De&&wi(ht,Zt),qt;if(jt===null){for(;Zt<mt.length;Zt++)jt=Ot(ht,mt[Zt],Dt),jt!==null&&(rt=v(jt,rt,Zt),Ee===null?qt=jt:Ee.sibling=jt,Ee=jt);return De&&wi(ht,Zt),qt}for(jt=c(jt);Zt<mt.length;Zt++)Ri=Et(jt,ht,Zt,mt[Zt],Dt),Ri!==null&&(e&&Ri.alternate!==null&&jt.delete(Ri.key===null?Zt:Ri.key),rt=v(Ri,rt,Zt),Ee===null?qt=Ri:Ee.sibling=Ri,Ee=Ri);return e&&jt.forEach(function(ao){return n(ht,ao)}),De&&wi(ht,Zt),qt}function ie(ht,rt,mt,Dt){if(mt==null)throw Error(u(151));for(var qt=null,Ee=null,jt=rt,Zt=rt=0,Ri=null,Ge=mt.next();jt!==null&&!Ge.done;Zt++,Ge=mt.next()){jt.index>Zt?(Ri=jt,jt=null):Ri=jt.sibling;var ao=yt(ht,jt,Ge.value,Dt);if(ao===null){jt===null&&(jt=Ri);break}e&&jt&&ao.alternate===null&&n(ht,jt),rt=v(ao,rt,Zt),Ee===null?qt=ao:Ee.sibling=ao,Ee=ao,jt=Ri}if(Ge.done)return l(ht,jt),De&&wi(ht,Zt),qt;if(jt===null){for(;!Ge.done;Zt++,Ge=mt.next())Ge=Ot(ht,Ge.value,Dt),Ge!==null&&(rt=v(Ge,rt,Zt),Ee===null?qt=Ge:Ee.sibling=Ge,Ee=Ge);return De&&wi(ht,Zt),qt}for(jt=c(jt);!Ge.done;Zt++,Ge=mt.next())Ge=Et(jt,ht,Zt,Ge.value,Dt),Ge!==null&&(e&&Ge.alternate!==null&&jt.delete(Ge.key===null?Zt:Ge.key),rt=v(Ge,rt,Zt),Ee===null?qt=Ge:Ee.sibling=Ge,Ee=Ge);return e&&jt.forEach(function(B4){return n(ht,B4)}),De&&wi(ht,Zt),qt}function Fn(ht,rt,mt,Dt){if(typeof mt=="object"&&mt!==null&&mt.type===_&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case g:t:{for(var qt=mt.key;rt!==null;){if(rt.key===qt){if(qt=mt.type,qt===_){if(rt.tag===7){l(ht,rt.sibling),Dt=m(rt,mt.props.children),Dt.return=ht,ht=Dt;break t}}else if(rt.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===C&&Fd(qt)===rt.type){l(ht,rt.sibling),Dt=m(rt,mt.props),Ko(Dt,mt),Dt.return=ht,ht=Dt;break t}l(ht,rt);break}else n(ht,rt);rt=rt.sibling}mt.type===_?(Dt=_l(mt.props.children,ht.mode,Dt,mt.key),Dt.return=ht,ht=Dt):(Dt=Xu(mt.type,mt.key,mt.props,null,ht.mode,Dt),Ko(Dt,mt),Dt.return=ht,ht=Dt)}return G(ht);case y:t:{for(qt=mt.key;rt!==null;){if(rt.key===qt)if(rt.tag===4&&rt.stateNode.containerInfo===mt.containerInfo&&rt.stateNode.implementation===mt.implementation){l(ht,rt.sibling),Dt=m(rt,mt.children||[]),Dt.return=ht,ht=Dt;break t}else{l(ht,rt);break}else n(ht,rt);rt=rt.sibling}Dt=sc(mt,ht.mode,Dt),Dt.return=ht,ht=Dt}return G(ht);case C:return qt=mt._init,mt=qt(mt._payload),Fn(ht,rt,mt,Dt)}if(st(mt))return It(ht,rt,mt,Dt);if(k(mt)){if(qt=k(mt),typeof qt!="function")throw Error(u(150));return mt=qt.call(mt),ie(ht,rt,mt,Dt)}if(typeof mt.then=="function")return Fn(ht,rt,ko(mt),Dt);if(mt.$$typeof===D)return Fn(ht,rt,Xc(ht,mt),Dt);wc(ht,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint"?(mt=""+mt,rt!==null&&rt.tag===6?(l(ht,rt.sibling),Dt=m(rt,mt),Dt.return=ht,ht=Dt):(l(ht,rt),Dt=Pn(mt,ht.mode,Dt),Dt.return=ht,ht=Dt),G(ht)):l(ht,rt)}return function(ht,rt,mt,Dt){try{Yo=0;var qt=Fn(ht,rt,mt,Dt);return $r=null,qt}catch(jt){if(jt===Jr)throw jt;var Ee=wn(29,jt,null,ht.mode);return Ee.lanes=Dt,Ee.return=ht,Ee}finally{}}}var cr=Yd(!0),hr=Yd(!1),Yl=ct(null),kl=ct(0);function tl(e,n){e=Dr,Rt(kl,e),Rt(Yl,n),Dr=e|n.baseLanes}function Vc(){Rt(kl,Dr),Rt(Yl,Yl.current)}function Qo(){Dr=kl.current,At(Yl),At(kl)}var ta=ct(null),Ns=null;function fr(e){var n=e.alternate;Rt(Gn,Gn.current&1),Rt(ta,e),Ns===null&&(n===null||Yl.current!==null||n.memoizedState!==null)&&(Ns=e)}function Gh(e){if(e.tag===22){if(Rt(Gn,Gn.current),Rt(ta,e),Ns===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ns=e)}}else dr()}function dr(){Rt(Gn,Gn.current),Rt(ta,ta.current)}function Ms(e){At(ta),Ns===e&&(Ns=null),At(Gn)}var Gn=ct(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ge=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Ig=r.unstable_scheduleCallback,Ea=r.unstable_NormalPriority,Rn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new ge,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&Ig(Ea,function(){e.controller.abort()})}var Os=null,nl=0,Kl=0,il=null;function jg(e,n){if(Os===null){var l=Os=[];nl=0,Kl=Wg(),il={status:"pending",value:void 0,then:function(c){l.push(c)}}}return nl++,n.then(qh,qh),n}function qh(){if(--nl===0&&Os!==null){il!==null&&(il.status="fulfilled");var e=Os;Os=null,Kl=0,il=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function al(e,n){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<l.length;m++)(0,l[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var Uc=M.S;M.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&jg(e,n),Uc!==null&&Uc(e,n)};var gr=ct(null);function Xo(){var e=gr.current;return e!==null?e:ke.pooledCache}function Bu(e,n){n===null?Rt(gr,gr.current):Rt(gr,n.pool)}function mr(){var e=Xo();return e===null?null:{parent:Rn._currentValue,pool:e}}var pr=0,oe=null,Pe=null,Hn=null,Xt=!1,sl=!1,rl=!1,Lu=0,ll=0,Gu=null,Fg=0;function En(){throw Error(u(321))}function Ql(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Zi(e[l],n[l]))return!1;return!0}function Ph(e,n,l,c,m,v){return pr=v,oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?ol:_r,rl=!1,v=l(c,m),rl=!1,sl&&(v=Kd(n,l,c,m)),kd(e),v}function kd(e){M.H=ws;var n=Pe!==null&&Pe.next!==null;if(pr=0,Hn=Pe=oe=null,Xt=!1,ll=0,Gu=null,n)throw Error(u(300));e===null||Jn||(e=e.dependencies,e!==null&&ju(e)&&(Jn=!0))}function Kd(e,n,l,c){oe=e;var m=0;do{if(sl&&(Gu=null),ll=0,sl=!1,25<=m)throw Error(u(301));if(m+=1,Hn=Pe=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}M.H=Jl,v=n(l,c)}while(sl);return v}function Yg(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(oe.flags|=1024),n}function Ih(){var e=Lu!==0;return Lu=0,e}function Zo(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function zc(e){if(Xt){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xt=!1}pr=0,Hn=Pe=oe=null,sl=!1,ll=Lu=0,Gu=null}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?oe.memoizedState=Hn=e:Hn=Hn.next=e,Hn}function Dn(){if(Pe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var n=Hn===null?oe.memoizedState:Hn.next;if(n!==null)Hn=n,Pe=e;else{if(e===null)throw oe.alternate===null?Error(u(467)):Error(u(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Hn===null?oe.memoizedState=Hn=e:Hn=Hn.next=e}return Hn}var Bc;Bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Jo(e){var n=ll;return ll+=1,Gu===null&&(Gu=[]),e=Wr(Gu,e,n),n=oe,(Hn===null?n.memoizedState:Hn.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?ol:_r),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===D)return Si(e)}throw Error(u(438,String(e)))}function ls(e){var n=null,l=oe.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var c=oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Bc(),oe.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),c=0;c<e;c++)l[c]=H;return n.index++,l}function fn(e,n){return typeof n=="function"?n(e):n}function us(e){var n=Dn();return ea(n,Pe,e)}function ea(e,n,l){var c=e.queue;if(c===null)throw Error(u(311));c.lastRenderedReducer=l;var m=e.baseQueue,v=c.pending;if(v!==null){if(m!==null){var G=m.next;m.next=v.next,v.next=G}n.baseQueue=m=v,c.pending=null}if(v=e.baseState,m===null)e.memoizedState=v;else{n=m.next;var Z=G=null,tt=null,lt=n,bt=!1;do{var Ot=lt.lane&-536870913;if(Ot!==lt.lane?(Ft&Ot)===Ot:(pr&Ot)===Ot){var yt=lt.revertLane;if(yt===0)tt!==null&&(tt=tt.next={lane:0,revertLane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),Ot===Kl&&(bt=!0);else if((pr&yt)===yt){lt=lt.next,yt===Kl&&(bt=!0);continue}else Ot={lane:0,revertLane:lt.revertLane,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},tt===null?(Z=tt=Ot,G=v):tt=tt.next=Ot,oe.lanes|=yt,ms|=yt;Ot=lt.action,rl&&l(v,Ot),v=lt.hasEagerState?lt.eagerState:l(v,Ot)}else yt={lane:Ot,revertLane:lt.revertLane,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},tt===null?(Z=tt=yt,G=v):tt=tt.next=yt,oe.lanes|=Ot,ms|=Ot;lt=lt.next}while(lt!==null&&lt!==n);if(tt===null?G=v:tt.next=Z,!Zi(v,e.memoizedState)&&(Jn=!0,bt&&(l=il,l!==null)))throw l;e.memoizedState=v,e.baseState=G,e.baseQueue=tt,c.lastRenderedState=v}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Lc(e){var n=Dn(),l=n.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=e;var c=l.dispatch,m=l.pending,v=n.memoizedState;if(m!==null){l.pending=null;var G=m=m.next;do v=e(v,G.action),G=G.next;while(G!==m);Zi(v,n.memoizedState)||(Jn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),l.lastRenderedState=v}return[v,c]}function Qd(e,n,l){var c=oe,m=Dn(),v=De;if(v){if(l===void 0)throw Error(u(407));l=l()}else l=n();var G=!Zi((Pe||m).memoizedState,l);if(G&&(m.memoizedState=l,Jn=!0),m=m.queue,kh(Xd.bind(null,c,m,e),[e]),m.getSnapshot!==n||G||Hn!==null&&Hn.memoizedState.tag&1){if(c.flags|=2048,xs(9,ul.bind(null,c,m,l,n),{destroy:void 0},null),ke===null)throw Error(u(349));v||pr&60||Vi(c,n,l)}return l}function Vi(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=oe.updateQueue,n===null?(n=Bc(),oe.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function ul(e,n,l,c){n.value=l,n.getSnapshot=c,Zd(n)&&Jd(e)}function Xd(e,n,l){return l(function(){Zd(n)&&Jd(e)})}function Zd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Zi(e,l)}catch{return!0}}function Jd(e){var n=lr(e,2);n!==null&&jn(n,e,2)}function jh(e){var n=oi();if(typeof e=="function"){var l=e;if(e=l(),rl){Fi(!0);try{l()}finally{Fi(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},n}function Fh(e,n,l,c){return e.baseState=l,ea(e,Pe,typeof c=="function"?c:fn)}function kg(e,n,l,c,m){if(Ic(e))throw Error(u(485));if(e=n.action,e!==null){var v={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){v.listeners.push(G)}};M.T!==null?l(!0):v.isTransition=!1,c(v),l=n.pending,l===null?(v.next=n.pending=v,Yh(n,v)):(v.next=l.next,n.pending=l.next=v)}}function Yh(e,n){var l=n.action,c=n.payload,m=e.state;if(n.isTransition){var v=M.T,G={};M.T=G;try{var Z=l(m,c),tt=M.S;tt!==null&&tt(G,Z),Wd(e,n,Z)}catch(lt){yr(e,n,lt)}finally{M.T=v}}else try{v=l(m,c),Wd(e,n,v)}catch(lt){yr(e,n,lt)}}function Wd(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Xl(e,n,c)},function(c){return yr(e,n,c)}):Xl(e,n,l)}function Xl(e,n,l){n.status="fulfilled",n.value=l,$d(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Yh(e,l)))}function yr(e,n,l){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=l,$d(n),n=n.next;while(n!==c)}e.action=null}function $d(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function t0(e,n){return n}function e0(e,n){if(De){var l=ke.formState;if(l!==null){t:{var c=oe;if(De){if(ii){e:{for(var m=ii,v=Ga;m.nodeType!==8;){if(!v){m=null;break e}if(m=Or(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){ii=Or(m.nextSibling),c=m.data==="F!";break t}}Fl(c)}c=!1}c&&(n=l[0])}}return l=oi(),l.memoizedState=l.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:n},l.queue=c,l=Zh.bind(null,oe,c),c.dispatch=l,c=jh(!1),v=Wo.bind(null,oe,!1,c.queue),c=oi(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,l=kg.bind(null,oe,m,v,l),m.dispatch=l,c.memoizedState=e,[n,l,!1]}function qu(e){var n=Dn();return n0(n,Pe,e)}function n0(e,n,l){n=ea(e,n,t0)[0],e=us(fn)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Jo(n):n;var c=Dn(),m=c.queue,v=m.dispatch;return l!==c.memoizedState&&(oe.flags|=2048,xs(9,Kg.bind(null,m,l),{destroy:void 0},null)),[n,v,e]}function Kg(e,n){e.action=n}function i0(e){var n=Dn(),l=Pe;if(l!==null)return n0(n,l,e);Dn(),n=n.memoizedState,l=Dn();var c=l.queue.dispatch;return l.memoizedState=e,[n,c,!1]}function xs(e,n,l,c){return e={tag:e,create:n,inst:l,deps:c,next:null},n=oe.updateQueue,n===null&&(n=Bc(),oe.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(c=l.next,l.next=e,e.next=c,n.lastEffect=e),e}function a0(){return Dn().memoizedState}function Gc(e,n,l,c){var m=oi();oe.flags|=e,m.memoizedState=xs(1|n,l,{destroy:void 0},c===void 0?null:c)}function Hc(e,n,l,c){var m=Dn();c=c===void 0?null:c;var v=m.memoizedState.inst;Pe!==null&&c!==null&&Ql(c,Pe.memoizedState.deps)?m.memoizedState=xs(n,l,v,c):(oe.flags|=e,m.memoizedState=xs(1|n,l,v,c))}function s0(e,n){Gc(8390656,8,e,n)}function kh(e,n){Hc(2048,8,e,n)}function r0(e,n){return Hc(4,2,e,n)}function l0(e,n){return Hc(4,4,e,n)}function u0(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function o0(e,n,l){l=l!=null?l.concat([e]):null,Hc(4,4,u0.bind(null,n,e),l)}function Kh(){}function c0(e,n){var l=Dn();n=n===void 0?null:n;var c=l.memoizedState;return n!==null&&Ql(n,c[1])?c[0]:(l.memoizedState=[e,n],e)}function h0(e,n){var l=Dn();n=n===void 0?null:n;var c=l.memoizedState;if(n!==null&&Ql(n,c[1]))return c[0];if(c=e(),rl){Fi(!0);try{e()}finally{Fi(!1)}}return l.memoizedState=[c,n],c}function qc(e,n,l){return l===void 0||pr&1073741824?e.memoizedState=n:(e.memoizedState=l,e=Ra(),oe.lanes|=e,ms|=e,l)}function f0(e,n,l,c){return Zi(l,n)?l:Yl.current!==null?(e=qc(e,l,c),Zi(e,n)||(Jn=!0),e):pr&42?(e=Ra(),oe.lanes|=e,ms|=e,n):(Jn=!0,e.memoizedState=l)}function d0(e,n,l,c,m){var v=gt.p;gt.p=v!==0&&8>v?v:8;var G=M.T,Z={};M.T=Z,Wo(e,!1,n,l);try{var tt=m(),lt=M.S;if(lt!==null&&lt(Z,tt),tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var bt=al(tt,c);Zl(e,n,bt,Gi(e))}else Zl(e,n,c,Gi(e))}catch(Ot){Zl(e,n,{then:function(){},status:"rejected",reason:Ot},Gi())}finally{gt.p=v,M.T=G}}function Qg(){}function Qh(e,n,l,c){if(e.tag!==5)throw Error(u(476));var m=g0(e).queue;d0(e,m,n,Ct,l===null?Qg:function(){return m0(e),l(c)})}function g0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ct,baseState:Ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:Ct},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function m0(e){var n=g0(e).next.queue;Zl(e,n,{},Gi())}function Pc(){return Si(Tf)}function Xh(){return Dn().memoizedState}function p0(){return Dn().memoizedState}function y0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Gi();e=Aa(l);var c=Ca(n,e,l);c!==null&&(jn(c,n,l),fl(c,n,l)),n={cache:Hh()},e.payload=n;return}n=n.return}}function _0(e,n,l){var c=Gi();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ic(e)?v0(n,l):(l=Il(e,n,l,c),l!==null&&(jn(l,e,c),S0(l,n,c)))}function Zh(e,n,l){var c=Gi();Zl(e,n,l,c)}function Zl(e,n,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ic(e))v0(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var G=n.lastRenderedState,Z=v(G,l);if(m.hasEagerState=!0,m.eagerState=Z,Zi(Z,G))return Go(e,n,m,0),ke===null&&Lo(),!1}catch{}finally{}if(l=Il(e,n,m,c),l!==null)return jn(l,e,c),S0(l,n,c),!0}return!1}function Wo(e,n,l,c){if(c={lane:2,revertLane:Wg(),action:c,hasEagerState:!1,eagerState:null,next:null},Ic(e)){if(n)throw Error(u(479))}else n=Il(e,l,c,2),n!==null&&jn(n,e,2)}function Ic(e){var n=e.alternate;return e===oe||n!==null&&n===oe}function v0(e,n){sl=Xt=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function S0(e,n,l){if(l&4194176){var c=n.lanes;c&=e.pendingLanes,l|=c,n.lanes=l,vs(e,l)}}var ws={readContext:Si,use:Hu,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En};ws.useCacheRefresh=En,ws.useMemoCache=En,ws.useHostTransitionStatus=En,ws.useFormState=En,ws.useActionState=En,ws.useOptimistic=En;var ol={readContext:Si,use:Hu,useCallback:function(e,n){return oi().memoizedState=[e,n===void 0?null:n],e},useContext:Si,useEffect:s0,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Gc(4194308,4,u0.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Gc(4194308,4,e,n)},useInsertionEffect:function(e,n){Gc(4,2,e,n)},useMemo:function(e,n){var l=oi();n=n===void 0?null:n;var c=e();if(rl){Fi(!0);try{e()}finally{Fi(!1)}}return l.memoizedState=[c,n],c},useReducer:function(e,n,l){var c=oi();if(l!==void 0){var m=l(n);if(rl){Fi(!0);try{l(n)}finally{Fi(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=_0.bind(null,oe,e),[c.memoizedState,e]},useRef:function(e){var n=oi();return e={current:e},n.memoizedState=e},useState:function(e){e=jh(e);var n=e.queue,l=Zh.bind(null,oe,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:Kh,useDeferredValue:function(e,n){var l=oi();return qc(l,e,n)},useTransition:function(){var e=jh(!1);return e=d0.bind(null,oe,e.queue,!0,!1),oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var c=oe,m=oi();if(De){if(l===void 0)throw Error(u(407));l=l()}else{if(l=n(),ke===null)throw Error(u(349));Ft&60||Vi(c,n,l)}m.memoizedState=l;var v={value:l,getSnapshot:n};return m.queue=v,s0(Xd.bind(null,c,v,e),[e]),c.flags|=2048,xs(9,ul.bind(null,c,v,l,n),{destroy:void 0},null),l},useId:function(){var e=oi(),n=ke.identifierPrefix;if(De){var l=or,c=Rs;l=(c&~(1<<32-Xn(c)-1)).toString(32)+l,n=":"+n+"R"+l,l=Lu++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Fg++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return oi().memoizedState=y0.bind(null,oe)}};ol.useMemoCache=ls,ol.useHostTransitionStatus=Pc,ol.useFormState=e0,ol.useActionState=e0,ol.useOptimistic=function(e){var n=oi();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Wo.bind(null,oe,!0,l),l.dispatch=n,[e,n]};var _r={readContext:Si,use:Hu,useCallback:c0,useContext:Si,useEffect:kh,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:l0,useMemo:h0,useReducer:us,useRef:a0,useState:function(){return us(fn)},useDebugValue:Kh,useDeferredValue:function(e,n){var l=Dn();return f0(l,Pe.memoizedState,e,n)},useTransition:function(){var e=us(fn)[0],n=Dn().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Qd,useId:Xh};_r.useCacheRefresh=p0,_r.useMemoCache=ls,_r.useHostTransitionStatus=Pc,_r.useFormState=qu,_r.useActionState=qu,_r.useOptimistic=function(e,n){var l=Dn();return Fh(l,Pe,e,n)};var Jl={readContext:Si,use:Hu,useCallback:c0,useContext:Si,useEffect:kh,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:l0,useMemo:h0,useReducer:Lc,useRef:a0,useState:function(){return Lc(fn)},useDebugValue:Kh,useDeferredValue:function(e,n){var l=Dn();return Pe===null?qc(l,e,n):f0(l,Pe.memoizedState,e,n)},useTransition:function(){var e=Lc(fn)[0],n=Dn().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Qd,useId:Xh};Jl.useCacheRefresh=p0,Jl.useMemoCache=ls,Jl.useHostTransitionStatus=Pc,Jl.useFormState=i0,Jl.useActionState=i0,Jl.useOptimistic=function(e,n){var l=Dn();return Pe!==null?Fh(l,Pe,e,n):(l.baseState=e,[e,l.queue.dispatch])};function Jh(e,n,l,c){n=e.memoizedState,l=l(c,n),l=l==null?n:w({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Wh={isMounted:function(e){return(e=e._reactInternals)?at(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var c=Gi(),m=Aa(c);m.payload=n,l!=null&&(m.callback=l),n=Ca(e,m,c),n!==null&&(jn(n,e,c),fl(n,e,c))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var c=Gi(),m=Aa(c);m.tag=1,m.payload=n,l!=null&&(m.callback=l),n=Ca(e,m,c),n!==null&&(jn(n,e,c),fl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Gi(),c=Aa(l);c.tag=2,n!=null&&(c.callback=n),n=Ca(e,c,l),n!==null&&(jn(n,e,l),fl(n,e,l))}};function E0(e,n,l,c,m,v,G){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,G):n.prototype&&n.prototype.isPureReactComponent?!rs(l,c)||!rs(m,v):!0}function T0(e,n,l,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,c),n.state!==e&&Wh.enqueueReplaceState(n,n.state,null)}function Wl(e,n){var l=n;if("ref"in n){l={};for(var c in n)c!=="ref"&&(l[c]=n[c])}if(e=e.defaultProps){l===n&&(l=w({},l));for(var m in e)l[m]===void 0&&(l[m]=e[m])}return l}var jc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function b0(e){jc(e)}function A0(e){console.error(e)}function C0(e){jc(e)}function Fc(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function R0(e,n,l){try{var c=e.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function $h(e,n,l){return l=Aa(l),l.tag=3,l.payload={element:null},l.callback=function(){Fc(e,n)},l}function tf(e){return e=Aa(e),e.tag=3,e}function D0(e,n,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;e.payload=function(){return m(v)},e.callback=function(){R0(n,l,c)}}var G=l.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(e.callback=function(){R0(n,l,c),typeof m!="function"&&(In===null?In=new Set([this]):In.add(this));var Z=c.stack;this.componentDidCatch(c.value,{componentStack:Z!==null?Z:""})})}function Xg(e,n,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=l.alternate,n!==null&&tc(n,l,m,!0),l=ta.current,l!==null){switch(l.tag){case 13:return Ns===null?uc():l.alternate===null&&cn===0&&(cn=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===xc?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([c]):n.add(c),te(e,c,m)),!1;case 22:return l.flags|=65536,c===xc?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([c]):l.add(c)),te(e,c,m)),!1}throw Error(u(435,l.tag))}return te(e,c,m),uc(),!1}if(De)return n=ta.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==jo&&(e=Error(u(422),{cause:c}),Ds($i(e,l)))):(c!==jo&&(n=Error(u(423),{cause:c}),Ds($i(n,l))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=$i(c,l),m=$h(e.stateNode,c,m),Yu(e,m),cn!==4&&(cn=2)),!1;var v=Error(u(520),{cause:c});if(v=$i(v,l),lc===null?lc=[v]:lc.push(v),cn!==4&&(cn=2),n===null)return!0;c=$i(c,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=m&-m,l.lanes|=e,e=$h(l.stateNode,c,e),Yu(l,e),!1;case 1:if(n=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(In===null||!In.has(v))))return l.flags|=65536,m&=-m,l.lanes|=m,m=tf(m),D0(m,e,l,c),Yu(l,m),!1}l=l.return}while(l!==null);return!1}var Ta=Error(u(461)),Jn=!1;function Wn(e,n,l,c){n.child=e===null?hr(n,null,l,c):cr(n,e.child,l,c)}function ef(e,n,l,c,m){l=l.render;var v=n.ref;if("ref"in c){var G={};for(var Z in c)Z!=="ref"&&(G[Z]=c[Z])}else G=c;return tu(n),c=Ph(e,n,l,G,v,m),Z=Ih(),e!==null&&!Jn?(Zo(e,n,m),Nn(e,n,m)):(De&&Z&&Io(n),n.flags|=1,Wn(e,n,c,m),n.child)}function nf(e,n,l,c,m){if(e===null){var v=l.type;return typeof v=="function"&&!Cr(v)&&v.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=v,af(e,n,v,c,m)):(e=Xu(l.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!hf(e,m)){var G=v.memoizedProps;if(l=l.compare,l=l!==null?l:rs,l(G,c)&&e.ref===n.ref)return Nn(e,n,m)}return n.flags|=1,e=Bi(v,c),e.ref=n.ref,e.return=n,n.child=e}function af(e,n,l,c,m){if(e!==null){var v=e.memoizedProps;if(rs(v,c)&&e.ref===n.ref)if(Jn=!1,n.pendingProps=c=v,hf(e,m))e.flags&131072&&(Jn=!0);else return n.lanes=e.lanes,Nn(e,n,m)}return rf(e,n,l,c,m)}function N0(e,n,l){var c=n.pendingProps,m=c.children,v=(n.stateNode._pendingVisibility&2)!==0,G=e!==null?e.memoizedState:null;if(Pu(e,n),c.mode==="hidden"||v){if(n.flags&128){if(c=G!==null?G.baseLanes|l:l,e!==null){for(m=n.child=e.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;n.childLanes=v&~c}else n.childLanes=0,n.child=null;return sf(e,n,c,l)}if(l&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bu(n,G!==null?G.cachePool:null),G!==null?tl(n,G):Vc(),Gh(n);else return n.lanes=n.childLanes=536870912,sf(e,n,G!==null?G.baseLanes|l:l,l)}else G!==null?(Bu(n,G.cachePool),tl(n,G),dr(),n.memoizedState=null):(e!==null&&Bu(n,null),Vc(),dr());return Wn(e,n,m,l),n.child}function sf(e,n,l,c){var m=Xo();return m=m===null?null:{parent:Rn._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Bu(n,null),Vc(),Gh(n),e!==null&&tc(e,n,c,!0),null}function Pu(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(u(284));(e===null||e.ref!==l)&&(n.flags|=2097664)}}function rf(e,n,l,c,m){return tu(n),l=Ph(e,n,l,c,void 0,m),c=Ih(),e!==null&&!Jn?(Zo(e,n,m),Nn(e,n,m)):(De&&c&&Io(n),n.flags|=1,Wn(e,n,l,m),n.child)}function M0(e,n,l,c,m,v){return tu(n),n.updateQueue=null,l=Kd(n,c,l,m),kd(e),c=Ih(),e!==null&&!Jn?(Zo(e,n,v),Nn(e,n,v)):(De&&c&&Io(n),n.flags|=1,Wn(e,n,l,v),n.child)}function O0(e,n,l,c,m){if(tu(n),n.stateNode===null){var v=Qr,G=l.contextType;typeof G=="object"&&G!==null&&(v=Si(G)),v=new l(c,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Wh,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=c,v.state=n.memoizedState,v.refs={},Ui(n),G=l.contextType,v.context=typeof G=="object"&&G!==null?Si(G):Qr,v.state=n.memoizedState,G=l.getDerivedStateFromProps,typeof G=="function"&&(Jh(n,l,G,c),v.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(G=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),G!==v.state&&Wh.enqueueReplaceState(v,v.state,null),cs(n,c,v,m),Ei(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){v=n.stateNode;var Z=n.memoizedProps,tt=Wl(l,Z);v.props=tt;var lt=v.context,bt=l.contextType;G=Qr,typeof bt=="object"&&bt!==null&&(G=Si(bt));var Ot=l.getDerivedStateFromProps;bt=typeof Ot=="function"||typeof v.getSnapshotBeforeUpdate=="function",Z=n.pendingProps!==Z,bt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(Z||lt!==G)&&T0(n,v,c,G),qn=!1;var yt=n.memoizedState;v.state=yt,cs(n,c,v,m),Ei(),lt=n.memoizedState,Z||yt!==lt||qn?(typeof Ot=="function"&&(Jh(n,l,Ot,c),lt=n.memoizedState),(tt=qn||E0(n,l,tt,c,yt,lt,G))?(bt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=lt),v.props=c,v.state=lt,v.context=G,c=tt):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{v=n.stateNode,Zc(e,n),G=n.memoizedProps,bt=Wl(l,G),v.props=bt,Ot=n.pendingProps,yt=v.context,lt=l.contextType,tt=Qr,typeof lt=="object"&&lt!==null&&(tt=Si(lt)),Z=l.getDerivedStateFromProps,(lt=typeof Z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(G!==Ot||yt!==tt)&&T0(n,v,c,tt),qn=!1,yt=n.memoizedState,v.state=yt,cs(n,c,v,m),Ei();var Et=n.memoizedState;G!==Ot||yt!==Et||qn||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof Z=="function"&&(Jh(n,l,Z,c),Et=n.memoizedState),(bt=qn||E0(n,l,bt,c,yt,Et,tt)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(lt||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,Et,tt),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,Et,tt)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||G===e.memoizedProps&&yt===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&yt===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=Et),v.props=c,v.state=Et,v.context=tt,c=bt):(typeof v.componentDidUpdate!="function"||G===e.memoizedProps&&yt===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&yt===e.memoizedState||(n.flags|=1024),c=!1)}return v=c,Pu(e,n),c=(n.flags&128)!==0,v||c?(v=n.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&c?(n.child=cr(n,e.child,null,m),n.child=cr(n,null,l,m)):Wn(e,n,l,m),n.memoizedState=v.state,e=n.child):e=Nn(e,n,m),e}function lf(e,n,l,c){return Vu(),n.flags|=256,Wn(e,n,l,c),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0};function ai(e){return{baseLanes:e,cachePool:mr()}}function Yc(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Li),e}function x0(e,n,l){var c=n.pendingProps,m=!1,v=(n.flags&128)!==0,G;if((G=v)||(G=e!==null&&e.memoizedState===null?!1:(Gn.current&2)!==0),G&&(m=!0,n.flags&=-129),G=(n.flags&32)!==0,n.flags&=-33,e===null){if(De){if(m?fr(n):dr(),De){var Z=ii,tt;if(tt=Z){t:{for(tt=Z,Z=Ga;tt.nodeType!==8;){if(!Z){Z=null;break t}if(tt=Or(tt.nextSibling),tt===null){Z=null;break t}}Z=tt}Z!==null?(n.memoizedState={dehydrated:Z,treeContext:ur!==null?{id:Rs,overflow:or}:null,retryLane:536870912},tt=wn(18,null,null,0),tt.stateNode=Z,tt.return=n,n.child=tt,vi=n,ii=null,tt=!0):tt=!1}tt||Fl(n)}if(Z=n.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Z.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ms(n)}return Z=c.children,c=c.fallback,m?(dr(),m=n.mode,Z=cf({mode:"hidden",children:Z},m),c=_l(c,m,l,null),Z.return=n,c.return=n,Z.sibling=c,n.child=Z,m=n.child,m.memoizedState=ai(l),m.childLanes=Yc(e,G,l),n.memoizedState=uf,c):(fr(n),of(n,Z))}if(tt=e.memoizedState,tt!==null&&(Z=tt.dehydrated,Z!==null)){if(v)n.flags&256?(fr(n),n.flags&=-257,n=kc(e,n,l)):n.memoizedState!==null?(dr(),n.child=e.child,n.flags|=128,n=null):(dr(),m=c.fallback,Z=n.mode,c=cf({mode:"visible",children:c.children},Z),m=_l(m,Z,l,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,cr(n,e.child,null,l),c=n.child,c.memoizedState=ai(l),c.childLanes=Yc(e,G,l),n.memoizedState=uf,n=m);else if(fr(n),Z.data==="$!"){if(G=Z.nextSibling&&Z.nextSibling.dataset,G)var lt=G.dgst;G=lt,c=Error(u(419)),c.stack="",c.digest=G,Ds({value:c,source:null,stack:null}),n=kc(e,n,l)}else if(Jn||tc(e,n,l,!1),G=(l&e.childLanes)!==0,Jn||G){if(G=ke,G!==null){if(c=l&-l,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(G.suspendedLanes|l)?0:c,c!==0&&c!==tt.retryLane)throw tt.retryLane=c,lr(e,c),jn(G,e,c),Ta}Z.data==="$?"||uc(),n=kc(e,n,l)}else Z.data==="$?"?(n.flags|=128,n.child=e.child,n=lu.bind(null,e),Z._reactRetry=n,n=null):(e=tt.treeContext,ii=Or(Z.nextSibling),vi=n,De=!0,La=null,Ga=!1,e!==null&&(sn[Sa++]=Rs,sn[Sa++]=or,sn[Sa++]=ur,Rs=e.id,or=e.overflow,ur=n),n=of(n,c.children),n.flags|=4096);return n}return m?(dr(),m=c.fallback,Z=n.mode,tt=e.child,lt=tt.sibling,c=Bi(tt,{mode:"hidden",children:c.children}),c.subtreeFlags=tt.subtreeFlags&31457280,lt!==null?m=Bi(lt,m):(m=_l(m,Z,l,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,Z=e.child.memoizedState,Z===null?Z=ai(l):(tt=Z.cachePool,tt!==null?(lt=Rn._currentValue,tt=tt.parent!==lt?{parent:lt,pool:lt}:tt):tt=mr(),Z={baseLanes:Z.baseLanes|l,cachePool:tt}),m.memoizedState=Z,m.childLanes=Yc(e,G,l),n.memoizedState=uf,c):(fr(n),l=e.child,e=l.sibling,l=Bi(l,{mode:"visible",children:c.children}),l.return=n,l.sibling=null,e!==null&&(G=n.deletions,G===null?(n.deletions=[e],n.flags|=16):G.push(e)),n.child=l,n.memoizedState=null,l)}function of(e,n){return n=cf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cf(e,n){return df(e,n,0,null)}function kc(e,n,l){return cr(n,e.child,null,l),e=of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kc(e,n,l){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),ba(e.return,n,l)}function cl(e,n,l,c,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=m)}function $l(e,n,l){var c=n.pendingProps,m=c.revealOrder,v=c.tail;if(Wn(e,n,c.children,l),c=Gn.current,c&2)c=c&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,l,n);else if(e.tag===19)Kc(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Rt(Gn,c),m){case"forwards":for(l=n.child,m=null;l!==null;)e=l.alternate,e!==null&&zu(e)===null&&(m=l),l=l.sibling;l=m,l===null?(m=n.child,n.child=null):(m=l.sibling,l.sibling=null),cl(n,!1,m,l,v);break;case"backwards":for(l=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&zu(e)===null){n.child=m;break}e=m.sibling,m.sibling=l,l=m,m=e}cl(n,!0,l,null,v);break;case"together":cl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Nn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ms|=n.lanes,!(l&n.childLanes))if(e!==null){if(tc(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(u(153));if(n.child!==null){for(e=n.child,l=Bi(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Bi(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function hf(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function Zg(e,n,l){switch(n.tag){case 3:Yt(n,n.stateNode.containerInfo),hl(n,Rn,e.memoizedState.cache),Vu();break;case 27:case 5:se(n);break;case 4:Yt(n,n.stateNode.containerInfo);break;case 10:hl(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(fr(n),n.flags|=128,null):l&n.child.childLanes?x0(e,n,l):(fr(n),e=Nn(e,n,l),e!==null?e.sibling:null);fr(n);break;case 19:var m=(e.flags&128)!==0;if(c=(l&n.childLanes)!==0,c||(tc(e,n,l,!1),c=(l&n.childLanes)!==0),m){if(c)return $l(e,n,l);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Rt(Gn,Gn.current),c)break;return null;case 22:case 23:return n.lanes=0,N0(e,n,l);case 24:hl(n,Rn,e.memoizedState.cache)}return Nn(e,n,l)}function $o(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Jn=!0;else{if(!hf(e,l)&&!(n.flags&128))return Jn=!1,Zg(e,n,l);Jn=!!(e.flags&131072)}else Jn=!1,De&&n.flags&1048576&&Bh(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,m=c._init;if(c=m(c._payload),n.type=c,typeof c=="function")Cr(c)?(e=Wl(c,e),n.tag=1,n=O0(null,n,c,e,l)):(n.tag=0,n=rf(null,n,c,e,l));else{if(c!=null){if(m=c.$$typeof,m===x){n.tag=11,n=ef(null,n,c,e,l);break t}else if(m===F){n.tag=14,n=nf(null,n,c,e,l);break t}}throw n=V(c)||c,Error(u(306,n,""))}}return n;case 0:return rf(e,n,n.type,n.pendingProps,l);case 1:return c=n.type,m=Wl(c,n.pendingProps),O0(e,n,c,m,l);case 3:t:{if(Yt(n,n.stateNode.containerInfo),e===null)throw Error(u(387));var v=n.pendingProps;m=n.memoizedState,c=m.element,Zc(e,n),cs(n,v,null,l);var G=n.memoizedState;if(v=G.cache,hl(n,Rn,v),v!==m.cache&&Qc(n,[Rn],l,!0),Ei(),v=G.element,m.isDehydrated)if(m={element:v,isDehydrated:!1,cache:G.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=lf(e,n,v,l);break t}else if(v!==c){c=$i(Error(u(424)),n),Ds(c),n=lf(e,n,v,l);break t}else for(ii=Or(n.stateNode.containerInfo.firstChild),vi=n,De=!0,La=null,Ga=!0,l=hr(n,null,v,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Vu(),v===c){n=Nn(e,n,l);break t}Wn(e,n,v,l)}n=n.child}return n;case 26:return Pu(e,n),e===null?(l=vp(n.type,null,n.pendingProps,null))?n.memoizedState=l:De||(l=n.type,e=n.pendingProps,c=G0(Jt.current).createElement(l),c[bn]=n,c[ue]=e,Hi(c,l,e),an(c),n.stateNode=c):n.memoizedState=vp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return se(n),e===null&&De&&(c=n.stateNode=pp(n.type,n.pendingProps,Jt.current),vi=n,Ga=!0,ii=Or(c.firstChild)),c=n.pendingProps.children,e!==null||De?Wn(e,n,c,l):n.child=cr(n,null,c,l),Pu(e,n),n.child;case 5:return e===null&&De&&((m=c=ii)&&(c=f4(c,n.type,n.pendingProps,Ga),c!==null?(n.stateNode=c,vi=n,ii=Or(c.firstChild),Ga=!1,m=!0):m=!1),m||Fl(n)),se(n),m=n.type,v=n.pendingProps,G=e!==null?e.memoizedProps:null,c=v.children,lm(m,v)?c=null:G!==null&&lm(m,G)&&(n.flags|=32),n.memoizedState!==null&&(m=Ph(e,n,Yg,null,null,l),Tf._currentValue=m),Pu(e,n),Wn(e,n,c,l),n.child;case 6:return e===null&&De&&((e=l=ii)&&(l=d4(l,n.pendingProps,Ga),l!==null?(n.stateNode=l,vi=n,ii=null,e=!0):e=!1),e||Fl(n)),null;case 13:return x0(e,n,l);case 4:return Yt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=cr(n,null,c,l):Wn(e,n,c,l),n.child;case 11:return ef(e,n,n.type,n.pendingProps,l);case 7:return Wn(e,n,n.pendingProps,l),n.child;case 8:return Wn(e,n,n.pendingProps.children,l),n.child;case 12:return Wn(e,n,n.pendingProps.children,l),n.child;case 10:return c=n.pendingProps,hl(n,n.type,c.value),Wn(e,n,c.children,l),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,tu(n),m=Si(m),c=c(m),n.flags|=1,Wn(e,n,c,l),n.child;case 14:return nf(e,n,n.type,n.pendingProps,l);case 15:return af(e,n,n.type,n.pendingProps,l);case 19:return $l(e,n,l);case 22:return N0(e,n,l);case 24:return tu(n),c=Si(Rn),e===null?(m=Xo(),m===null&&(m=ke,v=Hh(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=l),m=v),n.memoizedState={parent:c,cache:m},Ui(n),hl(n,Rn,m)):(e.lanes&l&&(Zc(e,n),cs(n,null,null,l),Ei()),m=e.memoizedState,v=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),hl(n,Rn,c)):(c=v.cache,hl(n,Rn,c),c!==m.cache&&Qc(n,[Rn],l,!0))),Wn(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(u(156,n.tag))}var Iu=ct(null),Vs=null,os=null;function hl(e,n,l){Rt(Iu,n._currentValue),n._currentValue=l}function vr(e){e._currentValue=Iu.current,At(Iu)}function ba(e,n,l){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===l)break;e=e.return}}function Qc(e,n,l,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var v=m.dependencies;if(v!==null){var G=m.child;v=v.firstContext;t:for(;v!==null;){var Z=v;v=m;for(var tt=0;tt<n.length;tt++)if(Z.context===n[tt]){v.lanes|=l,Z=v.alternate,Z!==null&&(Z.lanes|=l),ba(v.return,l,e),c||(G=null);break t}v=Z.next}}else if(m.tag===18){if(G=m.return,G===null)throw Error(u(341));G.lanes|=l,v=G.alternate,v!==null&&(v.lanes|=l),ba(G,l,e),G=null}else G=m.child;if(G!==null)G.return=m;else for(G=m;G!==null;){if(G===e){G=null;break}if(m=G.sibling,m!==null){m.return=G.return,G=m;break}G=G.return}m=G}}function tc(e,n,l,c){e=null;for(var m=n,v=!1;m!==null;){if(!v){if(m.flags&524288)v=!0;else if(m.flags&262144)break}if(m.tag===10){var G=m.alternate;if(G===null)throw Error(u(387));if(G=G.memoizedProps,G!==null){var Z=m.type;Zi(m.pendingProps.value,G.value)||(e!==null?e.push(Z):e=[Z])}}else if(m===le.current){if(G=m.alternate,G===null)throw Error(u(387));G.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Tf):e=[Tf])}m=m.return}e!==null&&Qc(n,e,l,c),n.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!Zi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tu(e){Vs=e,os=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Si(e){return Fu(Vs,e)}function Xc(e,n){return Vs===null&&tu(e),Fu(e,n)}function Fu(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},os===null){if(e===null)throw Error(u(308));os=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else os=os.next=n;return l}var qn=!1;function Ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,n,l){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,$t&2){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=qo(e),Ho(e,null,l),n}return Go(e,c,n,l),qo(e)}function fl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194176)!==0)){var c=n.lanes;c&=e.pendingLanes,l|=c,n.lanes=l,vs(e,l)}}function Yu(e,n){var l=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var G={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?m=v=G:v=v.next=G,l=l.next}while(l!==null);v===null?m=v=n:v=v.next=n}else m=v=n;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var na=!1;function Ei(){if(na){var e=il;if(e!==null)throw e}}function cs(e,n,l,c){na=!1;var m=e.updateQueue;qn=!1;var v=m.firstBaseUpdate,G=m.lastBaseUpdate,Z=m.shared.pending;if(Z!==null){m.shared.pending=null;var tt=Z,lt=tt.next;tt.next=null,G===null?v=lt:G.next=lt,G=tt;var bt=e.alternate;bt!==null&&(bt=bt.updateQueue,Z=bt.lastBaseUpdate,Z!==G&&(Z===null?bt.firstBaseUpdate=lt:Z.next=lt,bt.lastBaseUpdate=tt))}if(v!==null){var Ot=m.baseState;G=0,bt=lt=tt=null,Z=v;do{var yt=Z.lane&-536870913,Et=yt!==Z.lane;if(Et?(Ft&yt)===yt:(c&yt)===yt){yt!==0&&yt===Kl&&(na=!0),bt!==null&&(bt=bt.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});t:{var It=e,ie=Z;yt=n;var Fn=l;switch(ie.tag){case 1:if(It=ie.payload,typeof It=="function"){Ot=It.call(Fn,Ot,yt);break t}Ot=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=ie.payload,yt=typeof It=="function"?It.call(Fn,Ot,yt):It,yt==null)break t;Ot=w({},Ot,yt);break t;case 2:qn=!0}}yt=Z.callback,yt!==null&&(e.flags|=64,Et&&(e.flags|=8192),Et=m.callbacks,Et===null?m.callbacks=[yt]:Et.push(yt))}else Et={lane:yt,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},bt===null?(lt=bt=Et,tt=Ot):bt=bt.next=Et,G|=yt;if(Z=Z.next,Z===null){if(Z=m.shared.pending,Z===null)break;Et=Z,Z=Et.next,Et.next=null,m.lastBaseUpdate=Et,m.shared.pending=null}}while(!0);bt===null&&(tt=Ot),m.baseState=tt,m.firstBaseUpdate=lt,m.lastBaseUpdate=bt,v===null&&(m.shared.lanes=0),ms|=G,e.lanes=G,e.memoizedState=Ot}}function Us(e,n){if(typeof e!="function")throw Error(u(191,e));e.call(n)}function zs(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Us(l[e],n)}function Mn(e,n){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&e)===e){c=void 0;var v=l.create,G=l.inst;c=v(),G.destroy=c}l=l.next}while(l!==m)}}catch(Z){wt(n,n.return,Z)}}function Ha(e,n,l){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&e)===e){var G=c.inst,Z=G.destroy;if(Z!==void 0){G.destroy=void 0,m=n;var tt=l;try{Z()}catch(lt){wt(m,tt,lt)}}}c=c.next}while(c!==v)}}catch(lt){wt(n,n.return,lt)}}function Sr(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{zs(n,l)}catch(c){wt(e,e.return,c)}}}function ec(e,n,l){l.props=Wl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(c){wt(e,n,c)}}function On(e,n){try{var l=e.ref;if(l!==null){var c=e.stateNode;switch(e.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?e.refCleanup=l(m):l.current=m}}catch(v){wt(e,n,v)}}function Ye(e,n){var l=e.ref,c=e.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){wt(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){wt(e,n,m)}else l.current=null}function Ne(e){var n=e.type,l=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){wt(e,e.return,m)}}function qa(e,n,l){try{var c=e.stateNode;l4(c,e.type,l,n),c[ue]=n}catch(m){wt(e,e.return,m)}}function hs(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function nc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ia(e,n,l){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=L0));else if(c!==4&&c!==27&&(e=e.child,e!==null))for(ia(e,n,l),e=e.sibling;e!==null;)ia(e,n,l),e=e.sibling}function Er(e,n,l){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(c!==4&&c!==27&&(e=e.child,e!==null))for(Er(e,n,l),e=e.sibling;e!==null;)Er(e,n,l),e=e.sibling}var fs=!1,un=!1,dl=!1,Jc=typeof WeakSet=="function"?WeakSet:Set,xn=null,Wc=!1;function ku(e,n){if(e=e.containerInfo,sm=F0,e=Oh(e),Bo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var G=0,Z=-1,tt=-1,lt=0,bt=0,Ot=e,yt=null;e:for(;;){for(var Et;Ot!==l||m!==0&&Ot.nodeType!==3||(Z=G+m),Ot!==v||c!==0&&Ot.nodeType!==3||(tt=G+c),Ot.nodeType===3&&(G+=Ot.nodeValue.length),(Et=Ot.firstChild)!==null;)yt=Ot,Ot=Et;for(;;){if(Ot===e)break e;if(yt===l&&++lt===m&&(Z=G),yt===v&&++bt===c&&(tt=G),(Et=Ot.nextSibling)!==null)break;Ot=yt,yt=Ot.parentNode}Ot=Et}l=Z===-1||tt===-1?null:{start:Z,end:tt}}else l=null}l=l||{start:0,end:0}}else l=null;for(rm={focusedElem:e,selectionRange:l},F0=!1,xn=n;xn!==null;)if(n=xn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xn=e;else for(;xn!==null;){switch(n=xn,v=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&v!==null){e=void 0,l=n,m=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var It=Wl(l.type,m,l.elementType===l.type);e=c.getSnapshotBeforeUpdate(It,v),c.__reactInternalSnapshotBeforeUpdate=e}catch(ie){wt(l,l.return,ie)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)cm(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(u(163))}if(e=n.sibling,e!==null){e.return=n.return,xn=e;break}xn=n.return}return It=Wc,Wc=!1,It}function Ku(e,n,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Bs(e,l),c&4&&Mn(5,l);break;case 1:if(Bs(e,l),c&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(Z){wt(l,l.return,Z)}else{var m=Wl(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(Z){wt(l,l.return,Z)}}c&64&&Sr(l),c&512&&On(l,l.return);break;case 3:if(Bs(e,l),c&64&&(c=l.updateQueue,c!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{zs(c,e)}catch(Z){wt(l,l.return,Z)}}break;case 26:Bs(e,l),c&512&&On(l,l.return);break;case 27:case 5:Bs(e,l),n===null&&c&4&&Ne(l),c&512&&On(l,l.return);break;case 12:Bs(e,l);break;case 13:Bs(e,l),c&4&&w0(e,l);break;case 22:if(m=l.memoizedState!==null||fs,!m){n=n!==null&&n.memoizedState!==null||un;var v=fs,G=un;fs=m,(un=n)&&!G?gs(e,l,(l.subtreeFlags&8772)!==0):Bs(e,l),fs=v,un=G}c&512&&(l.memoizedProps.mode==="manual"?On(l,l.return):Ye(l,l.return));break;default:Bs(e,l)}}function $c(e){var n=e.alternate;n!==null&&(e.alternate=null,$c(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var on=null,si=!1;function Ti(e,n,l){for(l=l.child;l!==null;)th(e,n,l),l=l.sibling}function th(e,n,l){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(nn,l)}catch{}switch(l.tag){case 26:un||Ye(l,n),Ti(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:un||Ye(l,n);var c=on,m=si;for(on=l.stateNode,Ti(e,n,l),l=l.stateNode,n=l.attributes;n.length;)l.removeAttributeNode(n[0]);Xs(l),on=c,si=m;break;case 5:un||Ye(l,n);case 6:m=on;var v=si;if(on=null,Ti(e,n,l),on=m,si=v,on!==null)if(si)try{e=on,c=l.stateNode,e.nodeType===8?e.parentNode.removeChild(c):e.removeChild(c)}catch(G){wt(l,n,G)}else try{on.removeChild(l.stateNode)}catch(G){wt(l,n,G)}break;case 18:on!==null&&(si?(n=on,l=l.stateNode,n.nodeType===8?om(n.parentNode,l):n.nodeType===1&&om(n,l),Rf(n)):om(on,l.stateNode));break;case 4:c=on,m=si,on=l.stateNode.containerInfo,si=!0,Ti(e,n,l),on=c,si=m;break;case 0:case 11:case 14:case 15:un||Ha(2,l,n),un||Ha(4,l,n),Ti(e,n,l);break;case 1:un||(Ye(l,n),c=l.stateNode,typeof c.componentWillUnmount=="function"&&ec(l,n,c)),Ti(e,n,l);break;case 21:Ti(e,n,l);break;case 22:un||Ye(l,n),un=(c=un)||l.memoizedState!==null,Ti(e,n,l),un=c;break;default:Ti(e,n,l)}}function w0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rf(e)}catch(l){wt(n,n.return,l)}}function ic(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Jc),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Jc),n;default:throw Error(u(435,e.tag))}}function ac(e,n){var l=ic(e);n.forEach(function(c){var m=pt.bind(null,e,c);l.has(c)||(l.add(c),c.then(m,m))})}function zi(e,n){var l=n.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],v=e,G=n,Z=G;t:for(;Z!==null;){switch(Z.tag){case 27:case 5:on=Z.stateNode,si=!1;break t;case 3:on=Z.stateNode.containerInfo,si=!0;break t;case 4:on=Z.stateNode.containerInfo,si=!0;break t}Z=Z.return}if(on===null)throw Error(u(160));th(v,G,m),on=null,si=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)eu(n,e),n=n.sibling}var bi=null;function eu(e,n){var l=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zi(n,e),Ai(e),c&4&&(Ha(3,e,e.return),Mn(3,e),Ha(5,e,e.return));break;case 1:zi(n,e),Ai(e),c&512&&(un||l===null||Ye(l,l.return)),c&64&&fs&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=bi;if(zi(n,e),Ai(e),c&512&&(un||l===null||Ye(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=e.memoizedState,l===null)if(c===null)if(e.stateNode===null){t:{c=e.type,l=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Ss]||v[bn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),Hi(v,c,l),v[bn]=e,an(v),c=v;break t;case"link":var G=Tp("link","href",m).get(c+(l.href||""));if(G){for(var Z=0;Z<G.length;Z++)if(v=G[Z],v.getAttribute("href")===(l.href==null?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){G.splice(Z,1);break e}}v=m.createElement(c),Hi(v,c,l),m.head.appendChild(v);break;case"meta":if(G=Tp("meta","content",m).get(c+(l.content||""))){for(Z=0;Z<G.length;Z++)if(v=G[Z],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){G.splice(Z,1);break e}}v=m.createElement(c),Hi(v,c,l),m.head.appendChild(v);break;default:throw Error(u(468,c))}v[bn]=e,an(v),c=v}e.stateNode=c}else bp(m,e.type,e.stateNode);else e.stateNode=Ep(m,c,e.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?bp(m,e.type,e.stateNode):Ep(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&qa(e,e.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&e.alternate===null){m=e.stateNode,v=e.memoizedProps;try{for(var tt=m.firstChild;tt;){var lt=tt.nextSibling,bt=tt.nodeName;tt[Ss]||bt==="HEAD"||bt==="BODY"||bt==="SCRIPT"||bt==="STYLE"||bt==="LINK"&&tt.rel.toLowerCase()==="stylesheet"||m.removeChild(tt),tt=lt}for(var Ot=e.type,yt=m.attributes;yt.length;)m.removeAttributeNode(yt[0]);Hi(m,Ot,v),m[bn]=e,m[ue]=v}catch(It){wt(e,e.return,It)}}case 5:if(zi(n,e),Ai(e),c&512&&(un||l===null||Ye(l,l.return)),e.flags&32){m=e.stateNode;try{ya(m,"")}catch(It){wt(e,e.return,It)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,qa(e,m,l!==null?l.memoizedProps:m)),c&1024&&(dl=!0);break;case 6:if(zi(n,e),Ai(e),c&4){if(e.stateNode===null)throw Error(u(162));c=e.memoizedProps,l=e.stateNode;try{l.nodeValue=c}catch(It){wt(e,e.return,It)}}break;case 3:if(P0=null,m=bi,bi=H0(n.containerInfo),zi(n,e),bi=m,Ai(e),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Rf(n.containerInfo)}catch(It){wt(e,e.return,It)}dl&&(dl=!1,gl(e));break;case 4:c=bi,bi=H0(e.stateNode.containerInfo),zi(n,e),Ai(e),bi=c;break;case 12:zi(n,e),Ai(e);break;case 13:zi(n,e),Ai(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ce=en()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ac(e,c)));break;case 22:if(c&512&&(un||l===null||Ye(l,l.return)),tt=e.memoizedState!==null,lt=l!==null&&l.memoizedState!==null,bt=fs,Ot=un,fs=bt||tt,un=Ot||lt,zi(n,e),un=Ot,fs=bt,Ai(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,c&8192&&(n._visibility=tt?n._visibility&-2:n._visibility|1,tt&&(n=fs||un,l===null||lt||n||ds(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(l=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(l===null){lt=l=n;try{if(m=lt.stateNode,tt)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{G=lt.stateNode,Z=lt.memoizedProps.style;var Et=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;G.style.display=Et==null||typeof Et=="boolean"?"":(""+Et).trim()}}catch(It){wt(lt,lt.return,It)}}}else if(n.tag===6){if(l===null){lt=n;try{lt.stateNode.nodeValue=tt?"":lt.memoizedProps}catch(It){wt(lt,lt.return,It)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ac(e,l))));break;case 19:zi(n,e),Ai(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ac(e,c)));break;case 21:break;default:zi(n,e),Ai(e)}}function Ai(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var l=e.return;l!==null;){if(hs(l)){var c=l;break t}l=l.return}throw Error(u(160))}switch(c.tag){case 27:var m=c.stateNode,v=nc(e);Er(e,v,m);break;case 5:var G=c.stateNode;c.flags&32&&(ya(G,""),c.flags&=-33);var Z=nc(e);Er(e,Z,G);break;case 3:case 4:var tt=c.stateNode.containerInfo,lt=nc(e);ia(e,lt,tt);break;default:throw Error(u(161))}}}catch(bt){wt(e,e.return,bt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gl(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ku(e,n.alternate,n),n=n.sibling}function ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ha(4,n,n.return),ds(n);break;case 1:Ye(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&ec(n,n.return,l),ds(n);break;case 26:case 27:case 5:Ye(n,n.return),ds(n);break;case 22:Ye(n,n.return),n.memoizedState===null&&ds(n);break;default:ds(n)}e=e.sibling}}function gs(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,v=n,G=v.flags;switch(v.tag){case 0:case 11:case 15:gs(m,v,l),Mn(4,v);break;case 1:if(gs(m,v,l),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(lt){wt(c,c.return,lt)}if(c=v,m=c.updateQueue,m!==null){var Z=c.stateNode;try{var tt=m.shared.hiddenCallbacks;if(tt!==null)for(m.shared.hiddenCallbacks=null,m=0;m<tt.length;m++)Us(tt[m],Z)}catch(lt){wt(c,c.return,lt)}}l&&G&64&&Sr(v),On(v,v.return);break;case 26:case 27:case 5:gs(m,v,l),l&&c===null&&G&4&&Ne(v),On(v,v.return);break;case 12:gs(m,v,l);break;case 13:gs(m,v,l),l&&G&4&&w0(m,v);break;case 22:v.memoizedState===null&&gs(m,v,l),On(v,v.return);break;default:gs(m,v,l)}n=n.sibling}}function aa(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&el(l))}function Pa(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&el(e))}function rn(e,n,l,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tr(e,n,l,c),n=n.sibling}function Tr(e,n,l,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:rn(e,n,l,c),m&2048&&Mn(9,n);break;case 3:rn(e,n,l,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&el(e)));break;case 12:if(m&2048){rn(e,n,l,c),e=n.stateNode;try{var v=n.memoizedProps,G=v.id,Z=v.onPostCommit;typeof Z=="function"&&Z(G,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(tt){wt(n,n.return,tt)}}else rn(e,n,l,c);break;case 23:break;case 22:v=n.stateNode,n.memoizedState!==null?v._visibility&4?rn(e,n,l,c):we(e,n):v._visibility&4?rn(e,n,l,c):(v._visibility|=4,Wt(e,n,l,c,(n.subtreeFlags&10256)!==0)),m&2048&&aa(n.alternate,n);break;case 24:rn(e,n,l,c),m&2048&&Pa(n.alternate,n);break;default:rn(e,n,l,c)}}function Wt(e,n,l,c,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var v=e,G=n,Z=l,tt=c,lt=G.flags;switch(G.tag){case 0:case 11:case 15:Wt(v,G,Z,tt,m),Mn(8,G);break;case 23:break;case 22:var bt=G.stateNode;G.memoizedState!==null?bt._visibility&4?Wt(v,G,Z,tt,m):we(v,G):(bt._visibility|=4,Wt(v,G,Z,tt,m)),m&&lt&2048&&aa(G.alternate,G);break;case 24:Wt(v,G,Z,tt,m),m&&lt&2048&&Pa(G.alternate,G);break;default:Wt(v,G,Z,tt,m)}n=n.sibling}}function we(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,c=n,m=c.flags;switch(c.tag){case 22:we(l,c),m&2048&&aa(c.alternate,c);break;case 24:we(l,c),m&2048&&Pa(c.alternate,c);break;default:we(l,c)}n=n.sibling}}var dn=8192;function br(e){if(e.subtreeFlags&dn)for(e=e.child;e!==null;)nu(e),e=e.sibling}function nu(e){switch(e.tag){case 26:br(e),e.flags&dn&&e.memoizedState!==null&&R4(bi,e.memoizedState,e.memoizedProps);break;case 5:br(e);break;case 3:case 4:var n=bi;bi=H0(e.stateNode.containerInfo),br(e),bi=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=dn,dn=16777216,br(e),dn=n):br(e));break;default:br(e)}}function ml(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function pl(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var l=0;l<n.length;l++){var c=n[l];xn=c,V0(c,e)}ml(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qu(e),e=e.sibling}function Qu(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Ar(e)):pl(e);break;default:pl(e)}}function Ar(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var l=0;l<n.length;l++){var c=n[l];xn=c,V0(c,e)}ml(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ha(8,n,n.return),Ar(n);break;case 22:l=n.stateNode,l._visibility&4&&(l._visibility&=-5,Ar(n));break;default:Ar(n)}e=e.sibling}}function V0(e,n){for(;xn!==null;){var l=xn;switch(l.tag){case 0:case 11:case 15:Ha(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:el(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,xn=c;else t:for(l=e;xn!==null;){c=xn;var m=c.sibling,v=c.return;if($c(c),c===l){xn=null;break t}if(m!==null){m.return=v,xn=m;break t}xn=v}}}function ff(e,n,l,c){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,l,c){return new ff(e,n,l,c)}function Cr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var l=e.alternate;return l===null?(l=wn(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&31457280,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function yl(e,n){e.flags&=31457282;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xu(e,n,l,c,m,v){var G=0;if(c=e,typeof e=="function")Cr(e)&&(G=1);else if(typeof e=="string")G=A4(e,l,zt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case _:return _l(l.children,m,v,n);case S:G=8,m|=24;break;case b:return e=wn(12,l,n,m|2),e.elementType=b,e.lanes=v,e;case z:return e=wn(13,l,n,m),e.elementType=z,e.lanes=v,e;case L:return e=wn(19,l,n,m),e.elementType=L,e.lanes=v,e;case R:return df(l,m,v,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:case D:G=10;break t;case U:G=9;break t;case x:G=11;break t;case F:G=14;break t;case C:G=16,c=null;break t}G=29,l=Error(u(130,e===null?"null":typeof e,"")),c=null}return n=wn(G,l,n,m),n.elementType=e,n.type=c,n.lanes=v,n}function _l(e,n,l,c){return e=wn(7,e,c,n),e.lanes=l,e}function df(e,n,l,c){e=wn(22,e,c,n),e.elementType=R,e.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var v=m._current;if(v===null)throw Error(u(456));if(!(m._pendingVisibility&2)){var G=lr(v,2);G!==null&&(m._pendingVisibility|=2,jn(G,v,2))}},attach:function(){var v=m._current;if(v===null)throw Error(u(456));if(m._pendingVisibility&2){var G=lr(v,2);G!==null&&(m._pendingVisibility&=-3,jn(G,v,2))}}};return e.stateNode=m,e}function Pn(e,n,l){return e=wn(6,e,null,n),e.lanes=l,e}function sc(e,n,l){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ia(e){e.flags|=4}function vl(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Ap(n)){if(n=ta.current,n!==null&&((Ft&4194176)===Ft?Ns!==null:(Ft&62914560)!==Ft&&!(Ft&536870912)||n!==Ns))throw Uu=xc,Lh;e.flags|=8192}}function ja(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ja():536870912,e.lanes|=n,Gs|=n)}function rc(e,n){if(!De)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function _n(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,c=0;if(n)for(var m=e.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=l,n}function Jg(e,n,l){var c=n.pendingProps;switch(Zr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(n),null;case 1:return _n(n),null;case 3:return l=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),vr(Rn),je(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(wu(n)?Ia(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,La!==null&&(Ka(La),La=null))),_n(n),null;case 26:return l=n.memoizedState,e===null?(Ia(n),l!==null?(_n(n),vl(n,l)):(_n(n),n.flags&=-16777217)):l?l!==e.memoizedState?(Ia(n),_n(n),vl(n,l)):(_n(n),n.flags&=-16777217):(e.memoizedProps!==c&&Ia(n),_n(n),n.flags&=-16777217),null;case 27:Fe(n),l=Jt.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ia(n);else{if(!c){if(n.stateNode===null)throw Error(u(166));return _n(n),null}e=zt.current,wu(n)?Pd(n):(e=pp(m,c,l),n.stateNode=e,Ia(n))}return _n(n),null;case 5:if(Fe(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ia(n);else{if(!c){if(n.stateNode===null)throw Error(u(166));return _n(n),null}if(e=zt.current,wu(n))Pd(n);else{switch(m=G0(Jt.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}e[bn]=n,e[ue]=c;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;t:switch(Hi(e,l,c),l){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ia(n)}}return _n(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Ia(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(u(166));if(e=Jt.current,wu(n)){if(e=n.stateNode,l=n.memoizedProps,c=null,m=vi,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[bn]=n,e=!!(e.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||cp(e.nodeValue,l)),e||Fl(n)}else e=G0(e).createTextNode(c),e[bn]=n,n.stateNode=e}return _n(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=wu(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(u(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(u(317));m[bn]=n}else Vu(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;_n(n),m=!1}else La!==null&&(Ka(La),La=null),m=!0;if(!m)return n.flags&256?(Ms(n),n):(Ms(n),null)}if(Ms(n),n.flags&128)return n.lanes=l,n;if(l=c!==null,e=e!==null&&e.memoizedState!==null,l){c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)}return l!==e&&l&&(n.child.flags|=8192),ja(n,n.updateQueue),_n(n),null;case 4:return je(),e===null&&nm(n.stateNode.containerInfo),_n(n),null;case 10:return vr(n.type),_n(n),null;case 19:if(At(Gn),m=n.memoizedState,m===null)return _n(n),null;if(c=(n.flags&128)!==0,v=m.rendering,v===null)if(c)rc(m,!1);else{if(cn!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(v=zu(e),v!==null){for(n.flags|=128,rc(m,!1),e=v.updateQueue,n.updateQueue=e,ja(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)yl(l,e),l=l.sibling;return Rt(Gn,Gn.current&1|2),n.child}e=e.sibling}m.tail!==null&&en()>pe&&(n.flags|=128,c=!0,rc(m,!1),n.lanes=4194304)}else{if(!c)if(e=zu(v),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,ja(n,e),rc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!De)return _n(n),null}else 2*en()-m.renderingStartTime>pe&&l!==536870912&&(n.flags|=128,c=!0,rc(m,!1),n.lanes=4194304);m.isBackwards?(v.sibling=n.child,n.child=v):(e=m.last,e!==null?e.sibling=v:n.child=v,m.last=v)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=en(),n.sibling=null,e=Gn.current,Rt(Gn,c?e&1|2:e&1),n):(_n(n),null);case 22:case 23:return Ms(n),Qo(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?l&536870912&&!(n.flags&128)&&(_n(n),n.subtreeFlags&6&&(n.flags|=8192)):_n(n),l=n.updateQueue,l!==null&&ja(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==l&&(n.flags|=2048),e!==null&&At(gr),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vr(Rn),_n(n),null;case 25:return null}throw Error(u(156,n.tag))}function Tn(e,n){switch(Zr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vr(Rn),je(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fe(n),null;case 13:if(Ms(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(u(340));Vu()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return At(Gn),null;case 4:return je(),null;case 10:return vr(n.type),null;case 22:case 23:return Ms(n),Qo(),e!==null&&At(gr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return vr(Rn),null;case 25:return null;default:return null}}function gf(e,n){switch(Zr(n),n.tag){case 3:vr(Rn),je();break;case 26:case 27:case 5:Fe(n);break;case 4:je();break;case 13:Ms(n);break;case 19:At(Gn);break;case 10:vr(n.type);break;case 22:case 23:Ms(n),Qo(),e!==null&&At(gr);break;case 24:vr(Rn)}}var iu={getCacheForType:function(e){var n=Si(Rn),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l}},Rr=typeof WeakMap=="function"?WeakMap:Map,$t=0,ke=null,fe=null,Ft=0,Je=0,Ve=null,Vn=!1,Ci=!1,Sl=!1,Dr=0,cn=0,ms=0,Ls=0,Zu=0,Li=0,Gs=0,lc=null,me=null,Ke=!1,ce=0,pe=1/0,Ie=null,In=null,Fa=!1,Ya=null,au=0,ps=0,gn=null,ka=0,Nr=null;function Gi(){if($t&2&&Ft!==0)return Ft&-Ft;if(M.T!==null){var e=Kl;return e!==0?e:Wg()}return To()}function Ra(){Li===0&&(Li=!(Ft&536870912)||De?Ks():536870912);var e=ta.current;return e!==null&&(e.flags|=32),Li}function jn(e,n,l){(e===ke&&Je===2||e.cancelPendingCommit!==null)&&(Mr(e,0),Da(e,Ft,Li,!1)),vn(e,l),(!($t&2)||e!==ke)&&(e===ke&&(!($t&2)&&(Ls|=l),cn===4&&Da(e,Ft,Li,!1)),We(e))}function Ju(e,n,l){if($t&6)throw Error(u(327));var c=!l&&(n&60)===0&&(n&e.expiredLanes)===0||Ys(e,n),m=c?i(e,n):ru(e,n,!0),v=c;do{if(m===0){Ci&&!c&&Da(e,n,0,!1);break}else if(m===6)Da(e,n,0,!Vn);else{if(l=e.current.alternate,v&&!mf(l)){m=ru(e,n,!1),v=!1;continue}if(m===2){if(v=n,e.errorRecoveryDisabledLanes&v)var G=0;else G=e.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){n=G;t:{var Z=e;m=lc;var tt=Z.current.memoizedState.isDehydrated;if(tt&&(Mr(Z,G).flags|=256),G=ru(Z,G,!1),G!==2){if(Sl&&!tt){Z.errorRecoveryDisabledLanes|=v,Ls|=v,m=4;break t}v=me,me=m,v!==null&&Ka(v)}m=G}if(v=!1,m!==2)continue}}if(m===1){Mr(e,0),Da(e,n,0,!0);break}t:{switch(c=e,m){case 0:case 1:throw Error(u(345));case 4:if((n&4194176)===n){Da(c,n,Li,!Vn);break t}break;case 2:me=null;break;case 3:case 5:break;default:throw Error(u(329))}if(c.finishedWork=l,c.finishedLanes=n,(n&62914560)===n&&(v=ce+300-en(),10<v)){if(Da(c,n,Li,!Vn),ga(c,0)!==0)break t;c.timeoutHandle=dp(eh.bind(null,c,l,me,Ie,Ke,n,Li,Ls,Gs,Vn,2,-0,0),v);break t}eh(c,l,me,Ie,Ke,n,Li,Ls,Gs,Vn,0,-0,0)}}break}while(!0);We(e)}function Ka(e){me===null?me=e:me.push.apply(me,e)}function eh(e,n,l,c,m,v,G,Z,tt,lt,bt,Ot,yt){var Et=n.subtreeFlags;if((Et&8192||(Et&16785408)===16785408)&&(Ef={stylesheets:null,count:0,unsuspend:C4},nu(n),n=D4(),n!==null)){e.cancelPendingCommit=n(nt.bind(null,e,l,c,m,G,Z,tt,1,Ot,yt)),Da(e,v,G,!lt);return}nt(e,l,c,m,G,Z,tt,bt,Ot,yt)}function mf(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],v=m.getSnapshot;m=m.value;try{if(!Zi(v(),m))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Da(e,n,l,c){n&=~Zu,n&=~Ls,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var v=31-Xn(m),G=1<<v;c[v]=-1,m&=~G}l!==0&&_s(e,l,n)}function su(){return $t&6?!0:(Se(0),!1)}function Hs(){if(fe!==null){if(Je===0)var e=fe.return;else e=fe,os=Vs=null,zc(e),$r=null,Yo=0,e=fe;for(;e!==null;)gf(e.alternate,e),e=e.return;fe=null}}function Mr(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,o4(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Hs(),ke=e,fe=l=Bi(e.current,null),Ft=n,Je=0,Ve=null,Vn=!1,Ci=Ys(e,n),Sl=!1,Gs=Li=Zu=Ls=ms=cn=0,me=lc=null,Ke=!1,n&8&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-Xn(c),v=1<<m;n|=e[m],c&=~v}return Dr=n,Lo(),l}function El(e,n){oe=null,M.H=ws,n===Jr?(n=Le(),Je=3):n===Lh?(n=Le(),Je=4):Je=n===Ta?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ve=n,fe===null&&(cn=1,Fc(e,$i(n,e.current)))}function Wu(){var e=M.H;return M.H=ws,e===null?ws:e}function nh(){var e=M.A;return M.A=iu,e}function uc(){cn=4,Vn||(Ft&4194176)!==Ft&&ta.current!==null||(Ci=!0),!(ms&134217727)&&!(Ls&134217727)||ke===null||Da(ke,Ft,Li,!1)}function ru(e,n,l){var c=$t;$t|=2;var m=Wu(),v=nh();(ke!==e||Ft!==n)&&(Ie=null,Mr(e,n)),n=!1;var G=cn;t:do try{if(Je!==0&&fe!==null){var Z=fe,tt=Ve;switch(Je){case 8:Hs(),G=6;break t;case 3:case 2:case 6:ta.current===null&&(n=!0);var lt=Je;if(Je=0,Ve=null,E(e,Z,tt,lt),l&&Ci){G=0;break t}break;default:lt=Je,Je=0,Ve=null,E(e,Z,tt,lt)}}pf(),G=cn;break}catch(bt){El(e,bt)}while(!0);return n&&e.shellSuspendCounter++,os=Vs=null,$t=c,M.H=m,M.A=v,fe===null&&(ke=null,Ft=0,Lo()),G}function pf(){for(;fe!==null;)h(fe)}function i(e,n){var l=$t;$t|=2;var c=Wu(),m=nh();ke!==e||Ft!==n?(Ie=null,pe=en()+500,Mr(e,n)):Ci=Ys(e,n);t:do try{if(Je!==0&&fe!==null){n=fe;var v=Ve;e:switch(Je){case 1:Je=0,Ve=null,E(e,n,v,1);break;case 2:if(jd(v)){Je=0,Ve=null,p(n);break}n=function(){Je===2&&ke===e&&(Je=7),We(e)},v.then(n,n);break t;case 3:Je=7;break t;case 4:Je=5;break t;case 7:jd(v)?(Je=0,Ve=null,p(n)):(Je=0,Ve=null,E(e,n,v,7));break;case 5:var G=null;switch(fe.tag){case 26:G=fe.memoizedState;case 5:case 27:var Z=fe;if(!G||Ap(G)){Je=0,Ve=null;var tt=Z.sibling;if(tt!==null)fe=tt;else{var lt=Z.return;lt!==null?(fe=lt,N(lt)):fe=null}break e}}Je=0,Ve=null,E(e,n,v,5);break;case 6:Je=0,Ve=null,E(e,n,v,6);break;case 8:Hs(),cn=6;break t;default:throw Error(u(462))}}s();break}catch(bt){El(e,bt)}while(!0);return os=Vs=null,M.H=c,M.A=m,$t=l,fe!==null?0:(ke=null,Ft=0,Lo(),cn)}function s(){for(;fe!==null&&!tn();)h(fe)}function h(e){var n=$o(e.alternate,e,Dr);e.memoizedProps=e.pendingProps,n===null?N(e):fe=n}function p(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=M0(l,n,n.pendingProps,n.type,void 0,Ft);break;case 11:n=M0(l,n,n.pendingProps,n.type.render,n.ref,Ft);break;case 5:zc(n);default:gf(l,n),n=fe=yl(n,Dr),n=$o(l,n,Dr)}e.memoizedProps=e.pendingProps,n===null?N(e):fe=n}function E(e,n,l,c){os=Vs=null,zc(n),$r=null,Yo=0;var m=n.return;try{if(Xg(e,m,n,l,Ft)){cn=1,Fc(e,$i(l,e.current)),fe=null;return}}catch(v){if(m!==null)throw fe=m,v;cn=1,Fc(e,$i(l,e.current)),fe=null;return}n.flags&32768?(De||c===1?e=!0:Ci||Ft&536870912?e=!1:(Vn=e=!0,(c===2||c===3||c===6)&&(c=ta.current,c!==null&&c.tag===13&&(c.flags|=16384))),J(n,e)):N(n)}function N(e){var n=e;do{if(n.flags&32768){J(n,Vn);return}e=n.return;var l=Jg(n.alternate,n,Dr);if(l!==null){fe=l;return}if(n=n.sibling,n!==null){fe=n;return}fe=n=e}while(n!==null);cn===0&&(cn=5)}function J(e,n){do{var l=Tn(e.alternate,e);if(l!==null){l.flags&=32767,fe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){fe=e;return}fe=e=l}while(e!==null);cn=6,fe=null}function nt(e,n,l,c,m,v,G,Z,tt,lt){var bt=M.T,Ot=gt.p;try{gt.p=2,M.T=null,ft(e,n,l,c,Ot,m,v,G,Z,tt,lt)}finally{M.T=bt,gt.p=Ot}}function ft(e,n,l,c,m,v,G,Z){do Vt();while(Ya!==null);if($t&6)throw Error(u(327));var tt=e.finishedWork;if(c=e.finishedLanes,tt===null)return null;if(e.finishedWork=null,e.finishedLanes=0,tt===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var lt=tt.lanes|tt.childLanes;if(lt|=rr,Eo(e,c,lt,v,G,Z),e===ke&&(fe=ke=null,Ft=0),!(tt.subtreeFlags&10256)&&!(tt.flags&10256)||Fa||(Fa=!0,ps=lt,gn=l,ot(Qn,function(){return Vt(),null})),l=(tt.flags&15990)!==0,tt.subtreeFlags&15990||l?(l=M.T,M.T=null,v=gt.p,gt.p=2,G=$t,$t|=4,ku(e,tt),eu(tt,e),xh(rm,e.containerInfo),F0=!!sm,rm=sm=null,e.current=tt,Ku(e,tt.alternate,tt),Kn(),$t=G,gt.p=v,M.T=l):e.current=tt,Fa?(Fa=!1,Ya=e,au=c):Tt(e,lt),lt=e.pendingLanes,lt===0&&(In=null),fa(tt.stateNode),We(e),n!==null)for(m=e.onRecoverableError,tt=0;tt<n.length;tt++)lt=n[tt],m(lt.value,{componentStack:lt.stack});return au&3&&Vt(),lt=e.pendingLanes,c&4194218&&lt&42?e===Nr?ka++:(ka=0,Nr=e):ka=0,Se(0),null}function Tt(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,el(n)))}function Vt(){if(Ya!==null){var e=Ya,n=ps;ps=0;var l=Wa(au),c=M.T,m=gt.p;try{if(gt.p=32>l?32:l,M.T=null,Ya===null)var v=!1;else{l=gn,gn=null;var G=Ya,Z=au;if(Ya=null,au=0,$t&6)throw Error(u(331));var tt=$t;if($t|=4,Qu(G.current),Tr(G,G.current,Z,l),$t=tt,Se(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(nn,G)}catch{}v=!0}return v}finally{gt.p=m,M.T=c,Tt(e,n)}}return!1}function Lt(e,n,l){n=$i(l,n),n=$h(e.stateNode,n,2),e=Ca(e,n,2),e!==null&&(vn(e,2),We(e))}function wt(e,n,l){if(e.tag===3)Lt(e,e,l);else for(;n!==null;){if(n.tag===3){Lt(n,e,l);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(In===null||!In.has(c))){e=$i(l,e),l=tf(2),c=Ca(n,l,2),c!==null&&(D0(l,c,n,e),vn(c,2),We(c));break}}n=n.return}}function te(e,n,l){var c=e.pingCache;if(c===null){c=e.pingCache=new Rr;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(l)||(Sl=!0,m.add(l),e=Qa.bind(null,e,n,l),n.then(e,e))}function Qa(e,n,l){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ke===e&&(Ft&l)===l&&(cn===4||cn===3&&(Ft&62914560)===Ft&&300>en()-ce?!($t&2)&&Mr(e,0):Zu|=l,Gs===Ft&&(Gs=0)),We(e)}function $u(e,n){n===0&&(n=Ja()),e=lr(e,n),e!==null&&(vn(e,n),We(e))}function lu(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),$u(e,l)}function pt(e,n){var l=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(u(314))}c!==null&&c.delete(n),$u(e,l)}function ot(e,n){return He(e,n)}var _t=null,xt=null,Pt=!1,Qe=!1,kt=!1,de=0;function We(e){e!==xt&&e.next===null&&(xt===null?_t=xt=e:xt=xt.next=e),Qe=!0,Pt||(Pt=!0,t4(Tl))}function Se(e,n){if(!kt&&Qe){kt=!0;do for(var l=!1,c=_t;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var G=c.suspendedLanes,Z=c.pingedLanes;v=(1<<31-Xn(42|e)+1)-1,v&=m&~(G&~Z),v=v&201326677?v&201326677|1:v?v|2:0}v!==0&&(l=!0,ip(c,v))}else v=Ft,v=ga(c,c===ke?v:0),!(v&3)||Ys(c,v)||(l=!0,ip(c,v));c=c.next}while(l);kt=!1}}function Tl(){Qe=Pt=!1;var e=0;de!==0&&(u4()&&(e=de),de=0);for(var n=en(),l=null,c=_t;c!==null;){var m=c.next,v=U0(c,n);v===0?(c.next=null,l===null?_t=m:l.next=m,m===null&&(xt=l)):(l=c,(e!==0||v&3)&&(Qe=!0)),c=m}Se(e)}function U0(e,n){for(var l=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var G=31-Xn(v),Z=1<<G,tt=m[G];tt===-1?(!(Z&l)||Z&c)&&(m[G]=ks(Z,n)):tt<=n&&(e.expiredLanes|=Z),v&=~Z}if(n=ke,l=Ft,l=ga(e,e===n?l:0),c=e.callbackNode,l===0||e===n&&Je===2||e.cancelPendingCommit!==null)return c!==null&&c!==null&&li(c),e.callbackNode=null,e.callbackPriority=0;if(!(l&3)||Ys(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(c!==null&&li(c),Wa(l)){case 2:case 8:l=qe;break;case 32:l=Qn;break;case 268435456:l=ji;break;default:l=Qn}return c=np.bind(null,e),l=He(l,c),e.callbackPriority=n,e.callbackNode=l,n}return c!==null&&c!==null&&li(c),e.callbackPriority=2,e.callbackNode=null,2}function np(e,n){var l=e.callbackNode;if(Vt()&&e.callbackNode!==l)return null;var c=Ft;return c=ga(e,e===ke?c:0),c===0?null:(Ju(e,c,n),U0(e,en()),e.callbackNode!=null&&e.callbackNode===l?np.bind(null,e):null)}function ip(e,n){if(Vt())return null;Ju(e,n,!0)}function t4(e){c4(function(){$t&6?He(Ce,e):e()})}function Wg(){return de===0&&(de=Ks()),de}function ap(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:es(""+e)}function sp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function e4(e,n,l,c,m){if(n==="submit"&&l&&l.stateNode===m){var v=ap((m[ue]||null).action),G=c.submitter;G&&(n=(n=G[ue]||null)?ap(n.formAction):G.getAttribute("formAction"),n!==null&&(v=n,G=null));var Z=new Ir("action","action",null,c,m);e.push({event:Z,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(de!==0){var tt=G?sp(m,G):new FormData(m);Qh(l,{pending:!0,data:tt,method:m.method,action:v},null,tt)}}else typeof v=="function"&&(Z.preventDefault(),tt=G?sp(m,G):new FormData(m),Qh(l,{pending:!0,data:tt,method:m.method,action:v},v,tt))},currentTarget:m}]})}}for(var $g=0;$g<sr.length;$g++){var tm=sr[$g],n4=tm.toLowerCase(),i4=tm[0].toUpperCase()+tm.slice(1);Ba(n4,"on"+i4)}Ba(Uh,"onAnimationEnd"),Ba(Wi,"onAnimationIteration"),Ba(zh,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(ar,"onTransitionRun"),Ba(xu,"onTransitionStart"),Ba(Kr,"onTransitionCancel"),Ba(Nc,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yf));function rp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var c=e[l],m=c.event;c=c.listeners;t:{var v=void 0;if(n)for(var G=c.length-1;0<=G;G--){var Z=c[G],tt=Z.instance,lt=Z.currentTarget;if(Z=Z.listener,tt!==v&&m.isPropagationStopped())break t;v=Z,m.currentTarget=lt;try{v(m)}catch(bt){jc(bt)}m.currentTarget=null,v=tt}else for(G=0;G<c.length;G++){if(Z=c[G],tt=Z.instance,lt=Z.currentTarget,Z=Z.listener,tt!==v&&m.isPropagationStopped())break t;v=Z,m.currentTarget=lt;try{v(m)}catch(bt){jc(bt)}m.currentTarget=null,v=tt}}}}function Me(e,n){var l=n[Qs];l===void 0&&(l=n[Qs]=new Set);var c=e+"__bubble";l.has(c)||(lp(n,e,2,!1),l.add(c))}function em(e,n,l){var c=0;n&&(c|=4),lp(l,e,c,n)}var z0="_reactListening"+Math.random().toString(36).slice(2);function nm(e){if(!e[z0]){e[z0]=!0,Ol.forEach(function(l){l!=="selectionchange"&&(a4.has(l)||em(l,!1,e),em(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[z0]||(n[z0]=!0,em("selectionchange",!1,n))}}function lp(e,n,l,c){switch(Op(n)){case 2:var m=O4;break;case 8:m=x4;break;default:m=mm}l=m.bind(null,n,l,e),m=void 0,!Qi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,l,{capture:!0,passive:m}):e.addEventListener(n,l,!0):m!==void 0?e.addEventListener(n,l,{passive:m}):e.addEventListener(n,l,!1)}function im(e,n,l,c,m){var v=c;if(!(n&1)&&!(n&2)&&c!==null)t:for(;;){if(c===null)return;var G=c.tag;if(G===3||G===4){var Z=c.stateNode.containerInfo;if(Z===m||Z.nodeType===8&&Z.parentNode===m)break;if(G===4)for(G=c.return;G!==null;){var tt=G.tag;if((tt===3||tt===4)&&(tt=G.stateNode.containerInfo,tt===m||tt.nodeType===8&&tt.parentNode===m))return;G=G.return}for(;Z!==null;){if(G=ma(Z),G===null)return;if(tt=G.tag,tt===5||tt===6||tt===26||tt===27){c=v=G;continue t}Z=Z.parentNode}}c=c.return}Ro(function(){var lt=v,bt=Lr(l),Ot=[];t:{var yt=Mc.get(e);if(yt!==void 0){var Et=Ir,It=e;switch(e){case"keypress":if(Xi(l)===0)break t;case"keydown":case"keyup":Et=Yr;break;case"focusin":It="focus",Et=Vl;break;case"focusout":It="blur",Et=Vl;break;case"beforeblur":case"afterblur":Et=Vl;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=Au;break;case Uh:case Wi:case zh:Et=Ul;break;case Nc:Et=xa;break;case"scroll":case"scrollend":Et=Do;break;case"wheel":Et=Ru;break;case"copy":case"cut":case"paste":Et=zl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=Hl;break;case"toggle":case"beforetoggle":Et=ss}var ie=(n&4)!==0,Fn=!ie&&(e==="scroll"||e==="scrollend"),ht=ie?yt!==null?yt+"Capture":null:yt;ie=[];for(var rt=lt,mt;rt!==null;){var Dt=rt;if(mt=Dt.stateNode,Dt=Dt.tag,Dt!==5&&Dt!==26&&Dt!==27||mt===null||ht===null||(Dt=Gr(rt,ht),Dt!=null&&ie.push(_f(rt,Dt,mt))),Fn)break;rt=rt.return}0<ie.length&&(yt=new Et(yt,It,null,l,bt),Ot.push({event:yt,listeners:ie}))}}if(!(n&7)){t:{if(yt=e==="mouseover"||e==="pointerover",Et=e==="mouseout"||e==="pointerout",yt&&l!==_a&&(It=l.relatedTarget||l.fromElement)&&(ma(It)||It[$a]))break t;if((Et||yt)&&(yt=bt.window===bt?bt:(yt=bt.ownerDocument)?yt.defaultView||yt.parentWindow:window,Et?(It=l.relatedTarget||l.toElement,Et=lt,It=It?ma(It):null,It!==null&&(Fn=at(It),ie=It.tag,It!==Fn||ie!==5&&ie!==27&&ie!==6)&&(It=null)):(Et=null,It=lt),Et!==It)){if(ie=va,Dt="onMouseLeave",ht="onMouseEnter",rt="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Hl,Dt="onPointerLeave",ht="onPointerEnter",rt="pointer"),Fn=Et==null?yt:Ze(Et),mt=It==null?yt:Ze(It),yt=new ie(Dt,rt+"leave",Et,l,bt),yt.target=Fn,yt.relatedTarget=mt,Dt=null,ma(bt)===lt&&(ie=new ie(ht,rt+"enter",It,l,bt),ie.target=mt,ie.relatedTarget=Fn,Dt=ie),Fn=Dt,Et&&It)e:{for(ie=Et,ht=It,rt=0,mt=ie;mt;mt=ih(mt))rt++;for(mt=0,Dt=ht;Dt;Dt=ih(Dt))mt++;for(;0<rt-mt;)ie=ih(ie),rt--;for(;0<mt-rt;)ht=ih(ht),mt--;for(;rt--;){if(ie===ht||ht!==null&&ie===ht.alternate)break e;ie=ih(ie),ht=ih(ht)}ie=null}else ie=null;Et!==null&&up(Ot,yt,Et,ie,!1),It!==null&&Fn!==null&&up(Ot,Fn,It,ie,!0)}}t:{if(yt=lt?Ze(lt):window,Et=yt.nodeName&&yt.nodeName.toLowerCase(),Et==="select"||Et==="input"&&yt.type==="file")var qt=Tc;else if(Bn(yt))if(bc)qt=kr;else{qt=Hd;var Ee=Pg}else Et=yt.nodeName,!Et||Et.toLowerCase()!=="input"||yt.type!=="checkbox"&&yt.type!=="radio"?lt&&wl(lt.elementType)&&(qt=Tc):qt=zo;if(qt&&(qt=qt(e,lt))){Cn(Ot,qt,l,bt);break t}Ee&&Ee(e,yt,lt),e==="focusout"&&lt&&yt.type==="number"&&lt.memoizedProps.value!=null&&xl(yt,"number",yt.value)}switch(Ee=lt?Ze(lt):window,e){case"focusin":(Bn(Ee)||Ee.contentEditable==="true")&&(ql=Ee,wh=lt,Ou=null);break;case"focusout":Ou=wh=ql=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,za(Ot,l,bt);break;case"selectionchange":if(Cc)break;case"keydown":case"keyup":za(Ot,l,bt)}var jt;if(Va)t:{switch(e){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else _e?vt(e,l)&&(Zt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Zt="onCompositionStart");Zt&&(B&&l.locale!=="ko"&&(_e||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&_e&&(jt=Eu()):(is=bt,qr="value"in is?is.value:is.textContent,_e=!0)),Ee=B0(lt,Zt),0<Ee.length&&(Zt=new Ll(Zt,e,null,l,bt),Ot.push({event:Zt,listeners:Ee}),jt?Zt.data=jt:(jt=Bt(l),jt!==null&&(Zt.data=jt)))),(jt=A?yn(e,l):ve(e,l))&&(Zt=B0(lt,"onBeforeInput"),0<Zt.length&&(Ee=new Ll("onBeforeInput","beforeinput",null,l,bt),Ot.push({event:Ee,listeners:Zt}),Ee.data=jt)),e4(Ot,e,lt,l,bt)}rp(Ot,n)})}function _f(e,n,l){return{instance:e,listener:n,currentTarget:l}}function B0(e,n){for(var l=n+"Capture",c=[];e!==null;){var m=e,v=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Gr(e,l),m!=null&&c.unshift(_f(e,m,v)),m=Gr(e,n),m!=null&&c.push(_f(e,m,v))),e=e.return}return c}function ih(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function up(e,n,l,c,m){for(var v=n._reactName,G=[];l!==null&&l!==c;){var Z=l,tt=Z.alternate,lt=Z.stateNode;if(Z=Z.tag,tt!==null&&tt===c)break;Z!==5&&Z!==26&&Z!==27||lt===null||(tt=lt,m?(lt=Gr(l,v),lt!=null&&G.unshift(_f(l,lt,tt))):m||(lt=Gr(l,v),lt!=null&&G.push(_f(l,lt,tt)))),l=l.return}G.length!==0&&e.push({event:n,listeners:G})}var s4=/\r\n?/g,r4=/\u0000|\uFFFD/g;function op(e){return(typeof e=="string"?e:""+e).replace(s4,`
`).replace(r4,"")}function cp(e,n){return n=op(n),op(e)===n}function L0(){}function ln(e,n,l,c,m,v){switch(l){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||ya(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&ya(e,""+c);break;case"className":Js(e,"class",c);break;case"tabIndex":Js(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Js(e,l,c);break;case"style":Co(e,c,v);break;case"data":if(n!=="object"){Js(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(l);break}c=es(""+c),e.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(n!=="input"&&ln(e,n,"name",m.name,m,null),ln(e,n,"formEncType",m.formEncType,m,null),ln(e,n,"formMethod",m.formMethod,m,null),ln(e,n,"formTarget",m.formTarget,m,null)):(ln(e,n,"encType",m.encType,m,null),ln(e,n,"method",m.method,m,null),ln(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(l);break}c=es(""+c),e.setAttribute(l,c);break;case"onClick":c!=null&&(e.onclick=L0);break;case"onScroll":c!=null&&Me("scroll",e);break;case"onScrollEnd":c!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(u(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(u(60));e.innerHTML=l}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}l=es(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,""+c):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":c===!0?e.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,c):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(l,c):e.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(l):e.setAttribute(l,c);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Zs(e,"popover",c);break;case"xlinkActuate":Ki(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ki(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ki(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ki(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ki(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ki(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ki(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ki(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ki(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zs(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Sc.get(l)||l,Zs(e,l,c))}}function am(e,n,l,c,m,v){switch(l){case"style":Co(e,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(u(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(u(60));e.innerHTML=l}}break;case"children":typeof c=="string"?ya(e,c):(typeof c=="number"||typeof c=="bigint")&&ya(e,""+c);break;case"onScroll":c!=null&&Me("scroll",e);break;case"onScrollEnd":c!=null&&Me("scrollend",e);break;case"onClick":c!=null&&(e.onclick=L0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ki.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),n=l.slice(2,m?l.length-7:void 0),v=e[ue]||null,v=v!=null?v[l]:null,typeof v=="function"&&e.removeEventListener(n,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,c,m);break t}l in e?e[l]=c:c===!0?e.setAttribute(l,""):Zs(e,l,c)}}}function Hi(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var c=!1,m=!1,v;for(v in l)if(l.hasOwnProperty(v)){var G=l[v];if(G!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,n));default:ln(e,n,v,G,l,null)}}m&&ln(e,n,"srcSet",l.srcSet,l,null),c&&ln(e,n,"src",l.src,l,null);return;case"input":Me("invalid",e);var Z=v=G=m=null,tt=null,lt=null;for(c in l)if(l.hasOwnProperty(c)){var bt=l[c];if(bt!=null)switch(c){case"name":m=bt;break;case"type":G=bt;break;case"checked":tt=bt;break;case"defaultChecked":lt=bt;break;case"value":v=bt;break;case"defaultValue":Z=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(u(137,n));break;default:ln(e,n,c,bt,l,null)}}Ur(e,v,Z,tt,lt,G,m,!1),wr(e);return;case"select":Me("invalid",e),c=G=v=null;for(m in l)if(l.hasOwnProperty(m)&&(Z=l[m],Z!=null))switch(m){case"value":v=Z;break;case"defaultValue":G=Z;break;case"multiple":c=Z;default:ln(e,n,m,Z,l,null)}n=v,l=G,e.multiple=!!c,n!=null?xe(e,!!c,n,!1):l!=null&&xe(e,!!c,l,!0);return;case"textarea":Me("invalid",e),v=m=c=null;for(G in l)if(l.hasOwnProperty(G)&&(Z=l[G],Z!=null))switch(G){case"value":c=Z;break;case"defaultValue":m=Z;break;case"children":v=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(u(91));break;default:ln(e,n,G,Z,l,null)}pa(e,c,m,v),wr(e);return;case"option":for(tt in l)if(l.hasOwnProperty(tt)&&(c=l[tt],c!=null))switch(tt){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ln(e,n,tt,c,l,null)}return;case"dialog":Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(c=0;c<yf.length;c++)Me(yf[c],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(lt in l)if(l.hasOwnProperty(lt)&&(c=l[lt],c!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,n));default:ln(e,n,lt,c,l,null)}return;default:if(wl(n)){for(bt in l)l.hasOwnProperty(bt)&&(c=l[bt],c!==void 0&&am(e,n,bt,c,l,void 0));return}}for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!=null&&ln(e,n,Z,c,l,null))}function l4(e,n,l,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,G=null,Z=null,tt=null,lt=null,bt=null;for(Et in l){var Ot=l[Et];if(l.hasOwnProperty(Et)&&Ot!=null)switch(Et){case"checked":break;case"value":break;case"defaultValue":tt=Ot;default:c.hasOwnProperty(Et)||ln(e,n,Et,null,c,Ot)}}for(var yt in c){var Et=c[yt];if(Ot=l[yt],c.hasOwnProperty(yt)&&(Et!=null||Ot!=null))switch(yt){case"type":v=Et;break;case"name":m=Et;break;case"checked":lt=Et;break;case"defaultChecked":bt=Et;break;case"value":G=Et;break;case"defaultValue":Z=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(u(137,n));break;default:Et!==Ot&&ln(e,n,yt,Et,c,Ot)}}Ws(e,G,Z,tt,lt,bt,v,m);return;case"select":Et=G=Z=yt=null;for(v in l)if(tt=l[v],l.hasOwnProperty(v)&&tt!=null)switch(v){case"value":break;case"multiple":Et=tt;default:c.hasOwnProperty(v)||ln(e,n,v,null,c,tt)}for(m in c)if(v=c[m],tt=l[m],c.hasOwnProperty(m)&&(v!=null||tt!=null))switch(m){case"value":yt=v;break;case"defaultValue":Z=v;break;case"multiple":G=v;default:v!==tt&&ln(e,n,m,v,c,tt)}n=Z,l=G,c=Et,yt!=null?xe(e,!!l,yt,!1):!!c!=!!l&&(n!=null?xe(e,!!l,n,!0):xe(e,!!l,l?[]:"",!1));return;case"textarea":Et=yt=null;for(Z in l)if(m=l[Z],l.hasOwnProperty(Z)&&m!=null&&!c.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:ln(e,n,Z,null,c,m)}for(G in c)if(m=c[G],v=l[G],c.hasOwnProperty(G)&&(m!=null||v!=null))switch(G){case"value":yt=m;break;case"defaultValue":Et=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(u(91));break;default:m!==v&&ln(e,n,G,m,c,v)}zr(e,yt,Et);return;case"option":for(var It in l)if(yt=l[It],l.hasOwnProperty(It)&&yt!=null&&!c.hasOwnProperty(It))switch(It){case"selected":e.selected=!1;break;default:ln(e,n,It,null,c,yt)}for(tt in c)if(yt=c[tt],Et=l[tt],c.hasOwnProperty(tt)&&yt!==Et&&(yt!=null||Et!=null))switch(tt){case"selected":e.selected=yt&&typeof yt!="function"&&typeof yt!="symbol";break;default:ln(e,n,tt,yt,c,Et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in l)yt=l[ie],l.hasOwnProperty(ie)&&yt!=null&&!c.hasOwnProperty(ie)&&ln(e,n,ie,null,c,yt);for(lt in c)if(yt=c[lt],Et=l[lt],c.hasOwnProperty(lt)&&yt!==Et&&(yt!=null||Et!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(u(137,n));break;default:ln(e,n,lt,yt,c,Et)}return;default:if(wl(n)){for(var Fn in l)yt=l[Fn],l.hasOwnProperty(Fn)&&yt!==void 0&&!c.hasOwnProperty(Fn)&&am(e,n,Fn,void 0,c,yt);for(bt in c)yt=c[bt],Et=l[bt],!c.hasOwnProperty(bt)||yt===Et||yt===void 0&&Et===void 0||am(e,n,bt,yt,c,Et);return}}for(var ht in l)yt=l[ht],l.hasOwnProperty(ht)&&yt!=null&&!c.hasOwnProperty(ht)&&ln(e,n,ht,null,c,yt);for(Ot in c)yt=c[Ot],Et=l[Ot],!c.hasOwnProperty(Ot)||yt===Et||yt==null&&Et==null||ln(e,n,Ot,yt,c,Et)}var sm=null,rm=null;function G0(e){return e.nodeType===9?e:e.ownerDocument}function hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function lm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var um=null;function u4(){var e=window.event;return e&&e.type==="popstate"?e===um?!1:(um=e,!0):(um=null,!1)}var dp=typeof setTimeout=="function"?setTimeout:void 0,o4=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(h4)}:dp;function h4(e){setTimeout(function(){throw e})}function om(e,n){var l=n,c=0;do{var m=l.nextSibling;if(e.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){e.removeChild(m),Rf(n);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);Rf(n)}function cm(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":cm(l),Xs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function f4(e,n,l,c){for(;e.nodeType===1;){var m=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ss])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==m.rel||e.getAttribute("href")!==(m.href==null?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=Or(e.nextSibling),e===null)break}return null}function d4(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Or(e.nextSibling),e===null))return null;return e}function Or(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function mp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}function pp(e,n,l){switch(n=G0(l),e){case"html":if(e=n.documentElement,!e)throw Error(u(452));return e;case"head":if(e=n.head,!e)throw Error(u(453));return e;case"body":if(e=n.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}var qs=new Map,yp=new Set;function H0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var uu=gt.d;gt.d={f:g4,r:m4,D:p4,C:y4,L:_4,m:v4,X:E4,S:S4,M:T4};function g4(){var e=uu.f(),n=su();return e||n}function m4(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?m0(n):uu.r(e)}var ah=typeof document>"u"?null:document;function _p(e,n,l){var c=ah;if(c&&typeof n=="string"&&n){var m=mn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),yp.has(m)||(yp.add(m),e={rel:e,crossOrigin:l,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),Hi(n,"link",e),an(n),c.head.appendChild(n)))}}function p4(e){uu.D(e),_p("dns-prefetch",e,null)}function y4(e,n){uu.C(e,n),_p("preconnect",e,n)}function _4(e,n,l){uu.L(e,n,l);var c=ah;if(c&&e&&n){var m='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+mn(l.imageSizes)+'"]')):m+='[href="'+mn(e)+'"]';var v=m;switch(n){case"style":v=sh(e);break;case"script":v=rh(e)}qs.has(v)||(e=w({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),qs.set(v,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(vf(v))||n==="script"&&c.querySelector(Sf(v))||(n=c.createElement("link"),Hi(n,"link",e),an(n),c.head.appendChild(n)))}}function v4(e,n){uu.m(e,n);var l=ah;if(l&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+mn(c)+'"][href="'+mn(e)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=rh(e)}if(!qs.has(v)&&(e=w({rel:"modulepreload",href:e},n),qs.set(v,e),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Sf(v)))return}c=l.createElement("link"),Hi(c,"link",e),an(c),l.head.appendChild(c)}}}function S4(e,n,l){uu.S(e,n,l);var c=ah;if(c&&e){var m=Na(c).hoistableStyles,v=sh(e);n=n||"default";var G=m.get(v);if(!G){var Z={loading:0,preload:null};if(G=c.querySelector(vf(v)))Z.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},l),(l=qs.get(v))&&hm(e,l);var tt=G=c.createElement("link");an(tt),Hi(tt,"link",e),tt._p=new Promise(function(lt,bt){tt.onload=lt,tt.onerror=bt}),tt.addEventListener("load",function(){Z.loading|=1}),tt.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,q0(G,n,c)}G={type:"stylesheet",instance:G,count:1,state:Z},m.set(v,G)}}}function E4(e,n){uu.X(e,n);var l=ah;if(l&&e){var c=Na(l).hoistableScripts,m=rh(e),v=c.get(m);v||(v=l.querySelector(Sf(m)),v||(e=w({src:e,async:!0},n),(n=qs.get(m))&&fm(e,n),v=l.createElement("script"),an(v),Hi(v,"link",e),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function T4(e,n){uu.M(e,n);var l=ah;if(l&&e){var c=Na(l).hoistableScripts,m=rh(e),v=c.get(m);v||(v=l.querySelector(Sf(m)),v||(e=w({src:e,async:!0,type:"module"},n),(n=qs.get(m))&&fm(e,n),v=l.createElement("script"),an(v),Hi(v,"link",e),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function vp(e,n,l,c){var m=(m=Jt.current)?H0(m):null;if(!m)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=sh(l.href),l=Na(m).hoistableStyles,c=l.get(n),c||(c={type:"style",instance:null,count:0,state:null},l.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=sh(l.href);var v=Na(m).hoistableStyles,G=v.get(e);if(G||(m=m.ownerDocument||m,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,G),(v=m.querySelector(vf(e)))&&!v._p&&(G.instance=v,G.state.loading=5),qs.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qs.set(e,l),v||b4(m,e,l,G.state))),n&&c===null)throw Error(u(528,""));return G}if(n&&c!==null)throw Error(u(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rh(l),l=Na(m).hoistableScripts,c=l.get(n),c||(c={type:"script",instance:null,count:0,state:null},l.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function sh(e){return'href="'+mn(e)+'"'}function vf(e){return'link[rel="stylesheet"]['+e+"]"}function Sp(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function b4(e,n,l,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Hi(n,"link",l),an(n),e.head.appendChild(n))}function rh(e){return'[src="'+mn(e)+'"]'}function Sf(e){return"script[async]"+e}function Ep(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+mn(l.href)+'"]');if(c)return n.instance=c,an(c),c;var m=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),an(c),Hi(c,"style",m),q0(c,l.precedence,e),n.instance=c;case"stylesheet":m=sh(l.href);var v=e.querySelector(vf(m));if(v)return n.state.loading|=4,n.instance=v,an(v),v;c=Sp(l),(m=qs.get(m))&&hm(c,m),v=(e.ownerDocument||e).createElement("link"),an(v);var G=v;return G._p=new Promise(function(Z,tt){G.onload=Z,G.onerror=tt}),Hi(v,"link",c),n.state.loading|=4,q0(v,l.precedence,e),n.instance=v;case"script":return v=rh(l.src),(m=e.querySelector(Sf(v)))?(n.instance=m,an(m),m):(c=l,(m=qs.get(v))&&(c=w({},l),fm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),an(m),Hi(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(u(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(c=n.instance,n.state.loading|=4,q0(c,l.precedence,e));return n.instance}function q0(e,n,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,G=0;G<c.length;G++){var Z=c[G];if(Z.dataset.precedence===n)v=Z;else if(v!==m)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function hm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var P0=null;function Tp(e,n,l){if(P0===null){var c=new Map,m=P0=new Map;m.set(l,c)}else m=P0,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(e))return c;for(c.set(e,null),l=l.getElementsByTagName(e),m=0;m<l.length;m++){var v=l[m];if(!(v[Ss]||v[bn]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var G=v.getAttribute(n)||"";G=e+G;var Z=c.get(G);Z?Z.push(v):c.set(G,[v])}}return c}function bp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function A4(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ap(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ef=null;function C4(){}function R4(e,n,l){if(Ef===null)throw Error(u(475));var c=Ef;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var m=sh(l.href),v=e.querySelector(vf(m));if(v){e=v._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=I0.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=v,an(v);return}v=e.ownerDocument||e,l=Sp(l),(m=qs.get(m))&&hm(l,m),v=v.createElement("link"),an(v);var G=v;G._p=new Promise(function(Z,tt){G.onload=Z,G.onerror=tt}),Hi(v,"link",l),n.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(c.count++,n=I0.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function D4(){if(Ef===null)throw Error(u(475));var e=Ef;return e.stylesheets&&e.count===0&&dm(e,e.stylesheets),0<e.count?function(n){var l=setTimeout(function(){if(e.stylesheets&&dm(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l)}}:null}function I0(){if(this.count--,this.count===0){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var j0=null;function dm(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,j0=new Map,n.forEach(N4,e),j0=null,I0.call(e))}function N4(e,n){if(!(n.state.loading&4)){var l=j0.get(e);if(l)var c=l.get(null);else{l=new Map,j0.set(e,l);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var G=m[v];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(l.set(G.dataset.precedence,G),c=G)}c&&l.set(null,c)}m=n.instance,G=m.getAttribute("data-precedence"),v=l.get(G)||c,v===c&&l.set(null,m),l.set(G,m),this.count++,c=I0.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Tf={$$typeof:D,Provider:null,Consumer:null,_currentValue:Ct,_currentValue2:Ct,_threadCount:0};function M4(e,n,l,c,m,v,G,Z){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.hiddenUpdates=Nl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function Cp(e,n,l,c,m,v,G,Z,tt,lt,bt,Ot){return e=new M4(e,n,l,G,Z,tt,lt,Ot),n=1,v===!0&&(n|=24),v=wn(3,null,null,n),e.current=v,v.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:n},Ui(v),e}function Rp(e){return e?(e=Qr,e):Qr}function Dp(e,n,l,c,m,v){m=Rp(m),c.context===null?c.context=m:c.pendingContext=m,c=Aa(n),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Ca(e,c,n),l!==null&&(jn(l,e,n),fl(l,e,n))}function Np(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function gm(e,n){Np(e,n),(e=e.alternate)&&Np(e,n)}function Mp(e){if(e.tag===13){var n=lr(e,67108864);n!==null&&jn(n,e,67108864),gm(e,67108864)}}var F0=!0;function O4(e,n,l,c){var m=M.T;M.T=null;var v=gt.p;try{gt.p=2,mm(e,n,l,c)}finally{gt.p=v,M.T=m}}function x4(e,n,l,c){var m=M.T;M.T=null;var v=gt.p;try{gt.p=8,mm(e,n,l,c)}finally{gt.p=v,M.T=m}}function mm(e,n,l,c){if(F0){var m=pm(c);if(m===null)im(e,n,c,Y0,l),xp(e,c);else if(V4(m,e,n,l,c))c.stopPropagation();else if(xp(e,c),n&4&&-1<w4.indexOf(e)){for(;m!==null;){var v=Sn(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var G=Yi(v.pendingLanes);if(G!==0){var Z=v;for(Z.pendingLanes|=2,Z.entangledLanes|=2;G;){var tt=1<<31-Xn(G);Z.entanglements[1]|=tt,G&=~tt}We(v),!($t&6)&&(pe=en()+500,Se(0))}}break;case 13:Z=lr(v,2),Z!==null&&jn(Z,v,2),su(),gm(v,2)}if(v=pm(c),v===null&&im(e,n,c,Y0,l),v===m)break;m=v}m!==null&&c.stopPropagation()}else im(e,n,c,null,l)}}function pm(e){return e=Lr(e),ym(e)}var Y0=null;function ym(e){if(Y0=null,e=ma(e),e!==null){var n=at(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=dt(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Y0=e,null}function Op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mi()){case Ce:return 2;case qe:return 8;case Qn:case ca:return 32;case ji:return 268435456;default:return 32}default:return 32}}var _m=!1,to=null,eo=null,no=null,bf=new Map,Af=new Map,io=[],w4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(e,n){switch(e){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":bf.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(n.pointerId)}}function Cf(e,n,l,c,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},n!==null&&(n=Sn(n),n!==null&&Mp(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function V4(e,n,l,c,m){switch(n){case"focusin":return to=Cf(to,e,n,l,c,m),!0;case"dragenter":return eo=Cf(eo,e,n,l,c,m),!0;case"mouseover":return no=Cf(no,e,n,l,c,m),!0;case"pointerover":var v=m.pointerId;return bf.set(v,Cf(bf.get(v)||null,e,n,l,c,m)),!0;case"gotpointercapture":return v=m.pointerId,Af.set(v,Cf(Af.get(v)||null,e,n,l,c,m)),!0}return!1}function wp(e){var n=ma(e.target);if(n!==null){var l=at(n);if(l!==null){if(n=l.tag,n===13){if(n=dt(l),n!==null){e.blockedOn=n,Oi(e.priority,function(){if(l.tag===13){var c=Gi(),m=lr(l,c);m!==null&&jn(m,l,c),gm(l,c)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function k0(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=pm(e.nativeEvent);if(l===null){l=e.nativeEvent;var c=new l.constructor(l.type,l);_a=c,l.target.dispatchEvent(c),_a=null}else return n=Sn(l),n!==null&&Mp(n),e.blockedOn=l,!1;n.shift()}return!0}function Vp(e,n,l){k0(e)&&l.delete(n)}function U4(){_m=!1,to!==null&&k0(to)&&(to=null),eo!==null&&k0(eo)&&(eo=null),no!==null&&k0(no)&&(no=null),bf.forEach(Vp),Af.forEach(Vp)}function K0(e,n){e.blockedOn===n&&(e.blockedOn=null,_m||(_m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,U4)))}var Q0=null;function Up(e){Q0!==e&&(Q0=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Q0===e&&(Q0=null);for(var n=0;n<e.length;n+=3){var l=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(ym(c||l)===null)continue;break}var v=Sn(l);v!==null&&(e.splice(n,3),n-=3,Qh(v,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Rf(e){function n(tt){return K0(tt,e)}to!==null&&K0(to,e),eo!==null&&K0(eo,e),no!==null&&K0(no,e),bf.forEach(n),Af.forEach(n);for(var l=0;l<io.length;l++){var c=io[l];c.blockedOn===e&&(c.blockedOn=null)}for(;0<io.length&&(l=io[0],l.blockedOn===null);)wp(l),l.blockedOn===null&&io.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],v=l[c+1],G=m[ue]||null;if(typeof v=="function")G||Up(l);else if(G){var Z=null;if(v&&v.hasAttribute("formAction")){if(m=v,G=v[ue]||null)Z=G.formAction;else if(ym(m)!==null)continue}else Z=G.action;typeof Z=="function"?l[c+1]=Z:(l.splice(c,3),c-=3),Up(l)}}}function vm(e){this._internalRoot=e}X0.prototype.render=vm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(u(409));var l=n.current,c=Gi();Dp(l,c,e,n,null,null)},X0.prototype.unmount=vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Vt(),Dp(e.current,2,null,e,null,null),su(),n[$a]=null}};function X0(e){this._internalRoot=e}X0.prototype.unstable_scheduleHydration=function(e){if(e){var n=To();e={blockedOn:null,target:e,priority:n};for(var l=0;l<io.length&&n!==0&&n<io[l].priority;l++);io.splice(l,0,e),l===0&&wp(e)}};var zp=t.version;if(zp!=="19.0.0")throw Error(u(527,zp,"19.0.0"));gt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=it(n),e=e!==null?St(e):null,e=e===null?null:e.stateNode,e};var z4={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:M,findFiberByHostInstance:ma,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Z0.isDisabled&&Z0.supportsFiber)try{nn=Z0.inject(z4),be=Z0}catch{}}return Nf.createRoot=function(e,n){if(!o(e))throw Error(u(299));var l=!1,c="",m=b0,v=A0,G=C0,Z=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(G=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(Z=n.unstable_transitionCallbacks)),n=Cp(e,1,!1,null,null,l,c,m,v,G,Z,null),e[$a]=n.current,nm(e.nodeType===8?e.parentNode:e),new vm(n)},Nf.hydrateRoot=function(e,n,l){if(!o(e))throw Error(u(299));var c=!1,m="",v=b0,G=A0,Z=C0,tt=null,lt=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(G=l.onCaughtError),l.onRecoverableError!==void 0&&(Z=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(tt=l.unstable_transitionCallbacks),l.formState!==void 0&&(lt=l.formState)),n=Cp(e,1,!0,n,l??null,c,m,v,G,Z,tt,lt),n.context=Rp(null),l=n.current,c=Gi(),m=Aa(c),m.callback=null,Ca(l,m,c),n.current.lanes=c,vn(n,c),We(n),e[$a]=n.current,nm(e),new X0(n)},Nf.version="19.0.0",Nf}var kp;function F4(){if(kp)return Tm.exports;kp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tm.exports=j4(),Tm.exports}var Y4=F4(),ig={exports:{}},Mf={},Rm={},Dm={},Kp;function ye(){return Kp||(Kp=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._registerNode=r.Konva=r.glob=void 0;const t=Math.PI/180;function a(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}r.glob=typeof Bp<"u"?Bp:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},r.Konva={_global:r.glob,version:"9.3.18",isBrowser:a(),isUnminified:/param/.test((function(o){}).toString()),dblClickWindow:400,getAngle(o){return r.Konva.angleDeg?o*t:o},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return r.Konva.DD.isDragging},isTransforming(){var o;return(o=r.Konva.Transformer)===null||o===void 0?void 0:o.isTransforming()},isDragReady(){return!!r.Konva.DD.node},releaseCanvasOnDestroy:!0,document:r.glob.document,_injectGlobal(o){r.glob.Konva=o}};const u=o=>{r.Konva[o.prototype.getClassName()]=o};r._registerNode=u,r.Konva._injectGlobal(r.Konva)}(Dm)),Dm}var Nm={},Qp;function kn(){return Qp||(Qp=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Util=r.Transform=void 0;const t=ye();class a{constructor(H=[1,0,0,1,0,0]){this.dirty=!1,this.m=H&&H.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new a(this.m)}copyInto(H){H.m[0]=this.m[0],H.m[1]=this.m[1],H.m[2]=this.m[2],H.m[3]=this.m[3],H.m[4]=this.m[4],H.m[5]=this.m[5]}point(H){const I=this.m;return{x:I[0]*H.x+I[2]*H.y+I[4],y:I[1]*H.x+I[3]*H.y+I[5]}}translate(H,I){return this.m[4]+=this.m[0]*H+this.m[2]*I,this.m[5]+=this.m[1]*H+this.m[3]*I,this}scale(H,I){return this.m[0]*=H,this.m[1]*=H,this.m[2]*=I,this.m[3]*=I,this}rotate(H){const I=Math.cos(H),k=Math.sin(H),j=this.m[0]*I+this.m[2]*k,V=this.m[1]*I+this.m[3]*k,M=this.m[0]*-k+this.m[2]*I,w=this.m[1]*-k+this.m[3]*I;return this.m[0]=j,this.m[1]=V,this.m[2]=M,this.m[3]=w,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(H,I){const k=this.m[0]+this.m[2]*I,j=this.m[1]+this.m[3]*I,V=this.m[2]+this.m[0]*H,M=this.m[3]+this.m[1]*H;return this.m[0]=k,this.m[1]=j,this.m[2]=V,this.m[3]=M,this}multiply(H){const I=this.m[0]*H.m[0]+this.m[2]*H.m[1],k=this.m[1]*H.m[0]+this.m[3]*H.m[1],j=this.m[0]*H.m[2]+this.m[2]*H.m[3],V=this.m[1]*H.m[2]+this.m[3]*H.m[3],M=this.m[0]*H.m[4]+this.m[2]*H.m[5]+this.m[4],w=this.m[1]*H.m[4]+this.m[3]*H.m[5]+this.m[5];return this.m[0]=I,this.m[1]=k,this.m[2]=j,this.m[3]=V,this.m[4]=M,this.m[5]=w,this}invert(){const H=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),I=this.m[3]*H,k=-this.m[1]*H,j=-this.m[2]*H,V=this.m[0]*H,M=H*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),w=H*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=I,this.m[1]=k,this.m[2]=j,this.m[3]=V,this.m[4]=M,this.m[5]=w,this}getMatrix(){return this.m}decompose(){const H=this.m[0],I=this.m[1],k=this.m[2],j=this.m[3],V=this.m[4],M=this.m[5],w=H*j-I*k,q={x:V,y:M,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(H!=0||I!=0){const K=Math.sqrt(H*H+I*I);q.rotation=I>0?Math.acos(H/K):-Math.acos(H/K),q.scaleX=K,q.scaleY=w/K,q.skewX=(H*k+I*j)/w,q.skewY=0}else if(k!=0||j!=0){const K=Math.sqrt(k*k+j*j);q.rotation=Math.PI/2-(j>0?Math.acos(-k/K):-Math.acos(k/K)),q.scaleX=w/K,q.scaleY=K,q.skewX=0,q.skewY=(H*k+I*j)/w}return q.rotation=r.Util._getRotation(q.rotation),q}}r.Transform=a;const u="[object Array]",o="[object Number]",f="[object String]",g="[object Boolean]",y=Math.PI/180,_=180/Math.PI,S="#",b="",O="0",U="Konva warning: ",D="Konva error: ",x="rgb(",z={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},L=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let F=[];const C=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(R){setTimeout(R,60)};r.Util={_isElement(R){return!!(R&&R.nodeType==1)},_isFunction(R){return!!(R&&R.constructor&&R.call&&R.apply)},_isPlainObject(R){return!!R&&R.constructor===Object},_isArray(R){return Object.prototype.toString.call(R)===u},_isNumber(R){return Object.prototype.toString.call(R)===o&&!isNaN(R)&&isFinite(R)},_isString(R){return Object.prototype.toString.call(R)===f},_isBoolean(R){return Object.prototype.toString.call(R)===g},isObject(R){return R instanceof Object},isValidSelector(R){if(typeof R!="string")return!1;const H=R[0];return H==="#"||H==="."||H===H.toUpperCase()},_sign(R){return R===0||R>0?1:-1},requestAnimFrame(R){F.push(R),F.length===1&&C(function(){const H=F;F=[],H.forEach(function(I){I()})})},createCanvasElement(){const R=document.createElement("canvas");try{R.style=R.style||{}}catch{}return R},createImageElement(){return document.createElement("img")},_isInDocument(R){for(;R=R.parentNode;)if(R==document)return!0;return!1},_urlToImage(R,H){const I=r.Util.createImageElement();I.onload=function(){H(I)},I.src=R},_rgbToHex(R,H,I){return((1<<24)+(R<<16)+(H<<8)+I).toString(16).slice(1)},_hexToRgb(R){R=R.replace(S,b);const H=parseInt(R,16);return{r:H>>16&255,g:H>>8&255,b:H&255}},getRandomColor(){let R=(Math.random()*16777215<<0).toString(16);for(;R.length<6;)R=O+R;return S+R},getRGB(R){let H;return R in z?(H=z[R],{r:H[0],g:H[1],b:H[2]}):R[0]===S?this._hexToRgb(R.substring(1)):R.substr(0,4)===x?(H=L.exec(R.replace(/ /g,"")),{r:parseInt(H[1],10),g:parseInt(H[2],10),b:parseInt(H[3],10)}):{r:0,g:0,b:0}},colorToRGBA(R){return R=R||"black",r.Util._namedColorToRBA(R)||r.Util._hex3ColorToRGBA(R)||r.Util._hex4ColorToRGBA(R)||r.Util._hex6ColorToRGBA(R)||r.Util._hex8ColorToRGBA(R)||r.Util._rgbColorToRGBA(R)||r.Util._rgbaColorToRGBA(R)||r.Util._hslColorToRGBA(R)},_namedColorToRBA(R){const H=z[R.toLowerCase()];return H?{r:H[0],g:H[1],b:H[2],a:1}:null},_rgbColorToRGBA(R){if(R.indexOf("rgb(")===0){R=R.match(/rgb\(([^)]+)\)/)[1];const H=R.split(/ *, */).map(Number);return{r:H[0],g:H[1],b:H[2],a:1}}},_rgbaColorToRGBA(R){if(R.indexOf("rgba(")===0){R=R.match(/rgba\(([^)]+)\)/)[1];const H=R.split(/ *, */).map((I,k)=>I.slice(-1)==="%"?k===3?parseInt(I)/100:parseInt(I)/100*255:Number(I));return{r:H[0],g:H[1],b:H[2],a:H[3]}}},_hex8ColorToRGBA(R){if(R[0]==="#"&&R.length===9)return{r:parseInt(R.slice(1,3),16),g:parseInt(R.slice(3,5),16),b:parseInt(R.slice(5,7),16),a:parseInt(R.slice(7,9),16)/255}},_hex6ColorToRGBA(R){if(R[0]==="#"&&R.length===7)return{r:parseInt(R.slice(1,3),16),g:parseInt(R.slice(3,5),16),b:parseInt(R.slice(5,7),16),a:1}},_hex4ColorToRGBA(R){if(R[0]==="#"&&R.length===5)return{r:parseInt(R[1]+R[1],16),g:parseInt(R[2]+R[2],16),b:parseInt(R[3]+R[3],16),a:parseInt(R[4]+R[4],16)/255}},_hex3ColorToRGBA(R){if(R[0]==="#"&&R.length===4)return{r:parseInt(R[1]+R[1],16),g:parseInt(R[2]+R[2],16),b:parseInt(R[3]+R[3],16),a:1}},_hslColorToRGBA(R){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(R)){const[H,...I]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(R),k=Number(I[0])/360,j=Number(I[1])/100,V=Number(I[2])/100;let M,w,q;if(j===0)return q=V*255,{r:Math.round(q),g:Math.round(q),b:Math.round(q),a:1};V<.5?M=V*(1+j):M=V+j-V*j;const K=2*V-M,T=[0,0,0];for(let Y=0;Y<3;Y++)w=k+1/3*-(Y-1),w<0&&w++,w>1&&w--,6*w<1?q=K+(M-K)*6*w:2*w<1?q=M:3*w<2?q=K+(M-K)*(2/3-w)*6:q=K,T[Y]=q*255;return{r:Math.round(T[0]),g:Math.round(T[1]),b:Math.round(T[2]),a:1}}},haveIntersection(R,H){return!(H.x>R.x+R.width||H.x+H.width<R.x||H.y>R.y+R.height||H.y+H.height<R.y)},cloneObject(R){const H={};for(const I in R)this._isPlainObject(R[I])?H[I]=this.cloneObject(R[I]):this._isArray(R[I])?H[I]=this.cloneArray(R[I]):H[I]=R[I];return H},cloneArray(R){return R.slice(0)},degToRad(R){return R*y},radToDeg(R){return R*_},_degToRad(R){return r.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),r.Util.degToRad(R)},_radToDeg(R){return r.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),r.Util.radToDeg(R)},_getRotation(R){return t.Konva.angleDeg?r.Util.radToDeg(R):R},_capitalize(R){return R.charAt(0).toUpperCase()+R.slice(1)},throw(R){throw new Error(D+R)},error(R){console.error(D+R)},warn(R){t.Konva.showWarnings&&console.warn(U+R)},each(R,H){for(const I in R)H(I,R[I])},_inRange(R,H,I){return H<=R&&R<I},_getProjectionToSegment(R,H,I,k,j,V){let M,w,q;const K=(R-I)*(R-I)+(H-k)*(H-k);if(K==0)M=R,w=H,q=(j-I)*(j-I)+(V-k)*(V-k);else{const T=((j-R)*(I-R)+(V-H)*(k-H))/K;T<0?(M=R,w=H,q=(R-j)*(R-j)+(H-V)*(H-V)):T>1?(M=I,w=k,q=(I-j)*(I-j)+(k-V)*(k-V)):(M=R+T*(I-R),w=H+T*(k-H),q=(M-j)*(M-j)+(w-V)*(w-V))}return[M,w,q]},_getProjectionToLine(R,H,I){const k=r.Util.cloneObject(R);let j=Number.MAX_VALUE;return H.forEach(function(V,M){if(!I&&M===H.length-1)return;const w=H[(M+1)%H.length],q=r.Util._getProjectionToSegment(V.x,V.y,w.x,w.y,R.x,R.y),K=q[0],T=q[1],Y=q[2];Y<j&&(k.x=K,k.y=T,j=Y)}),k},_prepareArrayForTween(R,H,I){const k=[],j=[];if(R.length>H.length){const M=H;H=R,R=M}for(let M=0;M<R.length;M+=2)k.push({x:R[M],y:R[M+1]});for(let M=0;M<H.length;M+=2)j.push({x:H[M],y:H[M+1]});const V=[];return j.forEach(function(M){const w=r.Util._getProjectionToLine(M,k,I);V.push(w.x),V.push(w.y)}),V},_prepareToStringify(R){let H;R.visitedByCircularReferenceRemoval=!0;for(const I in R)if(R.hasOwnProperty(I)&&R[I]&&typeof R[I]=="object"){if(H=Object.getOwnPropertyDescriptor(R,I),R[I].visitedByCircularReferenceRemoval||r.Util._isElement(R[I]))if(H.configurable)delete R[I];else return null;else if(r.Util._prepareToStringify(R[I])===null)if(H.configurable)delete R[I];else return null}return delete R.visitedByCircularReferenceRemoval,R},_assign(R,H){for(const I in H)R[I]=H[I];return R},_getFirstPointerId(R){return R.touches?R.changedTouches[0].identifier:R.pointerId||999},releaseCanvas(...R){t.Konva.releaseCanvasOnDestroy&&R.forEach(H=>{H.width=0,H.height=0})},drawRoundedRectPath(R,H,I,k){let j=0,V=0,M=0,w=0;typeof k=="number"?j=V=M=w=Math.min(k,H/2,I/2):(j=Math.min(k[0]||0,H/2,I/2),V=Math.min(k[1]||0,H/2,I/2),w=Math.min(k[2]||0,H/2,I/2),M=Math.min(k[3]||0,H/2,I/2)),R.moveTo(j,0),R.lineTo(H-V,0),R.arc(H-V,V,V,Math.PI*3/2,0,!1),R.lineTo(H,I-w),R.arc(H-w,I-w,w,0,Math.PI/2,!1),R.lineTo(M,I),R.arc(M,I-M,M,Math.PI/2,Math.PI,!1),R.lineTo(0,j),R.arc(j,j,j,Math.PI,Math.PI*3/2,!1)}}}(Nm)),Nm}var Of={},Mm={},Xa={},Xp;function Ae(){if(Xp)return Xa;Xp=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.RGBComponent=u,Xa.alphaComponent=o,Xa.getNumberValidator=f,Xa.getNumberOrArrayOfNumbersValidator=g,Xa.getNumberOrAutoValidator=y,Xa.getStringValidator=_,Xa.getStringOrGradientValidator=S,Xa.getFunctionValidator=b,Xa.getNumberArrayValidator=O,Xa.getBooleanValidator=U,Xa.getComponentValidator=D;const r=ye(),t=kn();function a(x){return t.Util._isString(x)?'"'+x+'"':Object.prototype.toString.call(x)==="[object Number]"||t.Util._isBoolean(x)?x:Object.prototype.toString.call(x)}function u(x){return x>255?255:x<0?0:Math.round(x)}function o(x){return x>1?1:x<1e-4?1e-4:x}function f(){if(r.Konva.isUnminified)return function(x,z){return t.Util._isNumber(x)||t.Util.warn(a(x)+' is a not valid value for "'+z+'" attribute. The value should be a number.'),x}}function g(x){if(r.Konva.isUnminified)return function(z,L){let F=t.Util._isNumber(z),C=t.Util._isArray(z)&&z.length==x;return!F&&!C&&t.Util.warn(a(z)+' is a not valid value for "'+L+'" attribute. The value should be a number or Array<number>('+x+")"),z}}function y(){if(r.Konva.isUnminified)return function(x,z){var L=t.Util._isNumber(x),F=x==="auto";return L||F||t.Util.warn(a(x)+' is a not valid value for "'+z+'" attribute. The value should be a number or "auto".'),x}}function _(){if(r.Konva.isUnminified)return function(x,z){return t.Util._isString(x)||t.Util.warn(a(x)+' is a not valid value for "'+z+'" attribute. The value should be a string.'),x}}function S(){if(r.Konva.isUnminified)return function(x,z){const L=t.Util._isString(x),F=Object.prototype.toString.call(x)==="[object CanvasGradient]"||x&&x.addColorStop;return L||F||t.Util.warn(a(x)+' is a not valid value for "'+z+'" attribute. The value should be a string or a native gradient.'),x}}function b(){if(r.Konva.isUnminified)return function(x,z){return t.Util._isFunction(x)||t.Util.warn(a(x)+' is a not valid value for "'+z+'" attribute. The value should be a function.'),x}}function O(){if(r.Konva.isUnminified)return function(x,z){const L=Int8Array?Object.getPrototypeOf(Int8Array):null;return L&&x instanceof L||(t.Util._isArray(x)?x.forEach(function(F){t.Util._isNumber(F)||t.Util.warn('"'+z+'" attribute has non numeric element '+F+". Make sure that all elements are numbers.")}):t.Util.warn(a(x)+' is a not valid value for "'+z+'" attribute. The value should be a array of numbers.')),x}}function U(){if(r.Konva.isUnminified)return function(x,z){var L=x===!0||x===!1;return L||t.Util.warn(a(x)+' is a not valid value for "'+z+'" attribute. The value should be a boolean.'),x}}function D(x){if(r.Konva.isUnminified)return function(z,L){return z==null||t.Util.isObject(z)||t.Util.warn(a(z)+' is a not valid value for "'+L+'" attribute. The value should be an object with properties '+x),z}}return Xa}var Zp;function Te(){return Zp||(Zp=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Factory=void 0;const t=kn(),a=Ae(),u="get",o="set";r.Factory={addGetterSetter(f,g,y,_,S){r.Factory.addGetter(f,g,y),r.Factory.addSetter(f,g,_,S),r.Factory.addOverloadedGetterSetter(f,g)},addGetter(f,g,y){var _=u+t.Util._capitalize(g);f.prototype[_]=f.prototype[_]||function(){const S=this.attrs[g];return S===void 0?y:S}},addSetter(f,g,y,_){var S=o+t.Util._capitalize(g);f.prototype[S]||r.Factory.overWriteSetter(f,g,y,_)},overWriteSetter(f,g,y,_){var S=o+t.Util._capitalize(g);f.prototype[S]=function(b){return y&&b!==void 0&&b!==null&&(b=y.call(this,b,g)),this._setAttr(g,b),_&&_.call(this),this}},addComponentsGetterSetter(f,g,y,_,S){const b=y.length,O=t.Util._capitalize,U=u+O(g),D=o+O(g);f.prototype[U]=function(){const z={};for(let L=0;L<b;L++){const F=y[L];z[F]=this.getAttr(g+O(F))}return z};const x=(0,a.getComponentValidator)(y);f.prototype[D]=function(z){const L=this.attrs[g];_&&(z=_.call(this,z,g)),x&&x.call(this,z,g);for(const F in z)z.hasOwnProperty(F)&&this._setAttr(g+O(F),z[F]);return z||y.forEach(F=>{this._setAttr(g+O(F),void 0)}),this._fireChangeEvent(g,L,z),S&&S.call(this),this},r.Factory.addOverloadedGetterSetter(f,g)},addOverloadedGetterSetter(f,g){var y=t.Util._capitalize(g),_=o+y,S=u+y;f.prototype[g]=function(){return arguments.length?(this[_](arguments[0]),this):this[S]()}},addDeprecatedGetterSetter(f,g,y,_){t.Util.error("Adding deprecated "+g);const S=u+t.Util._capitalize(g),b=g+" property is deprecated and will be removed soon. Look at Konva change log for more information.";f.prototype[S]=function(){t.Util.error(b);const O=this.attrs[g];return O===void 0?y:O},r.Factory.addSetter(f,g,_,function(){t.Util.error(b)}),r.Factory.addOverloadedGetterSetter(f,g)},backCompat(f,g){t.Util.each(g,function(y,_){const S=f.prototype[_],b=u+t.Util._capitalize(y),O=o+t.Util._capitalize(y);function U(){S.apply(this,arguments),t.Util.error('"'+y+'" method is deprecated and will be removed soon. Use ""'+_+'" instead.')}f.prototype[y]=U,f.prototype[b]=U,f.prototype[O]=U})},afterSetFilter(){this._filterUpToDate=!1}}}(Mm)),Mm}var ou={},cu={},Jp;function d_(){if(Jp)return cu;Jp=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.HitContext=cu.SceneContext=cu.Context=void 0;const r=kn(),t=ye();function a(F){const C=[],R=F.length,H=r.Util;for(let I=0;I<R;I++){let k=F[I];H._isNumber(k)?k=Math.round(k*1e3)/1e3:H._isString(k)||(k=k+""),C.push(k)}return C}const u=",",o="(",f=")",g="([",y="])",_=";",S="()",b="=",O=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],U=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],D=100;let x=class{constructor(C){this.canvas=C,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(C){C.fillEnabled()&&this._fill(C)}_fill(C){}strokeShape(C){C.hasStroke()&&this._stroke(C)}_stroke(C){}fillStrokeShape(C){C.attrs.fillAfterStrokeEnabled?(this.strokeShape(C),this.fillShape(C)):(this.fillShape(C),this.strokeShape(C))}getTrace(C,R){let H=this.traceArr,I=H.length,k="",j,V,M,w;for(j=0;j<I;j++)V=H[j],M=V.method,M?(w=V.args,k+=M,C?k+=S:r.Util._isArray(w[0])?k+=g+w.join(u)+y:(R&&(w=w.map(q=>typeof q=="number"?Math.floor(q):q)),k+=o+w.join(u)+f)):(k+=V.property,C||(k+=b+V.val)),k+=_;return k}clearTrace(){this.traceArr=[]}_trace(C){let R=this.traceArr,H;R.push(C),H=R.length,H>=D&&R.shift()}reset(){const C=this.getCanvas().getPixelRatio();this.setTransform(1*C,0,0,1*C,0,0)}getCanvas(){return this.canvas}clear(C){const R=this.getCanvas();C?this.clearRect(C.x||0,C.y||0,C.width||0,C.height||0):this.clearRect(0,0,R.getWidth()/R.pixelRatio,R.getHeight()/R.pixelRatio)}_applyLineCap(C){const R=C.attrs.lineCap;R&&this.setAttr("lineCap",R)}_applyOpacity(C){const R=C.getAbsoluteOpacity();R!==1&&this.setAttr("globalAlpha",R)}_applyLineJoin(C){const R=C.attrs.lineJoin;R&&this.setAttr("lineJoin",R)}setAttr(C,R){this._context[C]=R}arc(C,R,H,I,k,j){this._context.arc(C,R,H,I,k,j)}arcTo(C,R,H,I,k){this._context.arcTo(C,R,H,I,k)}beginPath(){this._context.beginPath()}bezierCurveTo(C,R,H,I,k,j){this._context.bezierCurveTo(C,R,H,I,k,j)}clearRect(C,R,H,I){this._context.clearRect(C,R,H,I)}clip(...C){this._context.clip.apply(this._context,C)}closePath(){this._context.closePath()}createImageData(C,R){const H=arguments;if(H.length===2)return this._context.createImageData(C,R);if(H.length===1)return this._context.createImageData(C)}createLinearGradient(C,R,H,I){return this._context.createLinearGradient(C,R,H,I)}createPattern(C,R){return this._context.createPattern(C,R)}createRadialGradient(C,R,H,I,k,j){return this._context.createRadialGradient(C,R,H,I,k,j)}drawImage(C,R,H,I,k,j,V,M,w){const q=arguments,K=this._context;q.length===3?K.drawImage(C,R,H):q.length===5?K.drawImage(C,R,H,I,k):q.length===9&&K.drawImage(C,R,H,I,k,j,V,M,w)}ellipse(C,R,H,I,k,j,V,M){this._context.ellipse(C,R,H,I,k,j,V,M)}isPointInPath(C,R,H,I){return H?this._context.isPointInPath(H,C,R,I):this._context.isPointInPath(C,R,I)}fill(...C){this._context.fill.apply(this._context,C)}fillRect(C,R,H,I){this._context.fillRect(C,R,H,I)}strokeRect(C,R,H,I){this._context.strokeRect(C,R,H,I)}fillText(C,R,H,I){I?this._context.fillText(C,R,H,I):this._context.fillText(C,R,H)}measureText(C){return this._context.measureText(C)}getImageData(C,R,H,I){return this._context.getImageData(C,R,H,I)}lineTo(C,R){this._context.lineTo(C,R)}moveTo(C,R){this._context.moveTo(C,R)}rect(C,R,H,I){this._context.rect(C,R,H,I)}roundRect(C,R,H,I,k){this._context.roundRect(C,R,H,I,k)}putImageData(C,R,H){this._context.putImageData(C,R,H)}quadraticCurveTo(C,R,H,I){this._context.quadraticCurveTo(C,R,H,I)}restore(){this._context.restore()}rotate(C){this._context.rotate(C)}save(){this._context.save()}scale(C,R){this._context.scale(C,R)}setLineDash(C){this._context.setLineDash?this._context.setLineDash(C):"mozDash"in this._context?this._context.mozDash=C:"webkitLineDash"in this._context&&(this._context.webkitLineDash=C)}getLineDash(){return this._context.getLineDash()}setTransform(C,R,H,I,k,j){this._context.setTransform(C,R,H,I,k,j)}stroke(C){C?this._context.stroke(C):this._context.stroke()}strokeText(C,R,H,I){this._context.strokeText(C,R,H,I)}transform(C,R,H,I,k,j){this._context.transform(C,R,H,I,k,j)}translate(C,R){this._context.translate(C,R)}_enableTrace(){let C=this,R=O.length,H=this.setAttr,I,k;const j=function(V){let M=C[V],w;C[V]=function(){return k=a(Array.prototype.slice.call(arguments,0)),w=M.apply(C,arguments),C._trace({method:V,args:k}),w}};for(I=0;I<R;I++)j(O[I]);C.setAttr=function(){H.apply(C,arguments);const V=arguments[0];let M=arguments[1];(V==="shadowOffsetX"||V==="shadowOffsetY"||V==="shadowBlur")&&(M=M/this.canvas.getPixelRatio()),C._trace({property:V,val:M})}}_applyGlobalCompositeOperation(C){const R=C.attrs.globalCompositeOperation;!R||R==="source-over"||this.setAttr("globalCompositeOperation",R)}};cu.Context=x,U.forEach(function(F){Object.defineProperty(x.prototype,F,{get(){return this._context[F]},set(C){this._context[F]=C}})});class z extends x{constructor(C,{willReadFrequently:R=!1}={}){super(C),this._context=C._canvas.getContext("2d",{willReadFrequently:R})}_fillColor(C){const R=C.fill();this.setAttr("fillStyle",R),C._fillFunc(this)}_fillPattern(C){this.setAttr("fillStyle",C._getFillPattern()),C._fillFunc(this)}_fillLinearGradient(C){const R=C._getLinearGradient();R&&(this.setAttr("fillStyle",R),C._fillFunc(this))}_fillRadialGradient(C){const R=C._getRadialGradient();R&&(this.setAttr("fillStyle",R),C._fillFunc(this))}_fill(C){const R=C.fill(),H=C.getFillPriority();if(R&&H==="color"){this._fillColor(C);return}const I=C.getFillPatternImage();if(I&&H==="pattern"){this._fillPattern(C);return}const k=C.getFillLinearGradientColorStops();if(k&&H==="linear-gradient"){this._fillLinearGradient(C);return}const j=C.getFillRadialGradientColorStops();if(j&&H==="radial-gradient"){this._fillRadialGradient(C);return}R?this._fillColor(C):I?this._fillPattern(C):k?this._fillLinearGradient(C):j&&this._fillRadialGradient(C)}_strokeLinearGradient(C){const R=C.getStrokeLinearGradientStartPoint(),H=C.getStrokeLinearGradientEndPoint(),I=C.getStrokeLinearGradientColorStops(),k=this.createLinearGradient(R.x,R.y,H.x,H.y);if(I){for(let j=0;j<I.length;j+=2)k.addColorStop(I[j],I[j+1]);this.setAttr("strokeStyle",k)}}_stroke(C){const R=C.dash(),H=C.getStrokeScaleEnabled();if(C.hasStroke()){if(!H){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(C),R&&C.dashEnabled()&&(this.setLineDash(R),this.setAttr("lineDashOffset",C.dashOffset())),this.setAttr("lineWidth",C.strokeWidth()),C.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),C.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(C):this.setAttr("strokeStyle",C.stroke()),C._strokeFunc(this),H||this.restore()}}_applyShadow(C){var R,H,I;const k=(R=C.getShadowRGBA())!==null&&R!==void 0?R:"black",j=(H=C.getShadowBlur())!==null&&H!==void 0?H:5,V=(I=C.getShadowOffset())!==null&&I!==void 0?I:{x:0,y:0},M=C.getAbsoluteScale(),w=this.canvas.getPixelRatio(),q=M.x*w,K=M.y*w;this.setAttr("shadowColor",k),this.setAttr("shadowBlur",j*Math.min(Math.abs(q),Math.abs(K))),this.setAttr("shadowOffsetX",V.x*q),this.setAttr("shadowOffsetY",V.y*K)}}cu.SceneContext=z;class L extends x{constructor(C){super(C),this._context=C._canvas.getContext("2d",{willReadFrequently:!0})}_fill(C){this.save(),this.setAttr("fillStyle",C.colorKey),C._fillFuncHit(this),this.restore()}strokeShape(C){C.hasHitStroke()&&this._stroke(C)}_stroke(C){if(C.hasHitStroke()){const R=C.getStrokeScaleEnabled();if(!R){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(C);const H=C.hitStrokeWidth(),I=H==="auto"?C.strokeWidth():H;this.setAttr("lineWidth",I),this.setAttr("strokeStyle",C.colorKey),C._strokeFuncHit(this),R||this.restore()}}}return cu.HitContext=L,cu}var Wp;function Cg(){if(Wp)return ou;Wp=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.HitCanvas=ou.SceneCanvas=ou.Canvas=void 0;const r=kn(),t=d_(),a=ye(),u=Te(),o=Ae();let f;function g(){if(f)return f;const b=r.Util.createCanvasElement(),O=b.getContext("2d");return f=function(){const U=a.Konva._global.devicePixelRatio||1,D=O.webkitBackingStorePixelRatio||O.mozBackingStorePixelRatio||O.msBackingStorePixelRatio||O.oBackingStorePixelRatio||O.backingStorePixelRatio||1;return U/D}(),r.Util.releaseCanvas(b),f}let y=class{constructor(O){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const D=(O||{}).pixelRatio||a.Konva.pixelRatio||g();this.pixelRatio=D,this._canvas=r.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(O){const U=this.pixelRatio;this.pixelRatio=O,this.setSize(this.getWidth()/U,this.getHeight()/U)}setWidth(O){this.width=this._canvas.width=O*this.pixelRatio,this._canvas.style.width=O+"px";const U=this.pixelRatio;this.getContext()._context.scale(U,U)}setHeight(O){this.height=this._canvas.height=O*this.pixelRatio,this._canvas.style.height=O+"px";const U=this.pixelRatio;this.getContext()._context.scale(U,U)}getWidth(){return this.width}getHeight(){return this.height}setSize(O,U){this.setWidth(O||0),this.setHeight(U||0)}toDataURL(O,U){try{return this._canvas.toDataURL(O,U)}catch{try{return this._canvas.toDataURL()}catch(x){return r.Util.error("Unable to get data URL. "+x.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ou.Canvas=y,u.Factory.addGetterSetter(y,"pixelRatio",void 0,(0,o.getNumberValidator)());class _ extends y{constructor(O={width:0,height:0,willReadFrequently:!1}){super(O),this.context=new t.SceneContext(this,{willReadFrequently:O.willReadFrequently}),this.setSize(O.width,O.height)}}ou.SceneCanvas=_;class S extends y{constructor(O={width:0,height:0}){super(O),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(O.width,O.height)}}return ou.HitCanvas=S,ou}var Om={},$p;function y1(){return $p||($p=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DD=void 0;const t=ye(),a=kn();r.DD={get isDragging(){let u=!1;return r.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(u=!0)}),u},justDragged:!1,get node(){let u;return r.DD._dragElements.forEach(o=>{u=o.node}),u},_dragElements:new Map,_drag(u){const o=[];r.DD._dragElements.forEach((f,g)=>{const{node:y}=f,_=y.getStage();_.setPointersPositions(u),f.pointerId===void 0&&(f.pointerId=a.Util._getFirstPointerId(u));const S=_._changedPointerPositions.find(b=>b.id===f.pointerId);if(S){if(f.dragStatus!=="dragging"){const b=y.dragDistance();if(Math.max(Math.abs(S.x-f.startPointerPos.x),Math.abs(S.y-f.startPointerPos.y))<b||(y.startDrag({evt:u}),!y.isDragging()))return}y._setDragPosition(u,f),o.push(y)}}),o.forEach(f=>{f.fire("dragmove",{type:"dragmove",target:f,evt:u},!0)})},_endDragBefore(u){const o=[];r.DD._dragElements.forEach(f=>{const{node:g}=f,y=g.getStage();if(u&&y.setPointersPositions(u),!y._changedPointerPositions.find(b=>b.id===f.pointerId))return;(f.dragStatus==="dragging"||f.dragStatus==="stopped")&&(r.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,f.dragStatus="stopped");const S=f.node.getLayer()||f.node instanceof t.Konva.Stage&&f.node;S&&o.indexOf(S)===-1&&o.push(S)}),o.forEach(f=>{f.draw()})},_endDragAfter(u){r.DD._dragElements.forEach((o,f)=>{o.dragStatus==="stopped"&&o.node.fire("dragend",{type:"dragend",target:o.node,evt:u},!0),o.dragStatus!=="dragging"&&r.DD._dragElements.delete(f)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",r.DD._endDragBefore,!0),window.addEventListener("touchend",r.DD._endDragBefore,!0),window.addEventListener("touchcancel",r.DD._endDragBefore,!0),window.addEventListener("mousemove",r.DD._drag),window.addEventListener("touchmove",r.DD._drag),window.addEventListener("mouseup",r.DD._endDragAfter,!1),window.addEventListener("touchend",r.DD._endDragAfter,!1),window.addEventListener("touchcancel",r.DD._endDragAfter,!1))}(Om)),Om}var t2;function ti(){if(t2)return Of;t2=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.Node=void 0;const r=kn(),t=Te(),a=Cg(),u=ye(),o=y1(),f=Ae(),g="absoluteOpacity",y="allEventListeners",_="absoluteTransform",S="absoluteScale",b="canvas",O="Change",U="children",D="konva",x="listening",z="mouseenter",L="mouseleave",F="set",C="Shape",R=" ",H="stage",I="transform",k="Stage",j="visible",V=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(R);let M=1,w=class Km{constructor(T){this._id=M++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(T),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(T){(T===I||T===_)&&this._cache.get(T)?this._cache.get(T).dirty=!0:T?this._cache.delete(T):this._cache.clear()}_getCache(T,Y){let P=this._cache.get(T);return(P===void 0||(T===I||T===_)&&P.dirty===!0)&&(P=Y.call(this),this._cache.set(T,P)),P}_calculate(T,Y,P){if(!this._attachedDepsListeners.get(T)){const X=Y.map($=>$+"Change.konva").join(R);this.on(X,()=>{this._clearCache(T)}),this._attachedDepsListeners.set(T,!0)}return this._getCache(T,P)}_getCanvasCache(){return this._cache.get(b)}_clearSelfAndDescendantCache(T){this._clearCache(T),T===_&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(b)){const{scene:T,filter:Y,hit:P}=this._cache.get(b);r.Util.releaseCanvas(T,Y,P),this._cache.delete(b)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(T){const Y=T||{};let P={};(Y.x===void 0||Y.y===void 0||Y.width===void 0||Y.height===void 0)&&(P=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let X=Math.ceil(Y.width||P.width),$=Math.ceil(Y.height||P.height),at=Y.pixelRatio,dt=Y.x===void 0?Math.floor(P.x):Y.x,Q=Y.y===void 0?Math.floor(P.y):Y.y,it=Y.offset||0,St=Y.drawBorder||!1,st=Y.hitCanvasPixelRatio||1;if(!X||!$){r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const gt=Math.abs(Math.round(P.x)-dt)>.5?1:0,Ct=Math.abs(Math.round(P.y)-Q)>.5?1:0;X+=it*2+gt,$+=it*2+Ct,dt-=it,Q-=it;const Mt=new a.SceneCanvas({pixelRatio:at,width:X,height:$}),et=new a.SceneCanvas({pixelRatio:at,width:0,height:0,willReadFrequently:!0}),ct=new a.HitCanvas({pixelRatio:st,width:X,height:$}),At=Mt.getContext(),Rt=ct.getContext();return ct.isCache=!0,Mt.isCache=!0,this._cache.delete(b),this._filterUpToDate=!1,Y.imageSmoothingEnabled===!1&&(Mt.getContext()._context.imageSmoothingEnabled=!1,et.getContext()._context.imageSmoothingEnabled=!1),At.save(),Rt.save(),At.translate(-dt,-Q),Rt.translate(-dt,-Q),this._isUnderCache=!0,this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(S),this.drawScene(Mt,this),this.drawHit(ct,this),this._isUnderCache=!1,At.restore(),Rt.restore(),St&&(At.save(),At.beginPath(),At.rect(0,0,X,$),At.closePath(),At.setAttr("strokeStyle","red"),At.setAttr("lineWidth",5),At.stroke(),At.restore()),this._cache.set(b,{scene:Mt,filter:et,hit:ct,x:dt,y:Q}),this._requestDraw(),this}isCached(){return this._cache.has(b)}getClientRect(T){throw new Error('abstract "getClientRect" method call')}_transformedRect(T,Y){const P=[{x:T.x,y:T.y},{x:T.x+T.width,y:T.y},{x:T.x+T.width,y:T.y+T.height},{x:T.x,y:T.y+T.height}];let X=1/0,$=1/0,at=-1/0,dt=-1/0;const Q=this.getAbsoluteTransform(Y);return P.forEach(function(it){const St=Q.point(it);X===void 0&&(X=at=St.x,$=dt=St.y),X=Math.min(X,St.x),$=Math.min($,St.y),at=Math.max(at,St.x),dt=Math.max(dt,St.y)}),{x:X,y:$,width:at-X,height:dt-$}}_drawCachedSceneCanvas(T){T.save(),T._applyOpacity(this),T._applyGlobalCompositeOperation(this);const Y=this._getCanvasCache();T.translate(Y.x,Y.y);const P=this._getCachedSceneCanvas(),X=P.pixelRatio;T.drawImage(P._canvas,0,0,P.width/X,P.height/X),T.restore()}_drawCachedHitCanvas(T){const Y=this._getCanvasCache(),P=Y.hit;T.save(),T.translate(Y.x,Y.y),T.drawImage(P._canvas,0,0,P.width/P.pixelRatio,P.height/P.pixelRatio),T.restore()}_getCachedSceneCanvas(){let T=this.filters(),Y=this._getCanvasCache(),P=Y.scene,X=Y.filter,$=X.getContext(),at,dt,Q,it;if(T){if(!this._filterUpToDate){const St=P.pixelRatio;X.setSize(P.width/P.pixelRatio,P.height/P.pixelRatio);try{for(at=T.length,$.clear(),$.drawImage(P._canvas,0,0,P.getWidth()/St,P.getHeight()/St),dt=$.getImageData(0,0,X.getWidth(),X.getHeight()),Q=0;Q<at;Q++){if(it=T[Q],typeof it!="function"){r.Util.error("Filter should be type of function, but got "+typeof it+" instead. Please check correct filters");continue}it.call(this,dt),$.putImageData(dt,0,0)}}catch(st){r.Util.error("Unable to apply filter. "+st.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return X}return P}on(T,Y){if(this._cache&&this._cache.delete(y),arguments.length===3)return this._delegate.apply(this,arguments);let P=T.split(R),X=P.length,$,at,dt,Q,it;for($=0;$<X;$++)at=P[$],dt=at.split("."),Q=dt[0],it=dt[1]||"",this.eventListeners[Q]||(this.eventListeners[Q]=[]),this.eventListeners[Q].push({name:it,handler:Y});return this}off(T,Y){let P=(T||"").split(R),X=P.length,$,at,dt,Q,it,St;if(this._cache&&this._cache.delete(y),!T)for(at in this.eventListeners)this._off(at);for($=0;$<X;$++)if(dt=P[$],Q=dt.split("."),it=Q[0],St=Q[1],it)this.eventListeners[it]&&this._off(it,St,Y);else for(at in this.eventListeners)this._off(at,St,Y);return this}dispatchEvent(T){const Y={target:this,type:T.type,evt:T};return this.fire(T.type,Y),this}addEventListener(T,Y){return this.on(T,function(P){Y.call(this,P.evt)}),this}removeEventListener(T){return this.off(T),this}_delegate(T,Y,P){const X=this;this.on(T,function($){const at=$.target.findAncestors(Y,!0,X);for(let dt=0;dt<at.length;dt++)$=r.Util.cloneObject($),$.currentTarget=at[dt],P.call(at[dt],$)})}remove(){return this.isDragging()&&this.stopDrag(),o.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(_),this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(S),this._clearSelfAndDescendantCache(H),this._clearSelfAndDescendantCache(j),this._clearSelfAndDescendantCache(x)}_remove(){this._clearCaches();const T=this.getParent();T&&T.children&&(T.children.splice(this.index,1),T._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(T){const Y="get"+r.Util._capitalize(T);return r.Util._isFunction(this[Y])?this[Y]():this.attrs[T]}getAncestors(){let T=this.getParent(),Y=[];for(;T;)Y.push(T),T=T.getParent();return Y}getAttrs(){return this.attrs||{}}setAttrs(T){return this._batchTransformChanges(()=>{let Y,P;if(!T)return this;for(Y in T)Y!==U&&(P=F+r.Util._capitalize(Y),r.Util._isFunction(this[P])?this[P](T[Y]):this._setAttr(Y,T[Y]))}),this}isListening(){return this._getCache(x,this._isListening)}_isListening(T){if(!this.listening())return!1;const P=this.getParent();return P&&P!==T&&this!==T?P._isListening(T):!0}isVisible(){return this._getCache(j,this._isVisible)}_isVisible(T){if(!this.visible())return!1;const P=this.getParent();return P&&P!==T&&this!==T?P._isVisible(T):!0}shouldDrawHit(T,Y=!1){if(T)return this._isVisible(T)&&this._isListening(T);const P=this.getLayer();let X=!1;o.DD._dragElements.forEach(at=>{at.dragStatus==="dragging"&&(at.node.nodeType==="Stage"||at.node.getLayer()===P)&&(X=!0)});const $=!Y&&!u.Konva.hitOnDragEnabled&&(X||u.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!$}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let T=this.getDepth(),Y=this,P=0,X,$,at,dt;function Q(St){for(X=[],$=St.length,at=0;at<$;at++)dt=St[at],P++,dt.nodeType!==C&&(X=X.concat(dt.getChildren().slice())),dt._id===Y._id&&(at=$);X.length>0&&X[0].getDepth()<=T&&Q(X)}const it=this.getStage();return Y.nodeType!==k&&it&&Q(it.getChildren()),P}getDepth(){let T=0,Y=this.parent;for(;Y;)T++,Y=Y.parent;return T}_batchTransformChanges(T){this._batchingTransformChange=!0,T(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(I),this._clearSelfAndDescendantCache(_)),this._needClearTransformCache=!1}setPosition(T){return this._batchTransformChanges(()=>{this.x(T.x),this.y(T.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const T=this.getStage();if(!T)return null;const Y=T.getPointerPosition();if(!Y)return null;const P=this.getAbsoluteTransform().copy();return P.invert(),P.point(Y)}getAbsolutePosition(T){let Y=!1,P=this.parent;for(;P;){if(P.isCached()){Y=!0;break}P=P.parent}Y&&!T&&(T=!0);const X=this.getAbsoluteTransform(T).getMatrix(),$=new r.Transform,at=this.offset();return $.m=X.slice(),$.translate(at.x,at.y),$.getTranslation()}setAbsolutePosition(T){const{x:Y,y:P,...X}=this._clearTransform();this.attrs.x=Y,this.attrs.y=P,this._clearCache(I);const $=this._getAbsoluteTransform().copy();return $.invert(),$.translate(T.x,T.y),T={x:this.attrs.x+$.getTranslation().x,y:this.attrs.y+$.getTranslation().y},this._setTransform(X),this.setPosition({x:T.x,y:T.y}),this._clearCache(I),this._clearSelfAndDescendantCache(_),this}_setTransform(T){let Y;for(Y in T)this.attrs[Y]=T[Y]}_clearTransform(){const T={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,T}move(T){let Y=T.x,P=T.y,X=this.x(),$=this.y();return Y!==void 0&&(X+=Y),P!==void 0&&($+=P),this.setPosition({x:X,y:$}),this}_eachAncestorReverse(T,Y){let P=[],X=this.getParent(),$,at;if(!(Y&&Y._id===this._id)){for(P.unshift(this);X&&(!Y||X._id!==Y._id);)P.unshift(X),X=X.parent;for($=P.length,at=0;at<$;at++)T(P[at])}}rotate(T){return this.rotation(this.rotation()+T),this}moveToTop(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const T=this.index,Y=this.parent.getChildren().length;return T<Y-1?(this.parent.children.splice(T,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;const T=this.index,Y=this.parent.getChildren().length;return T<Y-1?(this.parent.children.splice(T,1),this.parent.children.splice(T+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;const T=this.index;return T>0?(this.parent.children.splice(T,1),this.parent.children.splice(T-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const T=this.index;return T>0?(this.parent.children.splice(T,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(T){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(T<0||T>=this.parent.children.length)&&r.Util.warn("Unexpected value "+T+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const Y=this.index;return this.parent.children.splice(Y,1),this.parent.children.splice(T,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(g,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let T=this.opacity();const Y=this.getParent();return Y&&!Y._isUnderCache&&(T*=Y.getAbsoluteOpacity()),T}moveTo(T){return this.getParent()!==T&&(this._remove(),T.add(this)),this}toObject(){let T=this.getAttrs(),Y,P,X,$,at;const dt={attrs:{},className:this.getClassName()};for(Y in T)P=T[Y],at=r.Util.isObject(P)&&!r.Util._isPlainObject(P)&&!r.Util._isArray(P),!at&&(X=typeof this[Y]=="function"&&this[Y],delete T[Y],$=X?X.call(this):null,T[Y]=P,$!==P&&(dt.attrs[Y]=P));return r.Util._prepareToStringify(dt)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(T,Y,P){const X=[];Y&&this._isMatch(T)&&X.push(this);let $=this.parent;for(;$;){if($===P)return X;$._isMatch(T)&&X.push($),$=$.parent}return X}isAncestorOf(T){return!1}findAncestor(T,Y,P){return this.findAncestors(T,Y,P)[0]}_isMatch(T){if(!T)return!1;if(typeof T=="function")return T(this);let Y=T.replace(/ /g,"").split(","),P=Y.length,X,$;for(X=0;X<P;X++)if($=Y[X],r.Util.isValidSelector($)||(r.Util.warn('Selector "'+$+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),$.charAt(0)==="#"){if(this.id()===$.slice(1))return!0}else if($.charAt(0)==="."){if(this.hasName($.slice(1)))return!0}else if(this.className===$||this.nodeType===$)return!0;return!1}getLayer(){const T=this.getParent();return T?T.getLayer():null}getStage(){return this._getCache(H,this._getStage)}_getStage(){const T=this.getParent();return T?T.getStage():null}fire(T,Y={},P){return Y.target=Y.target||this,P?this._fireAndBubble(T,Y):this._fire(T,Y),this}getAbsoluteTransform(T){return T?this._getAbsoluteTransform(T):this._getCache(_,this._getAbsoluteTransform)}_getAbsoluteTransform(T){let Y;if(T)return Y=new r.Transform,this._eachAncestorReverse(function(P){const X=P.transformsEnabled();X==="all"?Y.multiply(P.getTransform()):X==="position"&&Y.translate(P.x()-P.offsetX(),P.y()-P.offsetY())},T),Y;{Y=this._cache.get(_)||new r.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(Y):Y.reset();const P=this.transformsEnabled();if(P==="all")Y.multiply(this.getTransform());else if(P==="position"){const X=this.attrs.x||0,$=this.attrs.y||0,at=this.attrs.offsetX||0,dt=this.attrs.offsetY||0;Y.translate(X-at,$-dt)}return Y.dirty=!1,Y}}getAbsoluteScale(T){let Y=this;for(;Y;)Y._isUnderCache&&(T=Y),Y=Y.getParent();const X=this.getAbsoluteTransform(T).decompose();return{x:X.scaleX,y:X.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(I,this._getTransform)}_getTransform(){var T,Y;const P=this._cache.get(I)||new r.Transform;P.reset();const X=this.x(),$=this.y(),at=u.Konva.getAngle(this.rotation()),dt=(T=this.attrs.scaleX)!==null&&T!==void 0?T:1,Q=(Y=this.attrs.scaleY)!==null&&Y!==void 0?Y:1,it=this.attrs.skewX||0,St=this.attrs.skewY||0,st=this.attrs.offsetX||0,gt=this.attrs.offsetY||0;return(X!==0||$!==0)&&P.translate(X,$),at!==0&&P.rotate(at),(it!==0||St!==0)&&P.skew(it,St),(dt!==1||Q!==1)&&P.scale(dt,Q),(st!==0||gt!==0)&&P.translate(-1*st,-1*gt),P.dirty=!1,P}clone(T){let Y=r.Util.cloneObject(this.attrs),P,X,$,at,dt;for(P in T)Y[P]=T[P];const Q=new this.constructor(Y);for(P in this.eventListeners)for(X=this.eventListeners[P],$=X.length,at=0;at<$;at++)dt=X[at],dt.name.indexOf(D)<0&&(Q.eventListeners[P]||(Q.eventListeners[P]=[]),Q.eventListeners[P].push(dt));return Q}_toKonvaCanvas(T){T=T||{};const Y=this.getClientRect(),P=this.getStage(),X=T.x!==void 0?T.x:Math.floor(Y.x),$=T.y!==void 0?T.y:Math.floor(Y.y),at=T.pixelRatio||1,dt=new a.SceneCanvas({width:T.width||Math.ceil(Y.width)||(P?P.width():0),height:T.height||Math.ceil(Y.height)||(P?P.height():0),pixelRatio:at}),Q=dt.getContext(),it=new a.SceneCanvas({width:dt.width/dt.pixelRatio+Math.abs(X),height:dt.height/dt.pixelRatio+Math.abs($),pixelRatio:dt.pixelRatio});return T.imageSmoothingEnabled===!1&&(Q._context.imageSmoothingEnabled=!1),Q.save(),(X||$)&&Q.translate(-1*X,-1*$),this.drawScene(dt,void 0,it),Q.restore(),dt}toCanvas(T){return this._toKonvaCanvas(T)._canvas}toDataURL(T){T=T||{};const Y=T.mimeType||null,P=T.quality||null,X=this._toKonvaCanvas(T).toDataURL(Y,P);return T.callback&&T.callback(X),X}toImage(T){return new Promise((Y,P)=>{try{const X=T==null?void 0:T.callback;X&&delete T.callback,r.Util._urlToImage(this.toDataURL(T),function($){Y($),X==null||X($)})}catch(X){P(X)}})}toBlob(T){return new Promise((Y,P)=>{try{const X=T==null?void 0:T.callback;X&&delete T.callback,this.toCanvas(T).toBlob($=>{Y($),X==null||X($)},T==null?void 0:T.mimeType,T==null?void 0:T.quality)}catch(X){P(X)}})}setSize(T){return this.width(T.width),this.height(T.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():u.Konva.dragDistance}_off(T,Y,P){let X=this.eventListeners[T],$,at,dt;for($=0;$<X.length;$++)if(at=X[$].name,dt=X[$].handler,(at!=="konva"||Y==="konva")&&(!Y||at===Y)&&(!P||P===dt)){if(X.splice($,1),X.length===0){delete this.eventListeners[T];break}$--}}_fireChangeEvent(T,Y,P){this._fire(T+O,{oldVal:Y,newVal:P})}addName(T){if(!this.hasName(T)){const Y=this.name(),P=Y?Y+" "+T:T;this.name(P)}return this}hasName(T){if(!T)return!1;const Y=this.name();return Y?(Y||"").split(/\s/g).indexOf(T)!==-1:!1}removeName(T){const Y=(this.name()||"").split(/\s/g),P=Y.indexOf(T);return P!==-1&&(Y.splice(P,1),this.name(Y.join(" "))),this}setAttr(T,Y){const P=this[F+r.Util._capitalize(T)];return r.Util._isFunction(P)?P.call(this,Y):this._setAttr(T,Y),this}_requestDraw(){if(u.Konva.autoDrawEnabled){const T=this.getLayer()||this.getStage();T==null||T.batchDraw()}}_setAttr(T,Y){const P=this.attrs[T];P===Y&&!r.Util.isObject(Y)||(Y==null?delete this.attrs[T]:this.attrs[T]=Y,this._shouldFireChangeEvents&&this._fireChangeEvent(T,P,Y),this._requestDraw())}_setComponentAttr(T,Y,P){let X;P!==void 0&&(X=this.attrs[T],X||(this.attrs[T]=this.getAttr(T)),this.attrs[T][Y]=P,this._fireChangeEvent(T,X,P))}_fireAndBubble(T,Y,P){if(Y&&this.nodeType===C&&(Y.target=this),!((T===z||T===L)&&(P&&(this===P||this.isAncestorOf&&this.isAncestorOf(P))||this.nodeType==="Stage"&&!P))){this._fire(T,Y);const $=(T===z||T===L)&&P&&P.isAncestorOf&&P.isAncestorOf(this)&&!P.isAncestorOf(this.parent);(Y&&!Y.cancelBubble||!Y)&&this.parent&&this.parent.isListening()&&!$&&(P&&P.parent?this._fireAndBubble.call(this.parent,T,Y,P):this._fireAndBubble.call(this.parent,T,Y))}}_getProtoListeners(T){var Y,P,X;const $=(Y=this._cache.get(y))!==null&&Y!==void 0?Y:{};let at=$==null?void 0:$[T];if(at===void 0){at=[];let dt=Object.getPrototypeOf(this);for(;dt;){const Q=(X=(P=dt.eventListeners)===null||P===void 0?void 0:P[T])!==null&&X!==void 0?X:[];at.push(...Q),dt=Object.getPrototypeOf(dt)}$[T]=at,this._cache.set(y,$)}return at}_fire(T,Y){Y=Y||{},Y.currentTarget=this,Y.type=T;const P=this._getProtoListeners(T);if(P)for(var X=0;X<P.length;X++)P[X].handler.call(this,Y);const $=this.eventListeners[T];if($)for(var X=0;X<$.length;X++)$[X].handler.call(this,Y)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(T){const Y=T?T.pointerId:void 0,P=this.getStage(),X=this.getAbsolutePosition();if(!P)return;const $=P._getPointerById(Y)||P._changedPointerPositions[0]||X;o.DD._dragElements.set(this._id,{node:this,startPointerPos:$,offset:{x:$.x-X.x,y:$.y-X.y},dragStatus:"ready",pointerId:Y})}startDrag(T,Y=!0){o.DD._dragElements.has(this._id)||this._createDragElement(T);const P=o.DD._dragElements.get(this._id);P.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:T&&T.evt},Y)}_setDragPosition(T,Y){const P=this.getStage()._getPointerById(Y.pointerId);if(!P)return;let X={x:P.x-Y.offset.x,y:P.y-Y.offset.y};const $=this.dragBoundFunc();if($!==void 0){const at=$.call(this,X,T);at?X=at:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==X.x||this._lastPos.y!==X.y)&&(this.setAbsolutePosition(X),this._requestDraw()),this._lastPos=X}stopDrag(T){const Y=o.DD._dragElements.get(this._id);Y&&(Y.dragStatus="stopped"),o.DD._endDragBefore(T),o.DD._endDragAfter(T)}setDraggable(T){this._setAttr("draggable",T),this._dragChange()}isDragging(){const T=o.DD._dragElements.get(this._id);return T?T.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(T){if(!(!(T.evt.button!==void 0)||u.Konva.dragButtons.indexOf(T.evt.button)>=0)||this.isDragging())return;let X=!1;o.DD._dragElements.forEach($=>{this.isAncestorOf($.node)&&(X=!0)}),X||this._createDragElement(T)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const Y=o.DD._dragElements.get(this._id),P=Y&&Y.dragStatus==="dragging",X=Y&&Y.dragStatus==="ready";P?this.stopDrag():X&&o.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(T={x:0,y:0}){const Y=this.getStage();if(!Y)return!1;const P={x:-T.x,y:-T.y,width:Y.width()+2*T.x,height:Y.height()+2*T.y};return r.Util.haveIntersection(P,this.getClientRect())}static create(T,Y){return r.Util._isString(T)&&(T=JSON.parse(T)),this._createNode(T,Y)}static _createNode(T,Y){let P=Km.prototype.getClassName.call(T),X=T.children,$,at,dt;Y&&(T.attrs.container=Y),u.Konva[P]||(r.Util.warn('Can not find a node with class name "'+P+'". Fallback to "Shape".'),P="Shape");const Q=u.Konva[P];if($=new Q(T.attrs),X)for(at=X.length,dt=0;dt<at;dt++)$.add(Km._createNode(X[dt]));return $}};Of.Node=w,w.prototype.nodeType="Node",w.prototype._attrsAffectingSize=[],w.prototype.eventListeners={},w.prototype.on.call(w.prototype,V,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(I),this._clearSelfAndDescendantCache(_)}),w.prototype.on.call(w.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(j)}),w.prototype.on.call(w.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(x)}),w.prototype.on.call(w.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(g)});const q=t.Factory.addGetterSetter;return q(w,"zIndex"),q(w,"absolutePosition"),q(w,"position"),q(w,"x",0,(0,f.getNumberValidator)()),q(w,"y",0,(0,f.getNumberValidator)()),q(w,"globalCompositeOperation","source-over",(0,f.getStringValidator)()),q(w,"opacity",1,(0,f.getNumberValidator)()),q(w,"name","",(0,f.getStringValidator)()),q(w,"id","",(0,f.getStringValidator)()),q(w,"rotation",0,(0,f.getNumberValidator)()),t.Factory.addComponentsGetterSetter(w,"scale",["x","y"]),q(w,"scaleX",1,(0,f.getNumberValidator)()),q(w,"scaleY",1,(0,f.getNumberValidator)()),t.Factory.addComponentsGetterSetter(w,"skew",["x","y"]),q(w,"skewX",0,(0,f.getNumberValidator)()),q(w,"skewY",0,(0,f.getNumberValidator)()),t.Factory.addComponentsGetterSetter(w,"offset",["x","y"]),q(w,"offsetX",0,(0,f.getNumberValidator)()),q(w,"offsetY",0,(0,f.getNumberValidator)()),q(w,"dragDistance",void 0,(0,f.getNumberValidator)()),q(w,"width",0,(0,f.getNumberValidator)()),q(w,"height",0,(0,f.getNumberValidator)()),q(w,"listening",!0,(0,f.getBooleanValidator)()),q(w,"preventDefault",!0,(0,f.getBooleanValidator)()),q(w,"filters",void 0,function(K){return this._filterUpToDate=!1,K}),q(w,"visible",!0,(0,f.getBooleanValidator)()),q(w,"transformsEnabled","all",(0,f.getStringValidator)()),q(w,"size"),q(w,"dragBoundFunc"),q(w,"draggable",!1,(0,f.getBooleanValidator)()),t.Factory.backCompat(w,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Of}var xf={},e2;function Rg(){if(e2)return xf;e2=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.Container=void 0;const r=Te(),t=ti(),a=Ae();let u=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(f){if(!f)return this.children||[];const g=this.children||[],y=[];return g.forEach(function(_){f(_)&&y.push(_)}),y}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(f=>{f.parent=null,f.index=0,f.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(f=>{f.parent=null,f.index=0,f.destroy()}),this.children=[],this._requestDraw(),this}add(...f){if(f.length===0)return this;if(f.length>1){for(let y=0;y<f.length;y++)this.add(f[y]);return this}const g=f[0];return g.getParent()?(g.moveTo(this),this):(this._validateAdd(g),g.index=this.getChildren().length,g.parent=this,g._clearCaches(),this.getChildren().push(g),this._fire("add",{child:g}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(f){return this._generalFind(f,!1)}findOne(f){const g=this._generalFind(f,!0);return g.length>0?g[0]:void 0}_generalFind(f,g){const y=[];return this._descendants(_=>{const S=_._isMatch(f);return S&&y.push(_),!!(S&&g)}),y}_descendants(f){let g=!1;const y=this.getChildren();for(const _ of y){if(g=f(_),g)return!0;if(_.hasChildren()&&(g=_._descendants(f),g))return!0}return!1}toObject(){const f=t.Node.prototype.toObject.call(this);return f.children=[],this.getChildren().forEach(g=>{f.children.push(g.toObject())}),f}isAncestorOf(f){let g=f.getParent();for(;g;){if(g._id===this._id)return!0;g=g.getParent()}return!1}clone(f){const g=t.Node.prototype.clone.call(this,f);return this.getChildren().forEach(function(y){g.add(y.clone())}),g}getAllIntersections(f){const g=[];return this.find("Shape").forEach(y=>{y.isVisible()&&y.intersects(f)&&g.push(y)}),g}_clearSelfAndDescendantCache(f){var g;super._clearSelfAndDescendantCache(f),!this.isCached()&&((g=this.children)===null||g===void 0||g.forEach(function(y){y._clearSelfAndDescendantCache(f)}))}_setChildrenIndices(){var f;(f=this.children)===null||f===void 0||f.forEach(function(g,y){g.index=y}),this._requestDraw()}drawScene(f,g,y){const _=this.getLayer(),S=f||_&&_.getCanvas(),b=S&&S.getContext(),O=this._getCanvasCache(),U=O&&O.scene,D=S&&S.isCache;if(!this.isVisible()&&!D)return this;if(U){b.save();const x=this.getAbsoluteTransform(g).getMatrix();b.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedSceneCanvas(b),b.restore()}else this._drawChildren("drawScene",S,g,y);return this}drawHit(f,g){if(!this.shouldDrawHit(g))return this;const y=this.getLayer(),_=f||y&&y.hitCanvas,S=_&&_.getContext(),b=this._getCanvasCache();if(b&&b.hit){S.save();const U=this.getAbsoluteTransform(g).getMatrix();S.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedHitCanvas(S),S.restore()}else this._drawChildren("drawHit",_,g);return this}_drawChildren(f,g,y,_){var S;const b=g&&g.getContext(),O=this.clipWidth(),U=this.clipHeight(),D=this.clipFunc(),x=typeof O=="number"&&typeof U=="number"||D,z=y===this;if(x){b.save();const F=this.getAbsoluteTransform(y);let C=F.getMatrix();b.transform(C[0],C[1],C[2],C[3],C[4],C[5]),b.beginPath();let R;if(D)R=D.call(this,b,this);else{const H=this.clipX(),I=this.clipY();b.rect(H||0,I||0,O,U)}b.clip.apply(b,R),C=F.copy().invert().getMatrix(),b.transform(C[0],C[1],C[2],C[3],C[4],C[5])}const L=!z&&this.globalCompositeOperation()!=="source-over"&&f==="drawScene";L&&(b.save(),b._applyGlobalCompositeOperation(this)),(S=this.children)===null||S===void 0||S.forEach(function(F){F[f](g,y,_)}),L&&b.restore(),x&&b.restore()}getClientRect(f={}){var g;const y=f.skipTransform,_=f.relativeTo;let S,b,O,U,D={x:1/0,y:1/0,width:0,height:0};const x=this;(g=this.children)===null||g===void 0||g.forEach(function(F){if(!F.visible())return;const C=F.getClientRect({relativeTo:x,skipShadow:f.skipShadow,skipStroke:f.skipStroke});C.width===0&&C.height===0||(S===void 0?(S=C.x,b=C.y,O=C.x+C.width,U=C.y+C.height):(S=Math.min(S,C.x),b=Math.min(b,C.y),O=Math.max(O,C.x+C.width),U=Math.max(U,C.y+C.height)))});const z=this.find("Shape");let L=!1;for(let F=0;F<z.length;F++)if(z[F]._isVisible(this)){L=!0;break}return L&&S!==void 0?D={x:S,y:b,width:O-S,height:U-b}:D={x:0,y:0,width:0,height:0},y?D:this._transformedRect(D,_)}};return xf.Container=u,r.Factory.addComponentsGetterSetter(u,"clip",["x","y","width","height"]),r.Factory.addGetterSetter(u,"clipX",void 0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(u,"clipY",void 0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(u,"clipWidth",void 0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(u,"clipHeight",void 0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(u,"clipFunc"),xf}var xm={},so={},n2;function g_(){if(n2)return so;n2=1,Object.defineProperty(so,"__esModule",{value:!0}),so.getCapturedShape=u,so.createEvent=o,so.hasPointerCapture=f,so.setPointerCapture=g,so.releaseCapture=y;const r=ye(),t=new Map,a=r.Konva._global.PointerEvent!==void 0;function u(_){return t.get(_)}function o(_){return{evt:_,pointerId:_.pointerId}}function f(_,S){return t.get(_)===S}function g(_,S){y(_),S.getStage()&&(t.set(_,S),a&&S._fire("gotpointercapture",o(new PointerEvent("gotpointercapture"))))}function y(_,S){const b=t.get(_);if(!b)return;const O=b.getStage();O&&O.content,t.delete(_),a&&b._fire("lostpointercapture",o(new PointerEvent("lostpointercapture")))}return so}var i2;function k4(){return i2||(i2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Stage=r.stages=void 0;const t=kn(),a=Te(),u=Rg(),o=ye(),f=Cg(),g=y1(),y=ye(),_=g_(),S="Stage",b="string",O="px",U="mouseout",D="mouseleave",x="mouseover",z="mouseenter",L="mousemove",F="mousedown",C="mouseup",R="pointermove",H="pointerdown",I="pointerup",k="pointercancel",j="lostpointercapture",V="pointerout",M="pointerleave",w="pointerover",q="pointerenter",K="contextmenu",T="touchstart",Y="touchend",P="touchmove",X="touchcancel",$="wheel",at=5,dt=[[z,"_pointerenter"],[F,"_pointerdown"],[L,"_pointermove"],[C,"_pointerup"],[D,"_pointerleave"],[T,"_pointerdown"],[P,"_pointermove"],[Y,"_pointerup"],[X,"_pointercancel"],[x,"_pointerover"],[$,"_wheel"],[K,"_contextmenu"],[H,"_pointerdown"],[R,"_pointermove"],[I,"_pointerup"],[k,"_pointercancel"],[j,"_lostpointercapture"]],Q={mouse:{[V]:U,[M]:D,[w]:x,[q]:z,[R]:L,[H]:F,[I]:C,[k]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[V]:"touchout",[M]:"touchleave",[w]:"touchover",[q]:"touchenter",[R]:P,[H]:T,[I]:Y,[k]:X,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[V]:V,[M]:M,[w]:w,[q]:q,[R]:R,[H]:H,[I]:I,[k]:k,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},it=Mt=>Mt.indexOf("pointer")>=0?"pointer":Mt.indexOf("touch")>=0?"touch":"mouse",St=Mt=>{const et=it(Mt);if(et==="pointer")return o.Konva.pointerEventsEnabled&&Q.pointer;if(et==="touch")return Q.touch;if(et==="mouse")return Q.mouse};function st(Mt={}){return(Mt.clipFunc||Mt.clipWidth||Mt.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Mt}const gt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";r.stages=[];class Ct extends u.Container{constructor(et){super(st(et)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),r.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{st(this.attrs)}),this._checkVisibility()}_validateAdd(et){const ct=et.getType()==="Layer",At=et.getType()==="FastLayer";ct||At||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const et=this.visible()?"":"none";this.content.style.display=et}setContainer(et){if(typeof et===b){if(et.charAt(0)==="."){const At=et.slice(1);et=document.getElementsByClassName(At)[0]}else{var ct;et.charAt(0)!=="#"?ct=et:ct=et.slice(1),et=document.getElementById(ct)}if(!et)throw"Can not find container in document with id "+ct}return this._setAttr("container",et),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),et.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const et=this.children,ct=et.length;for(let At=0;At<ct;At++)et[At].clear();return this}clone(et){return et||(et={}),et.container=typeof document<"u"&&document.createElement("div"),u.Container.prototype.clone.call(this,et)}destroy(){super.destroy();const et=this.content;et&&t.Util._isInDocument(et)&&this.container().removeChild(et);const ct=r.stages.indexOf(this);return ct>-1&&r.stages.splice(ct,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const et=this._pointerPositions[0]||this._changedPointerPositions[0];return et?{x:et.x,y:et.y}:(t.Util.warn(gt),null)}_getPointerById(et){return this._pointerPositions.find(ct=>ct.id===et)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(et){et=et||{},et.x=et.x||0,et.y=et.y||0,et.width=et.width||this.width(),et.height=et.height||this.height();const ct=new f.SceneCanvas({width:et.width,height:et.height,pixelRatio:et.pixelRatio||1}),At=ct.getContext()._context,Rt=this.children;return(et.x||et.y)&&At.translate(-1*et.x,-1*et.y),Rt.forEach(function(zt){if(!zt.isVisible())return;const Gt=zt._toKonvaCanvas(et);At.drawImage(Gt._canvas,et.x,et.y,Gt.getWidth()/Gt.getPixelRatio(),Gt.getHeight()/Gt.getPixelRatio())}),ct}getIntersection(et){if(!et)return null;const ct=this.children,At=ct.length,Rt=At-1;for(let zt=Rt;zt>=0;zt--){const Gt=ct[zt].getIntersection(et);if(Gt)return Gt}return null}_resizeDOM(){const et=this.width(),ct=this.height();this.content&&(this.content.style.width=et+O,this.content.style.height=ct+O),this.bufferCanvas.setSize(et,ct),this.bufferHitCanvas.setSize(et,ct),this.children.forEach(At=>{At.setSize({width:et,height:ct}),At.draw()})}add(et,...ct){if(arguments.length>1){for(let Rt=0;Rt<arguments.length;Rt++)this.add(arguments[Rt]);return this}super.add(et);const At=this.children.length;return At>at&&t.Util.warn("The stage has "+At+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),et.setSize({width:this.width(),height:this.height()}),et.draw(),o.Konva.isBrowser&&this.content.appendChild(et.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(et){return _.hasPointerCapture(et,this)}setPointerCapture(et){_.setPointerCapture(et,this)}releaseCapture(et){_.releaseCapture(et,this)}getLayers(){return this.children}_bindContentEvents(){o.Konva.isBrowser&&dt.forEach(([et,ct])=>{this.content.addEventListener(et,At=>{this[ct](At)},{passive:!1})})}_pointerenter(et){this.setPointersPositions(et);const ct=St(et.type);ct&&this._fire(ct.pointerenter,{evt:et,target:this,currentTarget:this})}_pointerover(et){this.setPointersPositions(et);const ct=St(et.type);ct&&this._fire(ct.pointerover,{evt:et,target:this,currentTarget:this})}_getTargetShape(et){let ct=this[et+"targetShape"];return ct&&!ct.getStage()&&(ct=null),ct}_pointerleave(et){const ct=St(et.type),At=it(et.type);if(!ct)return;this.setPointersPositions(et);const Rt=this._getTargetShape(At),zt=!(o.Konva.isDragging()||o.Konva.isTransforming())||o.Konva.hitOnDragEnabled;Rt&&zt?(Rt._fireAndBubble(ct.pointerout,{evt:et}),Rt._fireAndBubble(ct.pointerleave,{evt:et}),this._fire(ct.pointerleave,{evt:et,target:this,currentTarget:this}),this[At+"targetShape"]=null):zt&&(this._fire(ct.pointerleave,{evt:et,target:this,currentTarget:this}),this._fire(ct.pointerout,{evt:et,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(et){const ct=St(et.type),At=it(et.type);if(!ct)return;this.setPointersPositions(et);let Rt=!1;this._changedPointerPositions.forEach(zt=>{const Gt=this.getIntersection(zt);if(g.DD.justDragged=!1,o.Konva["_"+At+"ListenClick"]=!0,!Gt||!Gt.isListening()){this[At+"ClickStartShape"]=void 0;return}o.Konva.capturePointerEventsEnabled&&Gt.setPointerCapture(zt.id),this[At+"ClickStartShape"]=Gt,Gt._fireAndBubble(ct.pointerdown,{evt:et,pointerId:zt.id}),Rt=!0;const Jt=et.type.indexOf("touch")>=0;Gt.preventDefault()&&et.cancelable&&Jt&&et.preventDefault()}),Rt||this._fire(ct.pointerdown,{evt:et,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(et){const ct=St(et.type),At=it(et.type);if(!ct||(o.Konva.isDragging()&&g.DD.node.preventDefault()&&et.cancelable&&et.preventDefault(),this.setPointersPositions(et),!(!(o.Konva.isDragging()||o.Konva.isTransforming())||o.Konva.hitOnDragEnabled)))return;const zt={};let Gt=!1;const Jt=this._getTargetShape(At);this._changedPointerPositions.forEach(le=>{const Yt=_.getCapturedShape(le.id)||this.getIntersection(le),je=le.id,se={evt:et,pointerId:je},Fe=Jt!==Yt;if(Fe&&Jt&&(Jt._fireAndBubble(ct.pointerout,{...se},Yt),Jt._fireAndBubble(ct.pointerleave,{...se},Yt)),Yt){if(zt[Yt._id])return;zt[Yt._id]=!0}Yt&&Yt.isListening()?(Gt=!0,Fe&&(Yt._fireAndBubble(ct.pointerover,{...se},Jt),Yt._fireAndBubble(ct.pointerenter,{...se},Jt),this[At+"targetShape"]=Yt),Yt._fireAndBubble(ct.pointermove,{...se})):Jt&&(this._fire(ct.pointerover,{evt:et,target:this,currentTarget:this,pointerId:je}),this[At+"targetShape"]=null)}),Gt||this._fire(ct.pointermove,{evt:et,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(et){const ct=St(et.type),At=it(et.type);if(!ct)return;this.setPointersPositions(et);const Rt=this[At+"ClickStartShape"],zt=this[At+"ClickEndShape"],Gt={};let Jt=!1;this._changedPointerPositions.forEach(le=>{const Yt=_.getCapturedShape(le.id)||this.getIntersection(le);if(Yt){if(Yt.releaseCapture(le.id),Gt[Yt._id])return;Gt[Yt._id]=!0}const je=le.id,se={evt:et,pointerId:je};let Fe=!1;o.Konva["_"+At+"InDblClickWindow"]?(Fe=!0,clearTimeout(this[At+"DblTimeout"])):g.DD.justDragged||(o.Konva["_"+At+"InDblClickWindow"]=!0,clearTimeout(this[At+"DblTimeout"])),this[At+"DblTimeout"]=setTimeout(function(){o.Konva["_"+At+"InDblClickWindow"]=!1},o.Konva.dblClickWindow),Yt&&Yt.isListening()?(Jt=!0,this[At+"ClickEndShape"]=Yt,Yt._fireAndBubble(ct.pointerup,{...se}),o.Konva["_"+At+"ListenClick"]&&Rt&&Rt===Yt&&(Yt._fireAndBubble(ct.pointerclick,{...se}),Fe&&zt&&zt===Yt&&Yt._fireAndBubble(ct.pointerdblclick,{...se}))):(this[At+"ClickEndShape"]=null,o.Konva["_"+At+"ListenClick"]&&this._fire(ct.pointerclick,{evt:et,target:this,currentTarget:this,pointerId:je}),Fe&&this._fire(ct.pointerdblclick,{evt:et,target:this,currentTarget:this,pointerId:je}))}),Jt||this._fire(ct.pointerup,{evt:et,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o.Konva["_"+At+"ListenClick"]=!1,et.cancelable&&At!=="touch"&&At!=="pointer"&&et.preventDefault()}_contextmenu(et){this.setPointersPositions(et);const ct=this.getIntersection(this.getPointerPosition());ct&&ct.isListening()?ct._fireAndBubble(K,{evt:et}):this._fire(K,{evt:et,target:this,currentTarget:this})}_wheel(et){this.setPointersPositions(et);const ct=this.getIntersection(this.getPointerPosition());ct&&ct.isListening()?ct._fireAndBubble($,{evt:et}):this._fire($,{evt:et,target:this,currentTarget:this})}_pointercancel(et){this.setPointersPositions(et);const ct=_.getCapturedShape(et.pointerId)||this.getIntersection(this.getPointerPosition());ct&&ct._fireAndBubble(I,_.createEvent(et)),_.releaseCapture(et.pointerId)}_lostpointercapture(et){_.releaseCapture(et.pointerId)}setPointersPositions(et){const ct=this._getContentPosition();let At=null,Rt=null;et=et||window.event,et.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(et.touches,zt=>{this._pointerPositions.push({id:zt.identifier,x:(zt.clientX-ct.left)/ct.scaleX,y:(zt.clientY-ct.top)/ct.scaleY})}),Array.prototype.forEach.call(et.changedTouches||et.touches,zt=>{this._changedPointerPositions.push({id:zt.identifier,x:(zt.clientX-ct.left)/ct.scaleX,y:(zt.clientY-ct.top)/ct.scaleY})})):(At=(et.clientX-ct.left)/ct.scaleX,Rt=(et.clientY-ct.top)/ct.scaleY,this.pointerPos={x:At,y:Rt},this._pointerPositions=[{x:At,y:Rt,id:t.Util._getFirstPointerId(et)}],this._changedPointerPositions=[{x:At,y:Rt,id:t.Util._getFirstPointerId(et)}])}_setPointerPosition(et){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(et)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const et=this.content.getBoundingClientRect();return{top:et.top,left:et.left,scaleX:et.width/this.content.clientWidth||1,scaleY:et.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new f.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new f.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!o.Konva.isBrowser)return;const et=this.container();if(!et)throw"Stage has no container. A container is required.";et.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),et.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(et){et.batchDraw()}),this}}r.Stage=Ct,Ct.prototype.nodeType=S,(0,y._registerNode)(Ct),a.Factory.addGetterSetter(Ct,"container"),o.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{r.stages.forEach(Mt=>{Mt.batchDraw()})})}(xm)),xm}var wf={},wm={},a2;function Ni(){return a2||(a2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Shape=r.shapes=void 0;const t=ye(),a=kn(),u=Te(),o=ti(),f=Ae(),g=ye(),y=g_(),_="hasShadow",S="shadowRGBA",b="patternImage",O="linearGradient",U="radialGradient";let D;function x(){return D||(D=a.Util.createCanvasElement().getContext("2d"),D)}r.shapes={};function z(M){const w=this.attrs.fillRule;w?M.fill(w):M.fill()}function L(M){M.stroke()}function F(M){const w=this.attrs.fillRule;w?M.fill(w):M.fill()}function C(M){M.stroke()}function R(){this._clearCache(_)}function H(){this._clearCache(S)}function I(){this._clearCache(b)}function k(){this._clearCache(O)}function j(){this._clearCache(U)}class V extends o.Node{constructor(w){super(w);let q;for(;q=a.Util.getRandomColor(),!(q&&!(q in r.shapes)););this.colorKey=q,r.shapes[q]=this}getContext(){return a.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return a.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(_,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(b,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const q=x().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(q&&q.setTransform){const K=new a.Transform;K.translate(this.fillPatternX(),this.fillPatternY()),K.rotate(t.Konva.getAngle(this.fillPatternRotation())),K.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),K.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const T=K.getMatrix(),Y=typeof DOMMatrix>"u"?{a:T[0],b:T[1],c:T[2],d:T[3],e:T[4],f:T[5]}:new DOMMatrix(T);q.setTransform(Y)}return q}}_getLinearGradient(){return this._getCache(O,this.__getLinearGradient)}__getLinearGradient(){const w=this.fillLinearGradientColorStops();if(w){const q=x(),K=this.fillLinearGradientStartPoint(),T=this.fillLinearGradientEndPoint(),Y=q.createLinearGradient(K.x,K.y,T.x,T.y);for(let P=0;P<w.length;P+=2)Y.addColorStop(w[P],w[P+1]);return Y}}_getRadialGradient(){return this._getCache(U,this.__getRadialGradient)}__getRadialGradient(){const w=this.fillRadialGradientColorStops();if(w){const q=x(),K=this.fillRadialGradientStartPoint(),T=this.fillRadialGradientEndPoint(),Y=q.createRadialGradient(K.x,K.y,this.fillRadialGradientStartRadius(),T.x,T.y,this.fillRadialGradientEndRadius());for(let P=0;P<w.length;P+=2)Y.addColorStop(w[P],w[P+1]);return Y}}getShadowRGBA(){return this._getCache(S,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const w=a.Util.colorToRGBA(this.shadowColor());if(w)return"rgba("+w.r+","+w.g+","+w.b+","+w.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const w=this.hitStrokeWidth();return w==="auto"?this.hasStroke():this.strokeEnabled()&&!!w}intersects(w){const q=this.getStage();if(!q)return!1;const K=q.bufferHitCanvas;return K.getContext().clear(),this.drawHit(K,void 0,!0),K.context.getImageData(Math.round(w.x),Math.round(w.y),1,1).data[3]>0}destroy(){return o.Node.prototype.destroy.call(this),delete r.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(w){var q;if(!((q=this.attrs.perfectDrawEnabled)!==null&&q!==void 0?q:!0))return!1;const T=w||this.hasFill(),Y=this.hasStroke(),P=this.getAbsoluteOpacity()!==1;if(T&&Y&&P)return!0;const X=this.hasShadow(),$=this.shadowForStrokeEnabled();return!!(T&&Y&&X&&$)}setStrokeHitEnabled(w){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),w?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const w=this.size();return{x:this._centroid?-w.width/2:0,y:this._centroid?-w.height/2:0,width:w.width,height:w.height}}getClientRect(w={}){let q=!1,K=this.getParent();for(;K;){if(K.isCached()){q=!0;break}K=K.getParent()}const T=w.skipTransform,Y=w.relativeTo||q&&this.getStage()||void 0,P=this.getSelfRect(),$=!w.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,at=P.width+$,dt=P.height+$,Q=!w.skipShadow&&this.hasShadow(),it=Q?this.shadowOffsetX():0,St=Q?this.shadowOffsetY():0,st=at+Math.abs(it),gt=dt+Math.abs(St),Ct=Q&&this.shadowBlur()||0,Mt=st+Ct*2,et=gt+Ct*2,ct={width:Mt,height:et,x:-($/2+Ct)+Math.min(it,0)+P.x,y:-($/2+Ct)+Math.min(St,0)+P.y};return T?ct:this._transformedRect(ct,Y)}drawScene(w,q,K){const T=this.getLayer();let Y=w||T.getCanvas(),P=Y.getContext(),X=this._getCanvasCache(),$=this.getSceneFunc(),at=this.hasShadow(),dt,Q;const it=Y.isCache,St=q===this;if(!this.isVisible()&&!St)return this;if(X){P.save();const gt=this.getAbsoluteTransform(q).getMatrix();return P.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]),this._drawCachedSceneCanvas(P),P.restore(),this}if(!$)return this;if(P.save(),this._useBufferCanvas()&&!it){dt=this.getStage();const gt=K||dt.bufferCanvas;Q=gt.getContext(),Q.clear(),Q.save(),Q._applyLineJoin(this);var st=this.getAbsoluteTransform(q).getMatrix();Q.transform(st[0],st[1],st[2],st[3],st[4],st[5]),$.call(this,Q,this),Q.restore();const Ct=gt.pixelRatio;at&&P._applyShadow(this),P._applyOpacity(this),P._applyGlobalCompositeOperation(this),P.drawImage(gt._canvas,0,0,gt.width/Ct,gt.height/Ct)}else{if(P._applyLineJoin(this),!St){var st=this.getAbsoluteTransform(q).getMatrix();P.transform(st[0],st[1],st[2],st[3],st[4],st[5]),P._applyOpacity(this),P._applyGlobalCompositeOperation(this)}at&&P._applyShadow(this),$.call(this,P,this)}return P.restore(),this}drawHit(w,q,K=!1){if(!this.shouldDrawHit(q,K))return this;const T=this.getLayer(),Y=w||T.hitCanvas,P=Y&&Y.getContext(),X=this.hitFunc()||this.sceneFunc(),$=this._getCanvasCache(),at=$&&$.hit;if(this.colorKey||a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),at){P.save();const Q=this.getAbsoluteTransform(q).getMatrix();return P.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),this._drawCachedHitCanvas(P),P.restore(),this}if(!X)return this;if(P.save(),P._applyLineJoin(this),!(this===q)){const Q=this.getAbsoluteTransform(q).getMatrix();P.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}return X.call(this,P,this),P.restore(),this}drawHitFromCache(w=0){const q=this._getCanvasCache(),K=this._getCachedSceneCanvas(),T=q.hit,Y=T.getContext(),P=T.getWidth(),X=T.getHeight();Y.clear(),Y.drawImage(K._canvas,0,0,P,X);try{const $=Y.getImageData(0,0,P,X),at=$.data,dt=at.length,Q=a.Util._hexToRgb(this.colorKey);for(let it=0;it<dt;it+=4)at[it+3]>w?(at[it]=Q.r,at[it+1]=Q.g,at[it+2]=Q.b,at[it+3]=255):at[it+3]=0;Y.putImageData($,0,0)}catch($){a.Util.error("Unable to draw hit graph from cached scene canvas. "+$.message)}return this}hasPointerCapture(w){return y.hasPointerCapture(w,this)}setPointerCapture(w){y.setPointerCapture(w,this)}releaseCapture(w){y.releaseCapture(w,this)}}r.Shape=V,V.prototype._fillFunc=z,V.prototype._strokeFunc=L,V.prototype._fillFuncHit=F,V.prototype._strokeFuncHit=C,V.prototype._centroid=!1,V.prototype.nodeType="Shape",(0,g._registerNode)(V),V.prototype.eventListeners={},V.prototype.on.call(V.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",R),V.prototype.on.call(V.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",H),V.prototype.on.call(V.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",I),V.prototype.on.call(V.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),V.prototype.on.call(V.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",j),u.Factory.addGetterSetter(V,"stroke",void 0,(0,f.getStringOrGradientValidator)()),u.Factory.addGetterSetter(V,"strokeWidth",2,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"fillAfterStrokeEnabled",!1),u.Factory.addGetterSetter(V,"hitStrokeWidth","auto",(0,f.getNumberOrAutoValidator)()),u.Factory.addGetterSetter(V,"strokeHitEnabled",!0,(0,f.getBooleanValidator)()),u.Factory.addGetterSetter(V,"perfectDrawEnabled",!0,(0,f.getBooleanValidator)()),u.Factory.addGetterSetter(V,"shadowForStrokeEnabled",!0,(0,f.getBooleanValidator)()),u.Factory.addGetterSetter(V,"lineJoin"),u.Factory.addGetterSetter(V,"lineCap"),u.Factory.addGetterSetter(V,"sceneFunc"),u.Factory.addGetterSetter(V,"hitFunc"),u.Factory.addGetterSetter(V,"dash"),u.Factory.addGetterSetter(V,"dashOffset",0,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"shadowColor",void 0,(0,f.getStringValidator)()),u.Factory.addGetterSetter(V,"shadowBlur",0,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"shadowOpacity",1,(0,f.getNumberValidator)()),u.Factory.addComponentsGetterSetter(V,"shadowOffset",["x","y"]),u.Factory.addGetterSetter(V,"shadowOffsetX",0,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"shadowOffsetY",0,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"fillPatternImage"),u.Factory.addGetterSetter(V,"fill",void 0,(0,f.getStringOrGradientValidator)()),u.Factory.addGetterSetter(V,"fillPatternX",0,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"fillPatternY",0,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"fillLinearGradientColorStops"),u.Factory.addGetterSetter(V,"strokeLinearGradientColorStops"),u.Factory.addGetterSetter(V,"fillRadialGradientStartRadius",0),u.Factory.addGetterSetter(V,"fillRadialGradientEndRadius",0),u.Factory.addGetterSetter(V,"fillRadialGradientColorStops"),u.Factory.addGetterSetter(V,"fillPatternRepeat","repeat"),u.Factory.addGetterSetter(V,"fillEnabled",!0),u.Factory.addGetterSetter(V,"strokeEnabled",!0),u.Factory.addGetterSetter(V,"shadowEnabled",!0),u.Factory.addGetterSetter(V,"dashEnabled",!0),u.Factory.addGetterSetter(V,"strokeScaleEnabled",!0),u.Factory.addGetterSetter(V,"fillPriority","color"),u.Factory.addComponentsGetterSetter(V,"fillPatternOffset",["x","y"]),u.Factory.addGetterSetter(V,"fillPatternOffsetX",0,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"fillPatternOffsetY",0,(0,f.getNumberValidator)()),u.Factory.addComponentsGetterSetter(V,"fillPatternScale",["x","y"]),u.Factory.addGetterSetter(V,"fillPatternScaleX",1,(0,f.getNumberValidator)()),u.Factory.addGetterSetter(V,"fillPatternScaleY",1,(0,f.getNumberValidator)()),u.Factory.addComponentsGetterSetter(V,"fillLinearGradientStartPoint",["x","y"]),u.Factory.addComponentsGetterSetter(V,"strokeLinearGradientStartPoint",["x","y"]),u.Factory.addGetterSetter(V,"fillLinearGradientStartPointX",0),u.Factory.addGetterSetter(V,"strokeLinearGradientStartPointX",0),u.Factory.addGetterSetter(V,"fillLinearGradientStartPointY",0),u.Factory.addGetterSetter(V,"strokeLinearGradientStartPointY",0),u.Factory.addComponentsGetterSetter(V,"fillLinearGradientEndPoint",["x","y"]),u.Factory.addComponentsGetterSetter(V,"strokeLinearGradientEndPoint",["x","y"]),u.Factory.addGetterSetter(V,"fillLinearGradientEndPointX",0),u.Factory.addGetterSetter(V,"strokeLinearGradientEndPointX",0),u.Factory.addGetterSetter(V,"fillLinearGradientEndPointY",0),u.Factory.addGetterSetter(V,"strokeLinearGradientEndPointY",0),u.Factory.addComponentsGetterSetter(V,"fillRadialGradientStartPoint",["x","y"]),u.Factory.addGetterSetter(V,"fillRadialGradientStartPointX",0),u.Factory.addGetterSetter(V,"fillRadialGradientStartPointY",0),u.Factory.addComponentsGetterSetter(V,"fillRadialGradientEndPoint",["x","y"]),u.Factory.addGetterSetter(V,"fillRadialGradientEndPointX",0),u.Factory.addGetterSetter(V,"fillRadialGradientEndPointY",0),u.Factory.addGetterSetter(V,"fillPatternRotation",0),u.Factory.addGetterSetter(V,"fillRule",void 0,(0,f.getStringValidator)()),u.Factory.backCompat(V,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(wm)),wm}var s2;function m_(){if(s2)return wf;s2=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.Layer=void 0;const r=kn(),t=Rg(),a=ti(),u=Te(),o=Cg(),f=Ae(),g=Ni(),y=ye(),_="#",S="beforeDraw",b="draw",O=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],U=O.length;class D extends t.Container{constructor(z){super(z),this.canvas=new o.SceneCanvas,this.hitCanvas=new o.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(z){return this.getContext().clear(z),this.getHitCanvas().getContext().clear(z),this}setZIndex(z){super.setZIndex(z);const L=this.getStage();return L&&L.content&&(L.content.removeChild(this.getNativeCanvasElement()),z<L.children.length-1?L.content.insertBefore(this.getNativeCanvasElement(),L.children[z+1].getCanvas()._canvas):L.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){a.Node.prototype.moveToTop.call(this);const z=this.getStage();return z&&z.content&&(z.content.removeChild(this.getNativeCanvasElement()),z.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!a.Node.prototype.moveUp.call(this))return!1;const L=this.getStage();return!L||!L.content?!1:(L.content.removeChild(this.getNativeCanvasElement()),this.index<L.children.length-1?L.content.insertBefore(this.getNativeCanvasElement(),L.children[this.index+1].getCanvas()._canvas):L.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(a.Node.prototype.moveDown.call(this)){const z=this.getStage();if(z){const L=z.children;z.content&&(z.content.removeChild(this.getNativeCanvasElement()),z.content.insertBefore(this.getNativeCanvasElement(),L[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(a.Node.prototype.moveToBottom.call(this)){const z=this.getStage();if(z){const L=z.children;z.content&&(z.content.removeChild(this.getNativeCanvasElement()),z.content.insertBefore(this.getNativeCanvasElement(),L[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const z=this.getNativeCanvasElement();return a.Node.prototype.remove.call(this),z&&z.parentNode&&r.Util._isInDocument(z)&&z.parentNode.removeChild(z),this}getStage(){return this.parent}setSize({width:z,height:L}){return this.canvas.setSize(z,L),this.hitCanvas.setSize(z,L),this._setSmoothEnabled(),this}_validateAdd(z){const L=z.getType();L!=="Group"&&L!=="Shape"&&r.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(z){return z=z||{},z.width=z.width||this.getWidth(),z.height=z.height||this.getHeight(),z.x=z.x!==void 0?z.x:this.x(),z.y=z.y!==void 0?z.y:this.y(),a.Node.prototype._toKonvaCanvas.call(this,z)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){r.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){r.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,r.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(z){if(!this.isListening()||!this.isVisible())return null;let L=1,F=!1;for(;;){for(let C=0;C<U;C++){const R=O[C],H=this._getIntersection({x:z.x+R.x*L,y:z.y+R.y*L}),I=H.shape;if(I)return I;if(F=!!H.antialiased,!H.antialiased)break}if(F)L+=1;else return null}}_getIntersection(z){const L=this.hitCanvas.pixelRatio,F=this.hitCanvas.context.getImageData(Math.round(z.x*L),Math.round(z.y*L),1,1).data,C=F[3];if(C===255){const R=r.Util._rgbToHex(F[0],F[1],F[2]),H=g.shapes[_+R];return H?{shape:H}:{antialiased:!0}}else if(C>0)return{antialiased:!0};return{}}drawScene(z,L){const F=this.getLayer(),C=z||F&&F.getCanvas();return this._fire(S,{node:this}),this.clearBeforeDraw()&&C.getContext().clear(),t.Container.prototype.drawScene.call(this,C,L),this._fire(b,{node:this}),this}drawHit(z,L){const F=this.getLayer(),C=z||F&&F.hitCanvas;return F&&F.clearBeforeDraw()&&F.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,C,L),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(z){r.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(z)}getHitGraphEnabled(z){return r.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const z=this.parent;!!this.hitCanvas._canvas.parentNode?z.content.removeChild(this.hitCanvas._canvas):z.content.appendChild(this.hitCanvas._canvas)}destroy(){return r.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return wf.Layer=D,D.prototype.nodeType="Layer",(0,y._registerNode)(D),u.Factory.addGetterSetter(D,"imageSmoothingEnabled",!0),u.Factory.addGetterSetter(D,"clearBeforeDraw",!0),u.Factory.addGetterSetter(D,"hitGraphEnabled",!0,(0,f.getBooleanValidator)()),wf}var Vf={},r2;function K4(){if(r2)return Vf;r2=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.FastLayer=void 0;const r=kn(),t=m_(),a=ye();let u=class extends t.Layer{constructor(f){super(f),this.listening(!1),r.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Vf.FastLayer=u,u.prototype.nodeType="FastLayer",(0,a._registerNode)(u),Vf}var Uf={},l2;function _1(){if(l2)return Uf;l2=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.Group=void 0;const r=kn(),t=Rg(),a=ye();let u=class extends t.Container{_validateAdd(f){const g=f.getType();g!=="Group"&&g!=="Shape"&&r.Util.throw("You may only add groups and shapes to groups.")}};return Uf.Group=u,u.prototype.nodeType="Group",(0,a._registerNode)(u),Uf}var zf={},u2;function v1(){if(u2)return zf;u2=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.Animation=void 0;const r=ye(),t=kn(),a=function(){return r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return new Date().getTime()}}();let u=class uh{constructor(f,g){this.id=uh.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:a(),frameRate:0},this.func=f,this.setLayers(g)}setLayers(f){let g=[];return f&&(g=Array.isArray(f)?f:[f]),this.layers=g,this}getLayers(){return this.layers}addLayer(f){const g=this.layers,y=g.length;for(let _=0;_<y;_++)if(g[_]._id===f._id)return!1;return this.layers.push(f),!0}isRunning(){const g=uh.animations,y=g.length;for(let _=0;_<y;_++)if(g[_].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=a(),uh._addAnimation(this),this}stop(){return uh._removeAnimation(this),this}_updateFrameObject(f){this.frame.timeDiff=f-this.frame.lastTime,this.frame.lastTime=f,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(f){this.animations.push(f),this._handleAnimation()}static _removeAnimation(f){const g=f.id,y=this.animations,_=y.length;for(let S=0;S<_;S++)if(y[S].id===g){this.animations.splice(S,1);break}}static _runFrames(){const f={},g=this.animations;for(let y=0;y<g.length;y++){const _=g[y],S=_.layers,b=_.func;_._updateFrameObject(a());const O=S.length;let U;if(b?U=b.call(_,_.frame)!==!1:U=!0,!!U)for(let D=0;D<O;D++){const x=S[D];x._id!==void 0&&(f[x._id]=x)}}for(const y in f)f.hasOwnProperty(y)&&f[y].batchDraw()}static _animationLoop(){const f=uh;f.animations.length?(f._runFrames(),t.Util.requestAnimFrame(f._animationLoop)):f.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return zf.Animation=u,u.animations=[],u.animIdCounter=0,u.animRunning=!1,zf}var Vm={},o2;function Q4(){return o2||(o2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Easings=r.Tween=void 0;const t=kn(),a=v1(),u=ti(),o=ye(),f={node:1,duration:1,easing:1,onFinish:1,yoyo:1},g=1,y=2,_=3,S=["fill","stroke","shadowColor"];let b=0;class O{constructor(x,z,L,F,C,R,H){this.prop=x,this.propFunc=z,this.begin=F,this._pos=F,this.duration=R,this._change=0,this.prevPos=0,this.yoyo=H,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=L,this._change=C-this.begin,this.pause()}fire(x){const z=this[x];z&&z()}setTime(x){x>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():x<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=x,this.update())}getTime(){return this._time}setPosition(x){this.prevPos=this._pos,this.propFunc(x),this._pos=x}getPosition(x){return x===void 0&&(x=this._time),this.func(x,this.begin,this._change,this.duration)}play(){this.state=y,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=_,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(x){this.pause(),this._time=x,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const x=this.getTimer()-this._startTime;this.state===y?this.setTime(x):this.state===_&&this.setTime(this.duration-x)}pause(){this.state=g,this.fire("onPause")}getTimer(){return new Date().getTime()}}class U{constructor(x){const z=this,L=x.node,F=L._id,C=x.easing||r.Easings.Linear,R=!!x.yoyo;let H,I;typeof x.duration>"u"?H=.3:x.duration===0?H=.001:H=x.duration,this.node=L,this._id=b++;const k=L.getLayer()||(L instanceof o.Konva.Stage?L.getLayers():null);k||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new a.Animation(function(){z.tween.onEnterFrame()},k),this.tween=new O(I,function(j){z._tweenFunc(j)},C,0,1,H*1e3,R),this._addListeners(),U.attrs[F]||(U.attrs[F]={}),U.attrs[F][this._id]||(U.attrs[F][this._id]={}),U.tweens[F]||(U.tweens[F]={});for(I in x)f[I]===void 0&&this._addAttr(I,x[I]);this.reset(),this.onFinish=x.onFinish,this.onReset=x.onReset,this.onUpdate=x.onUpdate}_addAttr(x,z){const L=this.node,F=L._id;let C,R,H,I,k;const j=U.tweens[F][x];j&&delete U.attrs[F][j][x];let V=L.getAttr(x);if(t.Util._isArray(z))if(C=[],R=Math.max(z.length,V.length),x==="points"&&z.length!==V.length&&(z.length>V.length?(I=V,V=t.Util._prepareArrayForTween(V,z,L.closed())):(H=z,z=t.Util._prepareArrayForTween(z,V,L.closed()))),x.indexOf("fill")===0)for(let M=0;M<R;M++)if(M%2===0)C.push(z[M]-V[M]);else{const w=t.Util.colorToRGBA(V[M]);k=t.Util.colorToRGBA(z[M]),V[M]=w,C.push({r:k.r-w.r,g:k.g-w.g,b:k.b-w.b,a:k.a-w.a})}else for(let M=0;M<R;M++)C.push(z[M]-V[M]);else S.indexOf(x)!==-1?(V=t.Util.colorToRGBA(V),k=t.Util.colorToRGBA(z),C={r:k.r-V.r,g:k.g-V.g,b:k.b-V.b,a:k.a-V.a}):C=z-V;U.attrs[F][this._id][x]={start:V,diff:C,end:z,trueEnd:H,trueStart:I},U.tweens[F][x]=this._id}_tweenFunc(x){const z=this.node,L=U.attrs[z._id][this._id];let F,C,R,H,I,k,j,V;for(F in L){if(C=L[F],R=C.start,H=C.diff,V=C.end,t.Util._isArray(R))if(I=[],j=Math.max(R.length,V.length),F.indexOf("fill")===0)for(k=0;k<j;k++)k%2===0?I.push((R[k]||0)+H[k]*x):I.push("rgba("+Math.round(R[k].r+H[k].r*x)+","+Math.round(R[k].g+H[k].g*x)+","+Math.round(R[k].b+H[k].b*x)+","+(R[k].a+H[k].a*x)+")");else for(k=0;k<j;k++)I.push((R[k]||0)+H[k]*x);else S.indexOf(F)!==-1?I="rgba("+Math.round(R.r+H.r*x)+","+Math.round(R.g+H.g*x)+","+Math.round(R.b+H.b*x)+","+(R.a+H.a*x)+")":I=R+H*x;z.setAttr(F,I)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const x=this.node,z=U.attrs[x._id][this._id];z.points&&z.points.trueEnd&&x.setAttr("points",z.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const x=this.node,z=U.attrs[x._id][this._id];z.points&&z.points.trueStart&&x.points(z.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(x){return this.tween.seek(x*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const x=this.node._id,z=this._id,L=U.tweens[x];this.pause();for(const F in L)delete U.tweens[x][F];delete U.attrs[x][z]}}r.Tween=U,U.attrs={},U.tweens={},u.Node.prototype.to=function(D){const x=D.onFinish;D.node=this,D.onFinish=function(){this.destroy(),x&&x()},new U(D).play()},r.Easings={BackEaseIn(D,x,z,L){return z*(D/=L)*D*((1.70158+1)*D-1.70158)+x},BackEaseOut(D,x,z,L){return z*((D=D/L-1)*D*((1.70158+1)*D+1.70158)+1)+x},BackEaseInOut(D,x,z,L){let F=1.70158;return(D/=L/2)<1?z/2*(D*D*(((F*=1.525)+1)*D-F))+x:z/2*((D-=2)*D*(((F*=1.525)+1)*D+F)+2)+x},ElasticEaseIn(D,x,z,L,F,C){let R=0;return D===0?x:(D/=L)===1?x+z:(C||(C=L*.3),!F||F<Math.abs(z)?(F=z,R=C/4):R=C/(2*Math.PI)*Math.asin(z/F),-(F*Math.pow(2,10*(D-=1))*Math.sin((D*L-R)*(2*Math.PI)/C))+x)},ElasticEaseOut(D,x,z,L,F,C){let R=0;return D===0?x:(D/=L)===1?x+z:(C||(C=L*.3),!F||F<Math.abs(z)?(F=z,R=C/4):R=C/(2*Math.PI)*Math.asin(z/F),F*Math.pow(2,-10*D)*Math.sin((D*L-R)*(2*Math.PI)/C)+z+x)},ElasticEaseInOut(D,x,z,L,F,C){let R=0;return D===0?x:(D/=L/2)===2?x+z:(C||(C=L*(.3*1.5)),!F||F<Math.abs(z)?(F=z,R=C/4):R=C/(2*Math.PI)*Math.asin(z/F),D<1?-.5*(F*Math.pow(2,10*(D-=1))*Math.sin((D*L-R)*(2*Math.PI)/C))+x:F*Math.pow(2,-10*(D-=1))*Math.sin((D*L-R)*(2*Math.PI)/C)*.5+z+x)},BounceEaseOut(D,x,z,L){return(D/=L)<1/2.75?z*(7.5625*D*D)+x:D<2/2.75?z*(7.5625*(D-=1.5/2.75)*D+.75)+x:D<2.5/2.75?z*(7.5625*(D-=2.25/2.75)*D+.9375)+x:z*(7.5625*(D-=2.625/2.75)*D+.984375)+x},BounceEaseIn(D,x,z,L){return z-r.Easings.BounceEaseOut(L-D,0,z,L)+x},BounceEaseInOut(D,x,z,L){return D<L/2?r.Easings.BounceEaseIn(D*2,0,z,L)*.5+x:r.Easings.BounceEaseOut(D*2-L,0,z,L)*.5+z*.5+x},EaseIn(D,x,z,L){return z*(D/=L)*D+x},EaseOut(D,x,z,L){return-z*(D/=L)*(D-2)+x},EaseInOut(D,x,z,L){return(D/=L/2)<1?z/2*D*D+x:-z/2*(--D*(D-2)-1)+x},StrongEaseIn(D,x,z,L){return z*(D/=L)*D*D*D*D+x},StrongEaseOut(D,x,z,L){return z*((D=D/L-1)*D*D*D*D+1)+x},StrongEaseInOut(D,x,z,L){return(D/=L/2)<1?z/2*D*D*D*D*D+x:z/2*((D-=2)*D*D*D*D+2)+x},Linear(D,x,z,L){return z*D/L+x}}}(Vm)),Vm}var c2;function Qm(){return c2||(c2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Konva=void 0;const t=ye(),a=kn(),u=ti(),o=Rg(),f=k4(),g=m_(),y=K4(),_=_1(),S=y1(),b=Ni(),O=v1(),U=Q4(),D=d_(),x=Cg();r.Konva=a.Util._assign(t.Konva,{Util:a.Util,Transform:a.Transform,Node:u.Node,Container:o.Container,Stage:f.Stage,stages:f.stages,Layer:g.Layer,FastLayer:y.FastLayer,Group:_.Group,DD:S.DD,Shape:b.Shape,shapes:b.shapes,Animation:O.Animation,Tween:U.Tween,Easings:U.Easings,Context:D.Context,Canvas:x.Canvas}),r.default=r.Konva}(Rm)),Rm}var Bf={},h2;function X4(){if(h2)return Bf;h2=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.Arc=void 0;const r=Te(),t=Ni(),a=ye(),u=Ae(),o=ye();let f=class extends t.Shape{_sceneFunc(y){const _=a.Konva.getAngle(this.angle()),S=this.clockwise();y.beginPath(),y.arc(0,0,this.outerRadius(),0,_,S),y.arc(0,0,this.innerRadius(),_,0,!S),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(y){this.outerRadius(y/2)}setHeight(y){this.outerRadius(y/2)}getSelfRect(){const y=this.innerRadius(),_=this.outerRadius(),S=this.clockwise(),b=a.Konva.getAngle(S?360-this.angle():this.angle()),O=Math.cos(Math.min(b,Math.PI)),U=1,D=Math.sin(Math.min(Math.max(Math.PI,b),3*Math.PI/2)),x=Math.sin(Math.min(b,Math.PI/2)),z=O*(O>0?y:_),L=U*_,F=D*(D>0?y:_),C=x*(x>0?_:y);return{x:z,y:S?-1*C:F,width:L-z,height:C-F}}};return Bf.Arc=f,f.prototype._centroid=!0,f.prototype.className="Arc",f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,o._registerNode)(f),r.Factory.addGetterSetter(f,"innerRadius",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(f,"outerRadius",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(f,"angle",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(f,"clockwise",!1,(0,u.getBooleanValidator)()),Bf}var Lf={},Gf={},f2;function p_(){if(f2)return Gf;f2=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.Line=void 0;const r=Te(),t=ye(),a=Ni(),u=Ae();function o(y,_,S,b,O,U,D){const x=Math.sqrt(Math.pow(S-y,2)+Math.pow(b-_,2)),z=Math.sqrt(Math.pow(O-S,2)+Math.pow(U-b,2)),L=D*x/(x+z),F=D*z/(x+z),C=S-L*(O-y),R=b-L*(U-_),H=S+F*(O-y),I=b+F*(U-_);return[C,R,H,I]}function f(y,_){const S=y.length,b=[];for(let O=2;O<S-2;O+=2){const U=o(y[O-2],y[O-1],y[O],y[O+1],y[O+2],y[O+3],_);isNaN(U[0])||(b.push(U[0]),b.push(U[1]),b.push(y[O]),b.push(y[O+1]),b.push(U[2]),b.push(U[3]))}return b}class g extends a.Shape{constructor(_){super(_),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(_){let S=this.points(),b=S.length,O=this.tension(),U=this.closed(),D=this.bezier(),x,z,L;if(b){if(_.beginPath(),_.moveTo(S[0],S[1]),O!==0&&b>4){for(x=this.getTensionPoints(),z=x.length,L=U?0:4,U||_.quadraticCurveTo(x[0],x[1],x[2],x[3]);L<z-2;)_.bezierCurveTo(x[L++],x[L++],x[L++],x[L++],x[L++],x[L++]);U||_.quadraticCurveTo(x[z-2],x[z-1],S[b-2],S[b-1])}else if(D)for(L=2;L<b;)_.bezierCurveTo(S[L++],S[L++],S[L++],S[L++],S[L++],S[L++]);else for(L=2;L<b;L+=2)_.lineTo(S[L],S[L+1]);U?(_.closePath(),_.fillStrokeShape(this)):_.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():f(this.points(),this.tension())}_getTensionPointsClosed(){const _=this.points(),S=_.length,b=this.tension(),O=o(_[S-2],_[S-1],_[0],_[1],_[2],_[3],b),U=o(_[S-4],_[S-3],_[S-2],_[S-1],_[0],_[1],b),D=f(_,b);return[O[2],O[3]].concat(D).concat([U[0],U[1],_[S-2],_[S-1],U[2],U[3],O[0],O[1],_[0],_[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let _=this.points();if(_.length<4)return{x:_[0]||0,y:_[1]||0,width:0,height:0};this.tension()!==0?_=[_[0],_[1],...this._getTensionPoints(),_[_.length-2],_[_.length-1]]:_=this.points();let S=_[0],b=_[0],O=_[1],U=_[1],D,x;for(let z=0;z<_.length/2;z++)D=_[z*2],x=_[z*2+1],S=Math.min(S,D),b=Math.max(b,D),O=Math.min(O,x),U=Math.max(U,x);return{x:S,y:O,width:b-S,height:U-O}}}return Gf.Line=g,g.prototype.className="Line",g.prototype._attrsAffectingSize=["points","bezier","tension"],(0,t._registerNode)(g),r.Factory.addGetterSetter(g,"closed",!1),r.Factory.addGetterSetter(g,"bezier",!1),r.Factory.addGetterSetter(g,"tension",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(g,"points",[],(0,u.getNumberArrayValidator)()),Gf}var Hf={},Um={},d2;function Z4(){return d2||(d2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.t2length=r.getQuadraticArcLength=r.getCubicArcLength=r.binomialCoefficients=r.cValues=r.tValues=void 0,r.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],r.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],r.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(g,y,_)=>{let S,b;const U=_/2;S=0;for(let D=0;D<20;D++)b=U*r.tValues[20][D]+U,S+=r.cValues[20][D]*u(g,y,b);return U*S};r.getCubicArcLength=t;const a=(g,y,_)=>{_===void 0&&(_=1);const S=g[0]-2*g[1]+g[2],b=y[0]-2*y[1]+y[2],O=2*g[1]-2*g[0],U=2*y[1]-2*y[0],D=4*(S*S+b*b),x=4*(S*O+b*U),z=O*O+U*U;if(D===0)return _*Math.sqrt(Math.pow(g[2]-g[0],2)+Math.pow(y[2]-y[0],2));const L=x/(2*D),F=z/D,C=_+L,R=F-L*L,H=C*C+R>0?Math.sqrt(C*C+R):0,I=L*L+R>0?Math.sqrt(L*L+R):0,k=L+Math.sqrt(L*L+R)!==0?R*Math.log(Math.abs((C+H)/(L+I))):0;return Math.sqrt(D)/2*(C*H-L*I+k)};r.getQuadraticArcLength=a;function u(g,y,_){const S=o(1,_,g),b=o(1,_,y),O=S*S+b*b;return Math.sqrt(O)}const o=(g,y,_)=>{const S=_.length-1;let b,O;if(S===0)return 0;if(g===0){O=0;for(let U=0;U<=S;U++)O+=r.binomialCoefficients[S][U]*Math.pow(1-y,S-U)*Math.pow(y,U)*_[U];return O}else{b=new Array(S);for(let U=0;U<S;U++)b[U]=S*(_[U+1]-_[U]);return o(g-1,y,b)}},f=(g,y,_)=>{let S=1,b=g/y,O=(g-_(b))/y,U=0;for(;S>.001;){const D=_(b+O),x=Math.abs(g-D)/y;if(x<S)S=x,b+=O;else{const z=_(b-O),L=Math.abs(g-z)/y;L<S?(S=L,b-=O):O/=2}if(U++,U>500)break}return b};r.t2length=f}(Um)),Um}var g2;function S1(){if(g2)return Hf;g2=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.Path=void 0;const r=Te(),t=Ni(),a=ye(),u=Z4();class o extends t.Shape{constructor(g){super(g),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=o.parsePathData(this.data()),this.pathLength=o.getPathLength(this.dataArray)}_sceneFunc(g){const y=this.dataArray;g.beginPath();let _=!1;for(let H=0;H<y.length;H++){const I=y[H].command,k=y[H].points;switch(I){case"L":g.lineTo(k[0],k[1]);break;case"M":g.moveTo(k[0],k[1]);break;case"C":g.bezierCurveTo(k[0],k[1],k[2],k[3],k[4],k[5]);break;case"Q":g.quadraticCurveTo(k[0],k[1],k[2],k[3]);break;case"A":var S=k[0],b=k[1],O=k[2],U=k[3],D=k[4],x=k[5],z=k[6],L=k[7],F=O>U?O:U,C=O>U?1:O/U,R=O>U?U/O:1;g.translate(S,b),g.rotate(z),g.scale(C,R),g.arc(0,0,F,D,D+x,1-L),g.scale(1/C,1/R),g.rotate(-z),g.translate(-S,-b);break;case"z":_=!0,g.closePath();break}}!_&&!this.hasFill()?g.strokeShape(this):g.fillStrokeShape(this)}getSelfRect(){let g=[];this.dataArray.forEach(function(D){if(D.command==="A"){const x=D.points[4],z=D.points[5],L=D.points[4]+z;let F=Math.PI/180;if(Math.abs(x-L)<F&&(F=Math.abs(x-L)),z<0)for(let C=x-F;C>L;C-=F){const R=o.getPointOnEllipticalArc(D.points[0],D.points[1],D.points[2],D.points[3],C,0);g.push(R.x,R.y)}else for(let C=x+F;C<L;C+=F){const R=o.getPointOnEllipticalArc(D.points[0],D.points[1],D.points[2],D.points[3],C,0);g.push(R.x,R.y)}}else if(D.command==="C")for(let x=0;x<=1;x+=.01){const z=o.getPointOnCubicBezier(x,D.start.x,D.start.y,D.points[0],D.points[1],D.points[2],D.points[3],D.points[4],D.points[5]);g.push(z.x,z.y)}else g=g.concat(D.points)});let y=g[0],_=g[0],S=g[1],b=g[1],O,U;for(let D=0;D<g.length/2;D++)O=g[D*2],U=g[D*2+1],isNaN(O)||(y=Math.min(y,O),_=Math.max(_,O)),isNaN(U)||(S=Math.min(S,U),b=Math.max(b,U));return{x:y,y:S,width:_-y,height:b-S}}getLength(){return this.pathLength}getPointAtLength(g){return o.getPointAtLengthOfDataArray(g,this.dataArray)}static getLineLength(g,y,_,S){return Math.sqrt((_-g)*(_-g)+(S-y)*(S-y))}static getPathLength(g){let y=0;for(let _=0;_<g.length;++_)y+=g[_].pathLength;return y}static getPointAtLengthOfDataArray(g,y){let _,S=0,b=y.length;if(!b)return null;for(;S<b&&g>y[S].pathLength;)g-=y[S].pathLength,++S;if(S===b)return _=y[S-1].points.slice(-2),{x:_[0],y:_[1]};if(g<.01)return _=y[S].points.slice(0,2),{x:_[0],y:_[1]};const O=y[S],U=O.points;switch(O.command){case"L":return o.getPointOnLine(g,O.start.x,O.start.y,U[0],U[1]);case"C":return o.getPointOnCubicBezier((0,u.t2length)(g,o.getPathLength(y),H=>(0,u.getCubicArcLength)([O.start.x,U[0],U[2],U[4]],[O.start.y,U[1],U[3],U[5]],H)),O.start.x,O.start.y,U[0],U[1],U[2],U[3],U[4],U[5]);case"Q":return o.getPointOnQuadraticBezier((0,u.t2length)(g,o.getPathLength(y),H=>(0,u.getQuadraticArcLength)([O.start.x,U[0],U[2]],[O.start.y,U[1],U[3]],H)),O.start.x,O.start.y,U[0],U[1],U[2],U[3]);case"A":var D=U[0],x=U[1],z=U[2],L=U[3],F=U[4],C=U[5],R=U[6];return F+=C*g/O.pathLength,o.getPointOnEllipticalArc(D,x,z,L,F,R)}return null}static getPointOnLine(g,y,_,S,b,O,U){O=O??y,U=U??_;const D=this.getLineLength(y,_,S,b);if(D<1e-10)return{x:y,y:_};if(S===y)return{x:O,y:U+(b>_?g:-g)};const x=(b-_)/(S-y),z=Math.sqrt(g*g/(1+x*x))*(S<y?-1:1),L=x*z;if(Math.abs(U-_-x*(O-y))<1e-10)return{x:O+z,y:U+L};const F=((O-y)*(S-y)+(U-_)*(b-_))/(D*D),C=y+F*(S-y),R=_+F*(b-_),H=this.getLineLength(O,U,C,R),I=Math.sqrt(g*g-H*H),k=Math.sqrt(I*I/(1+x*x))*(S<y?-1:1),j=x*k;return{x:C+k,y:R+j}}static getPointOnCubicBezier(g,y,_,S,b,O,U,D,x){function z(I){return I*I*I}function L(I){return 3*I*I*(1-I)}function F(I){return 3*I*(1-I)*(1-I)}function C(I){return(1-I)*(1-I)*(1-I)}const R=D*z(g)+O*L(g)+S*F(g)+y*C(g),H=x*z(g)+U*L(g)+b*F(g)+_*C(g);return{x:R,y:H}}static getPointOnQuadraticBezier(g,y,_,S,b,O,U){function D(C){return C*C}function x(C){return 2*C*(1-C)}function z(C){return(1-C)*(1-C)}const L=O*D(g)+S*x(g)+y*z(g),F=U*D(g)+b*x(g)+_*z(g);return{x:L,y:F}}static getPointOnEllipticalArc(g,y,_,S,b,O){const U=Math.cos(O),D=Math.sin(O),x={x:_*Math.cos(b),y:S*Math.sin(b)};return{x:g+(x.x*U-x.y*D),y:y+(x.x*D+x.y*U)}}static parsePathData(g){if(!g)return[];let y=g;const _=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];y=y.replace(new RegExp(" ","g"),",");for(var S=0;S<_.length;S++)y=y.replace(new RegExp(_[S],"g"),"|"+_[S]);const b=y.split("|"),O=[],U=[];let D=0,x=0;const z=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let L;for(S=1;S<b.length;S++){let T=b[S],Y=T.charAt(0);for(T=T.slice(1),U.length=0;L=z.exec(T);)U.push(L[0]);const P=[];for(let X=0,$=U.length;X<$;X++){if(U[X]==="00"){P.push(0,0);continue}const at=parseFloat(U[X]);isNaN(at)?P.push(0):P.push(at)}for(;P.length>0&&!isNaN(P[0]);){let X="",$=[];const at=D,dt=x;var F,C,R,H,I,k,j,V,M,w;switch(Y){case"l":D+=P.shift(),x+=P.shift(),X="L",$.push(D,x);break;case"L":D=P.shift(),x=P.shift(),$.push(D,x);break;case"m":var q=P.shift(),K=P.shift();if(D+=q,x+=K,X="M",O.length>2&&O[O.length-1].command==="z"){for(let Q=O.length-2;Q>=0;Q--)if(O[Q].command==="M"){D=O[Q].points[0]+q,x=O[Q].points[1]+K;break}}$.push(D,x),Y="l";break;case"M":D=P.shift(),x=P.shift(),X="M",$.push(D,x),Y="L";break;case"h":D+=P.shift(),X="L",$.push(D,x);break;case"H":D=P.shift(),X="L",$.push(D,x);break;case"v":x+=P.shift(),X="L",$.push(D,x);break;case"V":x=P.shift(),X="L",$.push(D,x);break;case"C":$.push(P.shift(),P.shift(),P.shift(),P.shift()),D=P.shift(),x=P.shift(),$.push(D,x);break;case"c":$.push(D+P.shift(),x+P.shift(),D+P.shift(),x+P.shift()),D+=P.shift(),x+=P.shift(),X="C",$.push(D,x);break;case"S":C=D,R=x,F=O[O.length-1],F.command==="C"&&(C=D+(D-F.points[2]),R=x+(x-F.points[3])),$.push(C,R,P.shift(),P.shift()),D=P.shift(),x=P.shift(),X="C",$.push(D,x);break;case"s":C=D,R=x,F=O[O.length-1],F.command==="C"&&(C=D+(D-F.points[2]),R=x+(x-F.points[3])),$.push(C,R,D+P.shift(),x+P.shift()),D+=P.shift(),x+=P.shift(),X="C",$.push(D,x);break;case"Q":$.push(P.shift(),P.shift()),D=P.shift(),x=P.shift(),$.push(D,x);break;case"q":$.push(D+P.shift(),x+P.shift()),D+=P.shift(),x+=P.shift(),X="Q",$.push(D,x);break;case"T":C=D,R=x,F=O[O.length-1],F.command==="Q"&&(C=D+(D-F.points[0]),R=x+(x-F.points[1])),D=P.shift(),x=P.shift(),X="Q",$.push(C,R,D,x);break;case"t":C=D,R=x,F=O[O.length-1],F.command==="Q"&&(C=D+(D-F.points[0]),R=x+(x-F.points[1])),D+=P.shift(),x+=P.shift(),X="Q",$.push(C,R,D,x);break;case"A":H=P.shift(),I=P.shift(),k=P.shift(),j=P.shift(),V=P.shift(),M=D,w=x,D=P.shift(),x=P.shift(),X="A",$=this.convertEndpointToCenterParameterization(M,w,D,x,j,V,H,I,k);break;case"a":H=P.shift(),I=P.shift(),k=P.shift(),j=P.shift(),V=P.shift(),M=D,w=x,D+=P.shift(),x+=P.shift(),X="A",$=this.convertEndpointToCenterParameterization(M,w,D,x,j,V,H,I,k);break}O.push({command:X||Y,points:$,start:{x:at,y:dt},pathLength:this.calcLength(at,dt,X||Y,$)})}(Y==="z"||Y==="Z")&&O.push({command:"z",points:[],start:void 0,pathLength:0})}return O}static calcLength(g,y,_,S){let b,O,U,D;const x=o;switch(_){case"L":return x.getLineLength(g,y,S[0],S[1]);case"C":return(0,u.getCubicArcLength)([g,S[0],S[2],S[4]],[y,S[1],S[3],S[5]],1);case"Q":return(0,u.getQuadraticArcLength)([g,S[0],S[2]],[y,S[1],S[3]],1);case"A":b=0;var z=S[4],L=S[5],F=S[4]+L,C=Math.PI/180;if(Math.abs(z-F)<C&&(C=Math.abs(z-F)),O=x.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],z,0),L<0)for(D=z-C;D>F;D-=C)U=x.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],D,0),b+=x.getLineLength(O.x,O.y,U.x,U.y),O=U;else for(D=z+C;D<F;D+=C)U=x.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],D,0),b+=x.getLineLength(O.x,O.y,U.x,U.y),O=U;return U=x.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],F,0),b+=x.getLineLength(O.x,O.y,U.x,U.y),b}return 0}static convertEndpointToCenterParameterization(g,y,_,S,b,O,U,D,x){const z=x*(Math.PI/180),L=Math.cos(z)*(g-_)/2+Math.sin(z)*(y-S)/2,F=-1*Math.sin(z)*(g-_)/2+Math.cos(z)*(y-S)/2,C=L*L/(U*U)+F*F/(D*D);C>1&&(U*=Math.sqrt(C),D*=Math.sqrt(C));let R=Math.sqrt((U*U*(D*D)-U*U*(F*F)-D*D*(L*L))/(U*U*(F*F)+D*D*(L*L)));b===O&&(R*=-1),isNaN(R)&&(R=0);const H=R*U*F/D,I=R*-D*L/U,k=(g+_)/2+Math.cos(z)*H-Math.sin(z)*I,j=(y+S)/2+Math.sin(z)*H+Math.cos(z)*I,V=function(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])},M=function(P,X){return(P[0]*X[0]+P[1]*X[1])/(V(P)*V(X))},w=function(P,X){return(P[0]*X[1]<P[1]*X[0]?-1:1)*Math.acos(M(P,X))},q=w([1,0],[(L-H)/U,(F-I)/D]),K=[(L-H)/U,(F-I)/D],T=[(-1*L-H)/U,(-1*F-I)/D];let Y=w(K,T);return M(K,T)<=-1&&(Y=Math.PI),M(K,T)>=1&&(Y=0),O===0&&Y>0&&(Y=Y-2*Math.PI),O===1&&Y<0&&(Y=Y+2*Math.PI),[k,j,U,D,q,Y,z,O]}}return Hf.Path=o,o.prototype.className="Path",o.prototype._attrsAffectingSize=["data"],(0,a._registerNode)(o),r.Factory.addGetterSetter(o,"data"),Hf}var m2;function J4(){if(m2)return Lf;m2=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.Arrow=void 0;const r=Te(),t=p_(),a=Ae(),u=ye(),o=S1();let f=class extends t.Line{_sceneFunc(y){super._sceneFunc(y);const _=Math.PI*2,S=this.points();let b=S;const O=this.tension()!==0&&S.length>4;O&&(b=this.getTensionPoints());const U=this.pointerLength(),D=S.length;let x,z;if(O){const C=[b[b.length-4],b[b.length-3],b[b.length-2],b[b.length-1],S[D-2],S[D-1]],R=o.Path.calcLength(b[b.length-4],b[b.length-3],"C",C),H=o.Path.getPointOnQuadraticBezier(Math.min(1,1-U/R),C[0],C[1],C[2],C[3],C[4],C[5]);x=S[D-2]-H.x,z=S[D-1]-H.y}else x=S[D-2]-S[D-4],z=S[D-1]-S[D-3];const L=(Math.atan2(z,x)+_)%_,F=this.pointerWidth();this.pointerAtEnding()&&(y.save(),y.beginPath(),y.translate(S[D-2],S[D-1]),y.rotate(L),y.moveTo(0,0),y.lineTo(-U,F/2),y.lineTo(-U,-F/2),y.closePath(),y.restore(),this.__fillStroke(y)),this.pointerAtBeginning()&&(y.save(),y.beginPath(),y.translate(S[0],S[1]),O?(x=(b[0]+b[2])/2-S[0],z=(b[1]+b[3])/2-S[1]):(x=S[2]-S[0],z=S[3]-S[1]),y.rotate((Math.atan2(-z,-x)+_)%_),y.moveTo(0,0),y.lineTo(-U,F/2),y.lineTo(-U,-F/2),y.closePath(),y.restore(),this.__fillStroke(y))}__fillStroke(y){const _=this.dashEnabled();_&&(this.attrs.dashEnabled=!1,y.setLineDash([])),y.fillStrokeShape(this),_&&(this.attrs.dashEnabled=!0)}getSelfRect(){const y=super.getSelfRect(),_=this.pointerWidth()/2;return{x:y.x,y:y.y-_,width:y.width,height:y.height+_*2}}};return Lf.Arrow=f,f.prototype.className="Arrow",(0,u._registerNode)(f),r.Factory.addGetterSetter(f,"pointerLength",10,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(f,"pointerWidth",10,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(f,"pointerAtBeginning",!1),r.Factory.addGetterSetter(f,"pointerAtEnding",!0),Lf}var qf={},p2;function W4(){if(p2)return qf;p2=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.Circle=void 0;const r=Te(),t=Ni(),a=Ae(),u=ye();let o=class extends t.Shape{_sceneFunc(g){g.beginPath(),g.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),g.closePath(),g.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(g){this.radius()!==g/2&&this.radius(g/2)}setHeight(g){this.radius()!==g/2&&this.radius(g/2)}};return qf.Circle=o,o.prototype._centroid=!0,o.prototype.className="Circle",o.prototype._attrsAffectingSize=["radius"],(0,u._registerNode)(o),r.Factory.addGetterSetter(o,"radius",0,(0,a.getNumberValidator)()),qf}var Pf={},y2;function $4(){if(y2)return Pf;y2=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.Ellipse=void 0;const r=Te(),t=Ni(),a=Ae(),u=ye();let o=class extends t.Shape{_sceneFunc(g){const y=this.radiusX(),_=this.radiusY();g.beginPath(),g.save(),y!==_&&g.scale(1,_/y),g.arc(0,0,y,0,Math.PI*2,!1),g.restore(),g.closePath(),g.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(g){this.radiusX(g/2)}setHeight(g){this.radiusY(g/2)}};return Pf.Ellipse=o,o.prototype.className="Ellipse",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,u._registerNode)(o),r.Factory.addComponentsGetterSetter(o,"radius",["x","y"]),r.Factory.addGetterSetter(o,"radiusX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(o,"radiusY",0,(0,a.getNumberValidator)()),Pf}var If={},_2;function t5(){if(_2)return If;_2=1,Object.defineProperty(If,"__esModule",{value:!0}),If.Image=void 0;const r=kn(),t=Te(),a=Ni(),u=ye(),o=Ae();class f extends a.Shape{constructor(y){super(y),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const y=this.image();y&&y.complete||y&&y.readyState===4||y&&y.addEventListener&&y.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const y=!!this.cornerRadius(),_=this.hasShadow();return y&&_?!0:super._useBufferCanvas(!0)}_sceneFunc(y){const _=this.getWidth(),S=this.getHeight(),b=this.cornerRadius(),O=this.attrs.image;let U;if(O){const D=this.attrs.cropWidth,x=this.attrs.cropHeight;D&&x?U=[O,this.cropX(),this.cropY(),D,x,0,0,_,S]:U=[O,0,0,_,S]}(this.hasFill()||this.hasStroke()||b)&&(y.beginPath(),b?r.Util.drawRoundedRectPath(y,_,S,b):y.rect(0,0,_,S),y.closePath(),y.fillStrokeShape(this)),O&&(b&&y.clip(),y.drawImage.apply(y,U))}_hitFunc(y){const _=this.width(),S=this.height(),b=this.cornerRadius();y.beginPath(),b?r.Util.drawRoundedRectPath(y,_,S,b):y.rect(0,0,_,S),y.closePath(),y.fillStrokeShape(this)}getWidth(){var y,_;return(y=this.attrs.width)!==null&&y!==void 0?y:(_=this.image())===null||_===void 0?void 0:_.width}getHeight(){var y,_;return(y=this.attrs.height)!==null&&y!==void 0?y:(_=this.image())===null||_===void 0?void 0:_.height}static fromURL(y,_,S=null){const b=r.Util.createImageElement();b.onload=function(){const O=new f({image:b});_(O)},b.onerror=S,b.crossOrigin="Anonymous",b.src=y}}return If.Image=f,f.prototype.className="Image",(0,u._registerNode)(f),t.Factory.addGetterSetter(f,"cornerRadius",0,(0,o.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(f,"image"),t.Factory.addComponentsGetterSetter(f,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(f,"cropX",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(f,"cropY",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(f,"cropWidth",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(f,"cropHeight",0,(0,o.getNumberValidator)()),If}var oc={},v2;function e5(){if(v2)return oc;v2=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.Tag=oc.Label=void 0;const r=Te(),t=Ni(),a=_1(),u=Ae(),o=ye(),f=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],g="Change.konva",y="none",_="up",S="right",b="down",O="left",U=f.length;let D=class extends a.Group{constructor(L){super(L),this.on("add.konva",function(F){this._addListeners(F.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(L){let F=this,C;const R=function(){F._sync()};for(C=0;C<U;C++)L.on(f[C]+g,R)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let L=this.getText(),F=this.getTag(),C,R,H,I,k,j,V;if(L&&F){switch(C=L.width(),R=L.height(),H=F.pointerDirection(),I=F.pointerWidth(),V=F.pointerHeight(),k=0,j=0,H){case _:k=C/2,j=-1*V;break;case S:k=C+I,j=R/2;break;case b:k=C/2,j=R+V;break;case O:k=-1*I,j=R/2;break}F.setAttrs({x:-1*k,y:-1*j,width:C,height:R}),L.setAttrs({x:-1*k,y:-1*j})}}};oc.Label=D,D.prototype.className="Label",(0,o._registerNode)(D);class x extends t.Shape{_sceneFunc(L){const F=this.width(),C=this.height(),R=this.pointerDirection(),H=this.pointerWidth(),I=this.pointerHeight(),k=this.cornerRadius();let j=0,V=0,M=0,w=0;typeof k=="number"?j=V=M=w=Math.min(k,F/2,C/2):(j=Math.min(k[0]||0,F/2,C/2),V=Math.min(k[1]||0,F/2,C/2),w=Math.min(k[2]||0,F/2,C/2),M=Math.min(k[3]||0,F/2,C/2)),L.beginPath(),L.moveTo(j,0),R===_&&(L.lineTo((F-H)/2,0),L.lineTo(F/2,-1*I),L.lineTo((F+H)/2,0)),L.lineTo(F-V,0),L.arc(F-V,V,V,Math.PI*3/2,0,!1),R===S&&(L.lineTo(F,(C-I)/2),L.lineTo(F+H,C/2),L.lineTo(F,(C+I)/2)),L.lineTo(F,C-w),L.arc(F-w,C-w,w,0,Math.PI/2,!1),R===b&&(L.lineTo((F+H)/2,C),L.lineTo(F/2,C+I),L.lineTo((F-H)/2,C)),L.lineTo(M,C),L.arc(M,C-M,M,Math.PI/2,Math.PI,!1),R===O&&(L.lineTo(0,(C+I)/2),L.lineTo(-1*H,C/2),L.lineTo(0,(C-I)/2)),L.lineTo(0,j),L.arc(j,j,j,Math.PI,Math.PI*3/2,!1),L.closePath(),L.fillStrokeShape(this)}getSelfRect(){let L=0,F=0,C=this.pointerWidth(),R=this.pointerHeight(),H=this.pointerDirection(),I=this.width(),k=this.height();return H===_?(F-=R,k+=R):H===b?k+=R:H===O?(L-=C*1.5,I+=C):H===S&&(I+=C*1.5),{x:L,y:F,width:I,height:k}}}return oc.Tag=x,x.prototype.className="Tag",(0,o._registerNode)(x),r.Factory.addGetterSetter(x,"pointerDirection",y),r.Factory.addGetterSetter(x,"pointerWidth",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(x,"pointerHeight",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(x,"cornerRadius",0,(0,u.getNumberOrArrayOfNumbersValidator)(4)),oc}var jf={},S2;function y_(){if(S2)return jf;S2=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.Rect=void 0;const r=Te(),t=Ni(),a=ye(),u=kn(),o=Ae();let f=class extends t.Shape{_sceneFunc(y){const _=this.cornerRadius(),S=this.width(),b=this.height();y.beginPath(),_?u.Util.drawRoundedRectPath(y,S,b,_):y.rect(0,0,S,b),y.closePath(),y.fillStrokeShape(this)}};return jf.Rect=f,f.prototype.className="Rect",(0,a._registerNode)(f),r.Factory.addGetterSetter(f,"cornerRadius",0,(0,o.getNumberOrArrayOfNumbersValidator)(4)),jf}var Ff={},E2;function n5(){if(E2)return Ff;E2=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.RegularPolygon=void 0;const r=Te(),t=Ni(),a=Ae(),u=ye();let o=class extends t.Shape{_sceneFunc(g){const y=this._getPoints();g.beginPath(),g.moveTo(y[0].x,y[0].y);for(let _=1;_<y.length;_++)g.lineTo(y[_].x,y[_].y);g.closePath(),g.fillStrokeShape(this)}_getPoints(){const g=this.attrs.sides,y=this.attrs.radius||0,_=[];for(let S=0;S<g;S++)_.push({x:y*Math.sin(S*2*Math.PI/g),y:-1*y*Math.cos(S*2*Math.PI/g)});return _}getSelfRect(){const g=this._getPoints();let y=g[0].x,_=g[0].y,S=g[0].x,b=g[0].y;return g.forEach(O=>{y=Math.min(y,O.x),_=Math.max(_,O.x),S=Math.min(S,O.y),b=Math.max(b,O.y)}),{x:y,y:S,width:_-y,height:b-S}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(g){this.radius(g/2)}setHeight(g){this.radius(g/2)}};return Ff.RegularPolygon=o,o.prototype.className="RegularPolygon",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,u._registerNode)(o),r.Factory.addGetterSetter(o,"radius",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(o,"sides",0,(0,a.getNumberValidator)()),Ff}var Yf={},T2;function i5(){if(T2)return Yf;T2=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.Ring=void 0;const r=Te(),t=Ni(),a=Ae(),u=ye(),o=Math.PI*2;let f=class extends t.Shape{_sceneFunc(y){y.beginPath(),y.arc(0,0,this.innerRadius(),0,o,!1),y.moveTo(this.outerRadius(),0),y.arc(0,0,this.outerRadius(),o,0,!0),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(y){this.outerRadius(y/2)}setHeight(y){this.outerRadius(y/2)}};return Yf.Ring=f,f.prototype.className="Ring",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,u._registerNode)(f),r.Factory.addGetterSetter(f,"innerRadius",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(f,"outerRadius",0,(0,a.getNumberValidator)()),Yf}var kf={},b2;function a5(){if(b2)return kf;b2=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.Sprite=void 0;const r=Te(),t=Ni(),a=v1(),u=Ae(),o=ye();let f=class extends t.Shape{constructor(y){super(y),this._updated=!0,this.anim=new a.Animation(()=>{const _=this._updated;return this._updated=!1,_}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(y){const _=this.animation(),S=this.frameIndex(),b=S*4,O=this.animations()[_],U=this.frameOffsets(),D=O[b+0],x=O[b+1],z=O[b+2],L=O[b+3],F=this.image();if((this.hasFill()||this.hasStroke())&&(y.beginPath(),y.rect(0,0,z,L),y.closePath(),y.fillStrokeShape(this)),F)if(U){const C=U[_],R=S*2;y.drawImage(F,D,x,z,L,C[R+0],C[R+1],z,L)}else y.drawImage(F,D,x,z,L,0,0,z,L)}_hitFunc(y){const _=this.animation(),S=this.frameIndex(),b=S*4,O=this.animations()[_],U=this.frameOffsets(),D=O[b+2],x=O[b+3];if(y.beginPath(),U){const z=U[_],L=S*2;y.rect(z[L+0],z[L+1],D,x)}else y.rect(0,0,D,x);y.closePath(),y.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const y=this;this.interval=setInterval(function(){y._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const y=this.getLayer();this.anim.setLayers(y),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const y=this.frameIndex(),_=this.animation(),S=this.animations(),b=S[_],O=b.length/4;y<O-1?this.frameIndex(y+1):this.frameIndex(0)}};return kf.Sprite=f,f.prototype.className="Sprite",(0,o._registerNode)(f),r.Factory.addGetterSetter(f,"animation"),r.Factory.addGetterSetter(f,"animations"),r.Factory.addGetterSetter(f,"frameOffsets"),r.Factory.addGetterSetter(f,"image"),r.Factory.addGetterSetter(f,"frameIndex",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(f,"frameRate",17,(0,u.getNumberValidator)()),r.Factory.backCompat(f,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),kf}var Kf={},A2;function s5(){if(A2)return Kf;A2=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.Star=void 0;const r=Te(),t=Ni(),a=Ae(),u=ye();let o=class extends t.Shape{_sceneFunc(g){const y=this.innerRadius(),_=this.outerRadius(),S=this.numPoints();g.beginPath(),g.moveTo(0,0-_);for(let b=1;b<S*2;b++){const O=b%2===0?_:y,U=O*Math.sin(b*Math.PI/S),D=-1*O*Math.cos(b*Math.PI/S);g.lineTo(U,D)}g.closePath(),g.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(g){this.outerRadius(g/2)}setHeight(g){this.outerRadius(g/2)}};return Kf.Star=o,o.prototype.className="Star",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,u._registerNode)(o),r.Factory.addGetterSetter(o,"numPoints",5,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(o,"innerRadius",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(o,"outerRadius",0,(0,a.getNumberValidator)()),Kf}var lh={},C2;function __(){if(C2)return lh;C2=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.Text=void 0,lh.stringToArray=g;const r=kn(),t=Te(),a=Ni(),u=ye(),o=Ae(),f=ye();function g(St){return[...St].reduce((st,gt,Ct,Mt)=>{if(new RegExp("\\p{Emoji}","u").test(gt)){const et=Mt[Ct+1];et&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(et)?(st.push(gt+et),Mt[Ct+1]=""):st.push(gt)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(gt+(Mt[Ct+1]||""))?st.push(gt+Mt[Ct+1]):Ct>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(gt)?st[st.length-1]+=gt:gt&&st.push(gt);return st},[])}const y="auto",_="center",S="inherit",b="justify",O="Change.konva",U="2d",D="-",x="left",z="text",L="Text",F="top",C="bottom",R="middle",H="normal",I="px ",k=" ",j="right",V="rtl",M="word",w="char",q="none",K="",T=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Y=T.length;function P(St){return St.split(",").map(st=>{st=st.trim();const gt=st.indexOf(" ")>=0,Ct=st.indexOf('"')>=0||st.indexOf("'")>=0;return gt&&!Ct&&(st=`"${st}"`),st}).join(", ")}let X;function $(){return X||(X=r.Util.createCanvasElement().getContext(U),X)}function at(St){St.fillText(this._partialText,this._partialTextX,this._partialTextY)}function dt(St){St.setAttr("miterLimit",2),St.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Q(St){return St=St||{},!St.fillLinearGradientColorStops&&!St.fillRadialGradientColorStops&&!St.fillPatternImage&&(St.fill=St.fill||"black"),St}let it=class extends a.Shape{constructor(st){super(Q(st)),this._partialTextX=0,this._partialTextY=0;for(let gt=0;gt<Y;gt++)this.on(T[gt]+O,this._setTextData);this._setTextData()}_sceneFunc(st){const gt=this.textArr,Ct=gt.length;if(!this.text())return;let Mt=this.padding(),et=this.fontSize(),ct=this.lineHeight()*et,At=this.verticalAlign(),Rt=this.direction(),zt=0,Gt=this.align(),Jt=this.getWidth(),le=this.letterSpacing(),Yt=this.fill(),je=this.textDecoration(),se=je.indexOf("underline")!==-1,Fe=je.indexOf("line-through")!==-1,di;Rt=Rt===S?st.direction:Rt;let He=ct/2,li=R;if(u.Konva._fixTextRendering){const ji=this.measureSize("M");li="alphabetic",He=(ji.fontBoundingBoxAscent-ji.fontBoundingBoxDescent)/2+ct/2}var tn=0,Kn=0;for(Rt===V&&st.setAttr("direction",Rt),st.setAttr("font",this._getContextFont()),st.setAttr("textBaseline",li),st.setAttr("textAlign",x),At===R?zt=(this.getHeight()-Ct*ct-Mt*2)/2:At===C&&(zt=this.getHeight()-Ct*ct-Mt*2),st.translate(Mt,zt+Mt),di=0;di<Ct;di++){var tn=0,Kn=0,en=gt[di],Mi=en.text,Ce=en.width,qe=en.lastInParagraph,Qn,ca;if(st.save(),Gt===j?tn+=Jt-Ce-Mt*2:Gt===_&&(tn+=(Jt-Ce-Mt*2)/2),se){st.save(),st.beginPath();const zn=u.Konva._fixTextRendering?Math.round(et/4):Math.round(et/2),nn=tn,be=He+Kn+zn;st.moveTo(nn,be),Qn=Mi.split(" ").length-1,ca=Gt===b&&!qe?Jt-Mt*2:Ce,st.lineTo(nn+Math.round(ca),be),st.lineWidth=et/15;const fa=this._getLinearGradient();st.strokeStyle=fa||Yt,st.stroke(),st.restore()}if(Fe){st.save(),st.beginPath();const zn=u.Konva._fixTextRendering?-Math.round(et/4):0;st.moveTo(tn,He+Kn+zn),Qn=Mi.split(" ").length-1,ca=Gt===b&&!qe?Jt-Mt*2:Ce,st.lineTo(tn+Math.round(ca),He+Kn+zn),st.lineWidth=et/15;const nn=this._getLinearGradient();st.strokeStyle=nn||Yt,st.stroke(),st.restore()}if(Rt!==V&&(le!==0||Gt===b)){Qn=Mi.split(" ").length-1;const zn=g(Mi);for(let nn=0;nn<zn.length;nn++){const be=zn[nn];be===" "&&!qe&&Gt===b&&(tn+=(Jt-Mt*2-Ce)/Qn),this._partialTextX=tn,this._partialTextY=He+Kn,this._partialText=be,st.fillStrokeShape(this),tn+=this.measureSize(be).width+le}}else le!==0&&st.setAttr("letterSpacing",`${le}px`),this._partialTextX=tn,this._partialTextY=He+Kn,this._partialText=Mi,st.fillStrokeShape(this);st.restore(),Ct>1&&(He+=ct)}}_hitFunc(st){const gt=this.getWidth(),Ct=this.getHeight();st.beginPath(),st.rect(0,0,gt,Ct),st.closePath(),st.fillStrokeShape(this)}setText(st){const gt=r.Util._isString(st)?st:st==null?"":st+"";return this._setAttr(z,gt),this}getWidth(){return this.attrs.width===y||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===y||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(st){var gt,Ct,Mt,et,ct,At,Rt,zt,Gt,Jt,le;let Yt=$(),je=this.fontSize(),se;Yt.save(),Yt.font=this._getContextFont(),se=Yt.measureText(st),Yt.restore();const Fe=je/100;return{actualBoundingBoxAscent:(gt=se.actualBoundingBoxAscent)!==null&&gt!==void 0?gt:71.58203125*Fe,actualBoundingBoxDescent:(Ct=se.actualBoundingBoxDescent)!==null&&Ct!==void 0?Ct:0,actualBoundingBoxLeft:(Mt=se.actualBoundingBoxLeft)!==null&&Mt!==void 0?Mt:-7.421875*Fe,actualBoundingBoxRight:(et=se.actualBoundingBoxRight)!==null&&et!==void 0?et:75.732421875*Fe,alphabeticBaseline:(ct=se.alphabeticBaseline)!==null&&ct!==void 0?ct:0,emHeightAscent:(At=se.emHeightAscent)!==null&&At!==void 0?At:100*Fe,emHeightDescent:(Rt=se.emHeightDescent)!==null&&Rt!==void 0?Rt:-20*Fe,fontBoundingBoxAscent:(zt=se.fontBoundingBoxAscent)!==null&&zt!==void 0?zt:91*Fe,fontBoundingBoxDescent:(Gt=se.fontBoundingBoxDescent)!==null&&Gt!==void 0?Gt:21*Fe,hangingBaseline:(Jt=se.hangingBaseline)!==null&&Jt!==void 0?Jt:72.80000305175781*Fe,ideographicBaseline:(le=se.ideographicBaseline)!==null&&le!==void 0?le:-21*Fe,width:se.width,height:je}}_getContextFont(){return this.fontStyle()+k+this.fontVariant()+k+(this.fontSize()+I)+P(this.fontFamily())}_addTextLine(st){this.align()===b&&(st=st.trim());const Ct=this._getTextWidth(st);return this.textArr.push({text:st,width:Ct,lastInParagraph:!1})}_getTextWidth(st){const gt=this.letterSpacing(),Ct=st.length;return $().measureText(st).width+gt*Ct}_setTextData(){let st=this.text().split(`
`),gt=+this.fontSize(),Ct=0,Mt=this.lineHeight()*gt,et=this.attrs.width,ct=this.attrs.height,At=et!==y&&et!==void 0,Rt=ct!==y&&ct!==void 0,zt=this.padding(),Gt=et-zt*2,Jt=ct-zt*2,le=0,Yt=this.wrap(),je=Yt!==q,se=Yt!==w&&je,Fe=this.ellipsis();this.textArr=[],$().font=this._getContextFont();const di=Fe?this._getTextWidth(K):0;for(let He=0,li=st.length;He<li;++He){let tn=st[He],Kn=this._getTextWidth(tn);if(At&&Kn>Gt)for(;tn.length>0;){let en=0,Mi=g(tn).length,Ce="",qe=0;for(;en<Mi;){const Qn=en+Mi>>>1,ca=g(tn),ji=ca.slice(0,Qn+1).join(""),ha=this._getTextWidth(ji)+di;ha<=Gt?(en=Qn+1,Ce=ji,qe=ha):Mi=Qn}if(Ce){if(se){const ji=g(tn),ha=g(Ce),zn=ji[ha.length],nn=zn===k||zn===D;let be;if(nn&&qe<=Gt)be=ha.length;else{const fa=ha.lastIndexOf(k),Fi=ha.lastIndexOf(D);be=Math.max(fa,Fi)+1}be>0&&(en=be,Ce=ji.slice(0,en).join(""),qe=this._getTextWidth(Ce))}if(Ce=Ce.trimRight(),this._addTextLine(Ce),Ct=Math.max(Ct,qe),le+=Mt,this._shouldHandleEllipsis(le)){this._tryToAddEllipsisToLastLine();break}if(tn=g(tn).slice(en).join("").trimLeft(),tn.length>0&&(Kn=this._getTextWidth(tn),Kn<=Gt)){this._addTextLine(tn),le+=Mt,Ct=Math.max(Ct,Kn);break}}else break}else this._addTextLine(tn),le+=Mt,Ct=Math.max(Ct,Kn),this._shouldHandleEllipsis(le)&&He<li-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Rt&&le+Mt>Jt)break}this.textHeight=gt,this.textWidth=Ct}_shouldHandleEllipsis(st){const gt=+this.fontSize(),Ct=this.lineHeight()*gt,Mt=this.attrs.height,et=Mt!==y&&Mt!==void 0,ct=this.padding(),At=Mt-ct*2;return!(this.wrap()!==q)||et&&st+Ct>At}_tryToAddEllipsisToLastLine(){const st=this.attrs.width,gt=st!==y&&st!==void 0,Ct=this.padding(),Mt=st-Ct*2,et=this.ellipsis(),ct=this.textArr[this.textArr.length-1];!ct||!et||(gt&&(this._getTextWidth(ct.text+K)<Mt||(ct.text=ct.text.slice(0,ct.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ct.text+K))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const st=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,gt=this.hasShadow();return st&&gt?!0:super._useBufferCanvas()}};return lh.Text=it,it.prototype._fillFunc=at,it.prototype._strokeFunc=dt,it.prototype.className=L,it.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,f._registerNode)(it),t.Factory.overWriteSetter(it,"width",(0,o.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(it,"height",(0,o.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(it,"direction",S),t.Factory.addGetterSetter(it,"fontFamily","Arial"),t.Factory.addGetterSetter(it,"fontSize",12,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(it,"fontStyle",H),t.Factory.addGetterSetter(it,"fontVariant",H),t.Factory.addGetterSetter(it,"padding",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(it,"align",x),t.Factory.addGetterSetter(it,"verticalAlign",F),t.Factory.addGetterSetter(it,"lineHeight",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(it,"wrap",M),t.Factory.addGetterSetter(it,"ellipsis",!1,(0,o.getBooleanValidator)()),t.Factory.addGetterSetter(it,"letterSpacing",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(it,"text","",(0,o.getStringValidator)()),t.Factory.addGetterSetter(it,"textDecoration",""),lh}var Qf={},R2;function r5(){if(R2)return Qf;R2=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.TextPath=void 0;const r=kn(),t=Te(),a=Ni(),u=S1(),o=__(),f=Ae(),g=ye(),y="",_="normal";function S(U){U.fillText(this.partialText,0,0)}function b(U){U.strokeText(this.partialText,0,0)}let O=class extends a.Shape{constructor(D){super(D),this.dummyCanvas=r.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return u.Path.getPathLength(this.dataArray)}_getPointAtLength(D){if(!this.attrs.data)return null;const x=this.pathLength;return D-1>x?null:u.Path.getPointAtLengthOfDataArray(D,this.dataArray)}_readDataAttribute(){this.dataArray=u.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(D){D.setAttr("font",this._getContextFont()),D.setAttr("textBaseline",this.textBaseline()),D.setAttr("textAlign","left"),D.save();const x=this.textDecoration(),z=this.fill(),L=this.fontSize(),F=this.glyphInfo;x==="underline"&&D.beginPath();for(let C=0;C<F.length;C++){D.save();const R=F[C].p0;D.translate(R.x,R.y),D.rotate(F[C].rotation),this.partialText=F[C].text,D.fillStrokeShape(this),x==="underline"&&(C===0&&D.moveTo(0,L/2+1),D.lineTo(L,L/2+1)),D.restore()}x==="underline"&&(D.strokeStyle=z,D.lineWidth=L/20,D.stroke()),D.restore()}_hitFunc(D){D.beginPath();const x=this.glyphInfo;if(x.length>=1){const z=x[0].p0;D.moveTo(z.x,z.y)}for(let z=0;z<x.length;z++){const L=x[z].p1;D.lineTo(L.x,L.y)}D.setAttr("lineWidth",this.fontSize()),D.setAttr("strokeStyle",this.colorKey),D.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(D){return o.Text.prototype.setText.call(this,D)}_getContextFont(){return o.Text.prototype._getContextFont.call(this)}_getTextSize(D){const z=this.dummyCanvas.getContext("2d");z.save(),z.font=this._getContextFont();const L=z.measureText(D);return z.restore(),{width:L.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:D,height:x}=this._getTextSize(this.attrs.text);if(this.textWidth=D,this.textHeight=x,this.glyphInfo=[],!this.attrs.data)return null;const z=this.letterSpacing(),L=this.align(),F=this.kerningFunc(),C=Math.max(this.textWidth+((this.attrs.text||"").length-1)*z,0);let R=0;L==="center"&&(R=Math.max(0,this.pathLength/2-C/2)),L==="right"&&(R=Math.max(0,this.pathLength-C));const H=(0,o.stringToArray)(this.text());let I=R;for(let k=0;k<H.length;k++){const j=this._getPointAtLength(I);if(!j)return;let V=this._getTextSize(H[k]).width+z;if(H[k]===" "&&L==="justify"){const Y=this.text().split(" ").length-1;V+=(this.pathLength-C)/Y}const M=this._getPointAtLength(I+V);if(!M)return;const w=u.Path.getLineLength(j.x,j.y,M.x,M.y);let q=0;if(F)try{q=F(H[k-1],H[k])*this.fontSize()}catch{q=0}j.x+=q,M.x+=q,this.textWidth+=q;const K=u.Path.getPointOnLine(q+w/2,j.x,j.y,M.x,M.y),T=Math.atan2(M.y-j.y,M.x-j.x);this.glyphInfo.push({transposeX:K.x,transposeY:K.y,text:H[k],rotation:T,p0:j,p1:M}),I+=V}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const D=[];this.glyphInfo.forEach(function(I){D.push(I.p0.x),D.push(I.p0.y),D.push(I.p1.x),D.push(I.p1.y)});let x=D[0]||0,z=D[0]||0,L=D[1]||0,F=D[1]||0,C,R;for(let I=0;I<D.length/2;I++)C=D[I*2],R=D[I*2+1],x=Math.min(x,C),z=Math.max(z,C),L=Math.min(L,R),F=Math.max(F,R);const H=this.fontSize();return{x:x-H/2,y:L-H/2,width:z-x+H,height:F-L+H}}destroy(){return r.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Qf.TextPath=O,O.prototype._fillFunc=S,O.prototype._strokeFunc=b,O.prototype._fillFuncHit=S,O.prototype._strokeFuncHit=b,O.prototype.className="TextPath",O.prototype._attrsAffectingSize=["text","fontSize","data"],(0,g._registerNode)(O),t.Factory.addGetterSetter(O,"data"),t.Factory.addGetterSetter(O,"fontFamily","Arial"),t.Factory.addGetterSetter(O,"fontSize",12,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(O,"fontStyle",_),t.Factory.addGetterSetter(O,"align","left"),t.Factory.addGetterSetter(O,"letterSpacing",0,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(O,"textBaseline","middle"),t.Factory.addGetterSetter(O,"fontVariant",_),t.Factory.addGetterSetter(O,"text",y),t.Factory.addGetterSetter(O,"textDecoration",""),t.Factory.addGetterSetter(O,"kerningFunc",void 0),Qf}var Xf={},D2;function l5(){if(D2)return Xf;D2=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.Transformer=void 0;const r=kn(),t=Te(),a=ti(),u=Ni(),o=y_(),f=_1(),g=ye(),y=Ae(),_=ye(),S="tr-konva",b=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(V=>V+`.${S}`).join(" "),O="nodesRect",U=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],D={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},x="ontouchstart"in g.Konva._global;function z(V,M,w){if(V==="rotater")return w;M+=r.Util.degToRad(D[V]||0);const q=(r.Util.radToDeg(M)%360+360)%360;return r.Util._inRange(q,315+22.5,360)||r.Util._inRange(q,0,22.5)?"ns-resize":r.Util._inRange(q,45-22.5,45+22.5)?"nesw-resize":r.Util._inRange(q,90-22.5,90+22.5)?"ew-resize":r.Util._inRange(q,135-22.5,135+22.5)?"nwse-resize":r.Util._inRange(q,180-22.5,180+22.5)?"ns-resize":r.Util._inRange(q,225-22.5,225+22.5)?"nesw-resize":r.Util._inRange(q,270-22.5,270+22.5)?"ew-resize":r.Util._inRange(q,315-22.5,315+22.5)?"nwse-resize":(r.Util.error("Transformer has unknown angle for cursor detection: "+q),"pointer")}const L=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function F(V){return{x:V.x+V.width/2*Math.cos(V.rotation)+V.height/2*Math.sin(-V.rotation),y:V.y+V.height/2*Math.cos(V.rotation)+V.width/2*Math.sin(V.rotation)}}function C(V,M,w){const q=w.x+(V.x-w.x)*Math.cos(M)-(V.y-w.y)*Math.sin(M),K=w.y+(V.x-w.x)*Math.sin(M)+(V.y-w.y)*Math.cos(M);return{...V,rotation:V.rotation+M,x:q,y:K}}function R(V,M){const w=F(V);return C(V,M,w)}function H(V,M,w){let q=M;for(let K=0;K<V.length;K++){const T=g.Konva.getAngle(V[K]),Y=Math.abs(T-M)%(Math.PI*2);Math.min(Y,Math.PI*2-Y)<w&&(q=T)}return q}let I=0,k=class extends f.Group{constructor(M){super(M),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(b,this.update),this.getNode()&&this.update()}attachTo(M){return this.setNode(M),this}setNode(M){return r.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([M])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return S+this._id}setNodes(M=[]){this._nodes&&this._nodes.length&&this.detach();const w=M.filter(K=>K.isAncestorOf(this)?(r.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=M=w,M.length===1&&this.useSingleNodeRotation()?this.rotation(M[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(K=>{const T=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},Y=K._attrsAffectingSize.map(P=>P+"Change."+this._getEventNamespace()).join(" ");K.on(Y,T),K.on(U.map(P=>P+`.${this._getEventNamespace()}`).join(" "),T),K.on(`absoluteTransformChange.${this._getEventNamespace()}`,T),this._proxyDrag(K)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(M){let w;M.on(`dragstart.${this._getEventNamespace()}`,q=>{w=M.getAbsolutePosition(),!this.isDragging()&&M!==this.findOne(".back")&&this.startDrag(q,!1)}),M.on(`dragmove.${this._getEventNamespace()}`,q=>{if(!w)return;const K=M.getAbsolutePosition(),T=K.x-w.x,Y=K.y-w.y;this.nodes().forEach(P=>{if(P===M||P.isDragging())return;const X=P.getAbsolutePosition();P.setAbsolutePosition({x:X.x+T,y:X.y+Y}),P.startDrag(q)}),w=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(M=>{M.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(O),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(O,this.__getNodeRect)}__getNodeShape(M,w=this.rotation(),q){const K=M.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),T=M.getAbsoluteScale(q),Y=M.getAbsolutePosition(q),P=K.x*T.x-M.offsetX()*T.x,X=K.y*T.y-M.offsetY()*T.y,$=(g.Konva.getAngle(M.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),at={x:Y.x+P*Math.cos($)+X*Math.sin(-$),y:Y.y+X*Math.cos($)+P*Math.sin($),width:K.width*T.x,height:K.height*T.y,rotation:$};return C(at,-g.Konva.getAngle(w),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const w=[];this.nodes().map($=>{const at=$.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),dt=[{x:at.x,y:at.y},{x:at.x+at.width,y:at.y},{x:at.x+at.width,y:at.y+at.height},{x:at.x,y:at.y+at.height}],Q=$.getAbsoluteTransform();dt.forEach(function(it){const St=Q.point(it);w.push(St)})});const q=new r.Transform;q.rotate(-g.Konva.getAngle(this.rotation()));let K=1/0,T=1/0,Y=-1/0,P=-1/0;w.forEach(function($){const at=q.point($);K===void 0&&(K=Y=at.x,T=P=at.y),K=Math.min(K,at.x),T=Math.min(T,at.y),Y=Math.max(Y,at.x),P=Math.max(P,at.y)}),q.invert();const X=q.point({x:K,y:T});return{x:X.x,y:X.y,width:Y-K,height:P-T,rotation:g.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),L.forEach(M=>{this._createAnchor(M)}),this._createAnchor("rotater")}_createAnchor(M){const w=new o.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:M+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:x?10:"auto"}),q=this;w.on("mousedown touchstart",function(K){q._handleMouseDown(K)}),w.on("dragstart",K=>{w.stopDrag(),K.cancelBubble=!0}),w.on("dragend",K=>{K.cancelBubble=!0}),w.on("mouseenter",()=>{const K=g.Konva.getAngle(this.rotation()),T=this.rotateAnchorCursor(),Y=z(M,K,T);w.getStage().content&&(w.getStage().content.style.cursor=Y),this._cursorChange=!0}),w.on("mouseout",()=>{w.getStage().content&&(w.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(w)}_createBack(){const M=new u.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(w,q){const K=q.getParent(),T=K.padding();w.beginPath(),w.rect(-T,-T,q.width()+T*2,q.height()+T*2),w.moveTo(q.width()/2,-T),K.rotateEnabled()&&K.rotateLineVisible()&&w.lineTo(q.width()/2,-K.rotateAnchorOffset()*r.Util._sign(q.height())-T),w.fillStrokeShape(q)},hitFunc:(w,q)=>{if(!this.shouldOverdrawWholeArea())return;const K=this.padding();w.beginPath(),w.rect(-K,-K,q.width()+K*2,q.height()+K*2),w.fillStrokeShape(q)}});this.add(M),this._proxyDrag(M),M.on("dragstart",w=>{w.cancelBubble=!0}),M.on("dragmove",w=>{w.cancelBubble=!0}),M.on("dragend",w=>{w.cancelBubble=!0}),this.on("dragmove",w=>{this.update()})}_handleMouseDown(M){if(this._transforming)return;this._movingAnchorName=M.target.name().split(" ")[0];const w=this._getNodeRect(),q=w.width,K=w.height,T=Math.sqrt(Math.pow(q,2)+Math.pow(K,2));this.sin=Math.abs(K/T),this.cos=Math.abs(q/T),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const Y=M.target.getAbsolutePosition(),P=M.target.getStage().getPointerPosition();this._anchorDragOffset={x:P.x-Y.x,y:P.y-Y.y},I++,this._fire("transformstart",{evt:M.evt,target:this.getNode()}),this._nodes.forEach(X=>{X._fire("transformstart",{evt:M.evt,target:X})})}_handleMouseMove(M){let w,q,K;const T=this.findOne("."+this._movingAnchorName),Y=T.getStage();Y.setPointersPositions(M);const P=Y.getPointerPosition();let X={x:P.x-this._anchorDragOffset.x,y:P.y-this._anchorDragOffset.y};const $=T.getAbsolutePosition();this.anchorDragBoundFunc()&&(X=this.anchorDragBoundFunc()($,X,M)),T.setAbsolutePosition(X);const at=T.getAbsolutePosition();if($.x===at.x&&$.y===at.y)return;if(this._movingAnchorName==="rotater"){const At=this._getNodeRect();w=T.x()-At.width/2,q=-T.y()+At.height/2;let Rt=Math.atan2(-q,w)+Math.PI/2;At.height<0&&(Rt-=Math.PI);const Gt=g.Konva.getAngle(this.rotation())+Rt,Jt=g.Konva.getAngle(this.rotationSnapTolerance()),Yt=H(this.rotationSnaps(),Gt,Jt)-At.rotation,je=R(At,Yt);this._fitNodesInto(je,M);return}const dt=this.shiftBehavior();let Q;dt==="inverted"?Q=this.keepRatio()&&!M.shiftKey:dt==="none"?Q=this.keepRatio():Q=this.keepRatio()||M.shiftKey;var Ct=this.centeredScaling()||M.altKey;if(this._movingAnchorName==="top-left"){if(Q){var it=Ct?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};K=Math.sqrt(Math.pow(it.x-T.x(),2)+Math.pow(it.y-T.y(),2));var St=this.findOne(".top-left").x()>it.x?-1:1,st=this.findOne(".top-left").y()>it.y?-1:1;w=K*this.cos*St,q=K*this.sin*st,this.findOne(".top-left").x(it.x-w),this.findOne(".top-left").y(it.y-q)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(T.y());else if(this._movingAnchorName==="top-right"){if(Q){var it=Ct?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};K=Math.sqrt(Math.pow(T.x()-it.x,2)+Math.pow(it.y-T.y(),2));var St=this.findOne(".top-right").x()<it.x?-1:1,st=this.findOne(".top-right").y()>it.y?-1:1;w=K*this.cos*St,q=K*this.sin*st,this.findOne(".top-right").x(it.x+w),this.findOne(".top-right").y(it.y-q)}var gt=T.position();this.findOne(".top-left").y(gt.y),this.findOne(".bottom-right").x(gt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(T.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(T.x());else if(this._movingAnchorName==="bottom-left"){if(Q){var it=Ct?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};K=Math.sqrt(Math.pow(it.x-T.x(),2)+Math.pow(T.y()-it.y,2));var St=it.x<T.x()?-1:1,st=T.y()<it.y?-1:1;w=K*this.cos*St,q=K*this.sin*st,T.x(it.x-w),T.y(it.y+q)}gt=T.position(),this.findOne(".top-left").x(gt.x),this.findOne(".bottom-right").y(gt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(T.y());else if(this._movingAnchorName==="bottom-right"){if(Q){var it=Ct?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};K=Math.sqrt(Math.pow(T.x()-it.x,2)+Math.pow(T.y()-it.y,2));var St=this.findOne(".bottom-right").x()<it.x?-1:1,st=this.findOne(".bottom-right").y()<it.y?-1:1;w=K*this.cos*St,q=K*this.sin*st,this.findOne(".bottom-right").x(it.x+w),this.findOne(".bottom-right").y(it.y+q)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Ct=this.centeredScaling()||M.altKey;if(Ct){const At=this.findOne(".top-left"),Rt=this.findOne(".bottom-right"),zt=At.x(),Gt=At.y(),Jt=this.getWidth()-Rt.x(),le=this.getHeight()-Rt.y();Rt.move({x:-zt,y:-Gt}),At.move({x:Jt,y:le})}const Mt=this.findOne(".top-left").getAbsolutePosition();w=Mt.x,q=Mt.y;const et=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ct=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:w,y:q,width:et,height:ct,rotation:g.Konva.getAngle(this.rotation())},M)}_handleMouseUp(M){this._removeEvents(M)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(M){var w;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const q=this.getNode();I--,this._fire("transformend",{evt:M,target:q}),(w=this.getLayer())===null||w===void 0||w.batchDraw(),q&&this._nodes.forEach(K=>{var T;K._fire("transformend",{evt:M,target:K}),(T=K.getLayer())===null||T===void 0||T.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(M,w){const q=this._getNodeRect(),K=1;if(r.Util._inRange(M.width,-this.padding()*2-K,K)){this.update();return}if(r.Util._inRange(M.height,-this.padding()*2-K,K)){this.update();return}const T=new r.Transform;if(T.rotate(g.Konva.getAngle(this.rotation())),this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("left")>=0){const Q=T.point({x:-this.padding()*2,y:0});M.x+=Q.x,M.y+=Q.y,M.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y}else if(this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("right")>=0){const Q=T.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,M.width+=this.padding()*2}if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("top")>=0){const Q=T.point({x:0,y:-this.padding()*2});M.x+=Q.x,M.y+=Q.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,M.height+=this.padding()*2}else if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const Q=T.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,M.height+=this.padding()*2}if(this.boundBoxFunc()){const Q=this.boundBoxFunc()(q,M);Q?M=Q:r.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const Y=1e7,P=new r.Transform;P.translate(q.x,q.y),P.rotate(q.rotation),P.scale(q.width/Y,q.height/Y);const X=new r.Transform,$=M.width/Y,at=M.height/Y;this.flipEnabled()===!1?(X.translate(M.x,M.y),X.rotate(M.rotation),X.translate(M.width<0?M.width:0,M.height<0?M.height:0),X.scale(Math.abs($),Math.abs(at))):(X.translate(M.x,M.y),X.rotate(M.rotation),X.scale($,at));const dt=X.multiply(P.invert());this._nodes.forEach(Q=>{var it;const St=Q.getParent().getAbsoluteTransform(),st=Q.getTransform().copy();st.translate(Q.offsetX(),Q.offsetY());const gt=new r.Transform;gt.multiply(St.copy().invert()).multiply(dt).multiply(St).multiply(st);const Ct=gt.decompose();Q.setAttrs(Ct),(it=Q.getLayer())===null||it===void 0||it.batchDraw()}),this.rotation(r.Util._getRotation(M.rotation)),this._nodes.forEach(Q=>{this._fire("transform",{evt:w,target:Q}),Q._fire("transform",{evt:w,target:Q})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(M,w){this.findOne(M).setAttrs(w)}update(){var M;const w=this._getNodeRect();this.rotation(r.Util._getRotation(w.rotation));const q=w.width,K=w.height,T=this.enabledAnchors(),Y=this.resizeEnabled(),P=this.padding(),X=this.anchorSize(),$=this.find("._anchor");$.forEach(dt=>{dt.setAttrs({width:X,height:X,offsetX:X/2,offsetY:X/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:X/2+P,offsetY:X/2+P,visible:Y&&T.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:q/2,y:0,offsetY:X/2+P,visible:Y&&T.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:q,y:0,offsetX:X/2-P,offsetY:X/2+P,visible:Y&&T.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:K/2,offsetX:X/2+P,visible:Y&&T.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:q,y:K/2,offsetX:X/2-P,visible:Y&&T.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:K,offsetX:X/2+P,offsetY:X/2-P,visible:Y&&T.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:q/2,y:K,offsetY:X/2-P,visible:Y&&T.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:q,y:K,offsetX:X/2-P,offsetY:X/2-P,visible:Y&&T.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:q/2,y:-this.rotateAnchorOffset()*r.Util._sign(K)-P,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:q,height:K,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const at=this.anchorStyleFunc();at&&$.forEach(dt=>{at(dt)}),(M=this.getLayer())===null||M===void 0||M.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const M=this.findOne("."+this._movingAnchorName);M&&M.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),f.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return a.Node.prototype.toObject.call(this)}clone(M){return a.Node.prototype.clone.call(this,M)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Xf.Transformer=k,k.isTransforming=()=>I>0;function j(V){return V instanceof Array||r.Util.warn("enabledAnchors value should be an array"),V instanceof Array&&V.forEach(function(M){L.indexOf(M)===-1&&r.Util.warn("Unknown anchor name: "+M+". Available names are: "+L.join(", "))}),V||[]}return k.prototype.className="Transformer",(0,_._registerNode)(k),t.Factory.addGetterSetter(k,"enabledAnchors",L,j),t.Factory.addGetterSetter(k,"flipEnabled",!0,(0,y.getBooleanValidator)()),t.Factory.addGetterSetter(k,"resizeEnabled",!0),t.Factory.addGetterSetter(k,"anchorSize",10,(0,y.getNumberValidator)()),t.Factory.addGetterSetter(k,"rotateEnabled",!0),t.Factory.addGetterSetter(k,"rotateLineVisible",!0),t.Factory.addGetterSetter(k,"rotationSnaps",[]),t.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,y.getNumberValidator)()),t.Factory.addGetterSetter(k,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,y.getNumberValidator)()),t.Factory.addGetterSetter(k,"borderEnabled",!0),t.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,y.getNumberValidator)()),t.Factory.addGetterSetter(k,"anchorFill","white"),t.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,y.getNumberValidator)()),t.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,y.getNumberValidator)()),t.Factory.addGetterSetter(k,"borderDash"),t.Factory.addGetterSetter(k,"keepRatio",!0),t.Factory.addGetterSetter(k,"shiftBehavior","default"),t.Factory.addGetterSetter(k,"centeredScaling",!1),t.Factory.addGetterSetter(k,"ignoreStroke",!1),t.Factory.addGetterSetter(k,"padding",0,(0,y.getNumberValidator)()),t.Factory.addGetterSetter(k,"nodes"),t.Factory.addGetterSetter(k,"node"),t.Factory.addGetterSetter(k,"boundBoxFunc"),t.Factory.addGetterSetter(k,"anchorDragBoundFunc"),t.Factory.addGetterSetter(k,"anchorStyleFunc"),t.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),t.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Xf}var Zf={},N2;function u5(){if(N2)return Zf;N2=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.Wedge=void 0;const r=Te(),t=Ni(),a=ye(),u=Ae(),o=ye();let f=class extends t.Shape{_sceneFunc(y){y.beginPath(),y.arc(0,0,this.radius(),0,a.Konva.getAngle(this.angle()),this.clockwise()),y.lineTo(0,0),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(y){this.radius(y/2)}setHeight(y){this.radius(y/2)}};return Zf.Wedge=f,f.prototype.className="Wedge",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["radius"],(0,o._registerNode)(f),r.Factory.addGetterSetter(f,"radius",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(f,"angle",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(f,"clockwise",!1),r.Factory.backCompat(f,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Zf}var Jf={},M2;function o5(){if(M2)return Jf;M2=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.Blur=void 0;const r=Te(),t=ti(),a=Ae();function u(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],f=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(_,S){const b=_.data,O=_.width,U=_.height;let D,x,z,L,F,C,R,H,I,k,j,V,M,w,q,K,T,Y,P,X,$,at,dt,Q;const it=S+S+1,St=O-1,st=U-1,gt=S+1,Ct=gt*(gt+1)/2,Mt=new u,et=o[S],ct=f[S];let At=null,Rt=Mt,zt=null,Gt=null;for(z=1;z<it;z++)Rt=Rt.next=new u,z===gt&&(At=Rt);for(Rt.next=Mt,R=C=0,x=0;x<U;x++){for(K=T=Y=P=H=I=k=j=0,V=gt*(X=b[C]),M=gt*($=b[C+1]),w=gt*(at=b[C+2]),q=gt*(dt=b[C+3]),H+=Ct*X,I+=Ct*$,k+=Ct*at,j+=Ct*dt,Rt=Mt,z=0;z<gt;z++)Rt.r=X,Rt.g=$,Rt.b=at,Rt.a=dt,Rt=Rt.next;for(z=1;z<gt;z++)L=C+((St<z?St:z)<<2),H+=(Rt.r=X=b[L])*(Q=gt-z),I+=(Rt.g=$=b[L+1])*Q,k+=(Rt.b=at=b[L+2])*Q,j+=(Rt.a=dt=b[L+3])*Q,K+=X,T+=$,Y+=at,P+=dt,Rt=Rt.next;for(zt=Mt,Gt=At,D=0;D<O;D++)b[C+3]=dt=j*et>>ct,dt!==0?(dt=255/dt,b[C]=(H*et>>ct)*dt,b[C+1]=(I*et>>ct)*dt,b[C+2]=(k*et>>ct)*dt):b[C]=b[C+1]=b[C+2]=0,H-=V,I-=M,k-=w,j-=q,V-=zt.r,M-=zt.g,w-=zt.b,q-=zt.a,L=R+((L=D+S+1)<St?L:St)<<2,K+=zt.r=b[L],T+=zt.g=b[L+1],Y+=zt.b=b[L+2],P+=zt.a=b[L+3],H+=K,I+=T,k+=Y,j+=P,zt=zt.next,V+=X=Gt.r,M+=$=Gt.g,w+=at=Gt.b,q+=dt=Gt.a,K-=X,T-=$,Y-=at,P-=dt,Gt=Gt.next,C+=4;R+=O}for(D=0;D<O;D++){for(T=Y=P=K=I=k=j=H=0,C=D<<2,V=gt*(X=b[C]),M=gt*($=b[C+1]),w=gt*(at=b[C+2]),q=gt*(dt=b[C+3]),H+=Ct*X,I+=Ct*$,k+=Ct*at,j+=Ct*dt,Rt=Mt,z=0;z<gt;z++)Rt.r=X,Rt.g=$,Rt.b=at,Rt.a=dt,Rt=Rt.next;for(F=O,z=1;z<=S;z++)C=F+D<<2,H+=(Rt.r=X=b[C])*(Q=gt-z),I+=(Rt.g=$=b[C+1])*Q,k+=(Rt.b=at=b[C+2])*Q,j+=(Rt.a=dt=b[C+3])*Q,K+=X,T+=$,Y+=at,P+=dt,Rt=Rt.next,z<st&&(F+=O);for(C=D,zt=Mt,Gt=At,x=0;x<U;x++)L=C<<2,b[L+3]=dt=j*et>>ct,dt>0?(dt=255/dt,b[L]=(H*et>>ct)*dt,b[L+1]=(I*et>>ct)*dt,b[L+2]=(k*et>>ct)*dt):b[L]=b[L+1]=b[L+2]=0,H-=V,I-=M,k-=w,j-=q,V-=zt.r,M-=zt.g,w-=zt.b,q-=zt.a,L=D+((L=x+gt)<st?L:st)*O<<2,H+=K+=zt.r=b[L],I+=T+=zt.g=b[L+1],k+=Y+=zt.b=b[L+2],j+=P+=zt.a=b[L+3],zt=zt.next,V+=X=Gt.r,M+=$=Gt.g,w+=at=Gt.b,q+=dt=Gt.a,K-=X,T-=$,Y-=at,P-=dt,Gt=Gt.next,C+=O}}const y=function(S){const b=Math.round(this.blurRadius());b>0&&g(S,b)};return Jf.Blur=y,r.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),Jf}var Wf={},O2;function c5(){if(O2)return Wf;O2=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.Brighten=void 0;const r=Te(),t=ti(),a=Ae(),u=function(o){const f=this.brightness()*255,g=o.data,y=g.length;for(let _=0;_<y;_+=4)g[_]+=f,g[_+1]+=f,g[_+2]+=f};return Wf.Brighten=u,r.Factory.addGetterSetter(t.Node,"brightness",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),Wf}var $f={},x2;function h5(){if(x2)return $f;x2=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.Contrast=void 0;const r=Te(),t=ti(),a=Ae(),u=function(o){const f=Math.pow((this.contrast()+100)/100,2),g=o.data,y=g.length;let _=150,S=150,b=150;for(let O=0;O<y;O+=4)_=g[O],S=g[O+1],b=g[O+2],_/=255,_-=.5,_*=f,_+=.5,_*=255,S/=255,S-=.5,S*=f,S+=.5,S*=255,b/=255,b-=.5,b*=f,b+=.5,b*=255,_=_<0?0:_>255?255:_,S=S<0?0:S>255?255:S,b=b<0?0:b>255?255:b,g[O]=_,g[O+1]=S,g[O+2]=b};return $f.Contrast=u,r.Factory.addGetterSetter(t.Node,"contrast",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),$f}var td={},w2;function f5(){if(w2)return td;w2=1,Object.defineProperty(td,"__esModule",{value:!0}),td.Emboss=void 0;const r=Te(),t=ti(),a=kn(),u=Ae(),o=function(f){const g=this.embossStrength()*10,y=this.embossWhiteLevel()*255,_=this.embossDirection(),S=this.embossBlend(),b=f.data,O=f.width,U=f.height,D=O*4;let x=0,z=0,L=U;switch(_){case"top-left":x=-1,z=-1;break;case"top":x=-1,z=0;break;case"top-right":x=-1,z=1;break;case"right":x=0,z=1;break;case"bottom-right":x=1,z=1;break;case"bottom":x=1,z=0;break;case"bottom-left":x=1,z=-1;break;case"left":x=0,z=-1;break;default:a.Util.error("Unknown emboss direction: "+_)}do{const F=(L-1)*D;let C=x;L+C<1&&(C=0),L+C>U&&(C=0);const R=(L-1+C)*O*4;let H=O;do{const I=F+(H-1)*4;let k=z;H+k<1&&(k=0),H+k>O&&(k=0);const j=R+(H-1+k)*4,V=b[I]-b[j],M=b[I+1]-b[j+1],w=b[I+2]-b[j+2];let q=V;const K=q>0?q:-q,T=M>0?M:-M,Y=w>0?w:-w;if(T>K&&(q=M),Y>K&&(q=w),q*=g,S){const P=b[I]+q,X=b[I+1]+q,$=b[I+2]+q;b[I]=P>255?255:P<0?0:P,b[I+1]=X>255?255:X<0?0:X,b[I+2]=$>255?255:$<0?0:$}else{let P=y-q;P<0?P=0:P>255&&(P=255),b[I]=b[I+1]=b[I+2]=P}}while(--H)}while(--L)};return td.Emboss=o,r.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,u.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,u.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"embossDirection","top-left",void 0,r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"embossBlend",!1,void 0,r.Factory.afterSetFilter),td}var ed={},V2;function d5(){if(V2)return ed;V2=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.Enhance=void 0;const r=Te(),t=ti(),a=Ae();function u(f,g,y,_,S){const b=y-g,O=S-_;if(b===0)return _+O/2;if(O===0)return _;let U=(f-g)/b;return U=O*U+_,U}const o=function(f){const g=f.data,y=g.length;let _=g[0],S=_,b,O=g[1],U=O,D,x=g[2],z=x,L;const F=this.enhance();if(F===0)return;for(let q=0;q<y;q+=4)b=g[q+0],b<_?_=b:b>S&&(S=b),D=g[q+1],D<O?O=D:D>U&&(U=D),L=g[q+2],L<x?x=L:L>z&&(z=L);S===_&&(S=255,_=0),U===O&&(U=255,O=0),z===x&&(z=255,x=0);let C,R,H,I,k,j,V,M,w;F>0?(R=S+F*(255-S),H=_-F*(_-0),k=U+F*(255-U),j=O-F*(O-0),M=z+F*(255-z),w=x-F*(x-0)):(C=(S+_)*.5,R=S+F*(S-C),H=_+F*(_-C),I=(U+O)*.5,k=U+F*(U-I),j=O+F*(O-I),V=(z+x)*.5,M=z+F*(z-V),w=x+F*(x-V));for(let q=0;q<y;q+=4)g[q+0]=u(g[q+0],_,S,H,R),g[q+1]=u(g[q+1],O,U,j,k),g[q+2]=u(g[q+2],x,z,w,M)};return ed.Enhance=o,r.Factory.addGetterSetter(t.Node,"enhance",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),ed}var nd={},U2;function g5(){if(U2)return nd;U2=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.Grayscale=void 0;const r=function(t){const a=t.data,u=a.length;for(let o=0;o<u;o+=4){const f=.34*a[o]+.5*a[o+1]+.16*a[o+2];a[o]=f,a[o+1]=f,a[o+2]=f}};return nd.Grayscale=r,nd}var id={},z2;function m5(){if(z2)return id;z2=1,Object.defineProperty(id,"__esModule",{value:!0}),id.HSL=void 0;const r=Te(),t=ti(),a=Ae();r.Factory.addGetterSetter(t.Node,"hue",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"saturation",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"luminance",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter);const u=function(o){const f=o.data,g=f.length,y=1,_=Math.pow(2,this.saturation()),S=Math.abs(this.hue()+360)%360,b=this.luminance()*127,O=y*_*Math.cos(S*Math.PI/180),U=y*_*Math.sin(S*Math.PI/180),D=.299*y+.701*O+.167*U,x=.587*y-.587*O+.33*U,z=.114*y-.114*O-.497*U,L=.299*y-.299*O-.328*U,F=.587*y+.413*O+.035*U,C=.114*y-.114*O+.293*U,R=.299*y-.3*O+1.25*U,H=.587*y-.586*O-1.05*U,I=.114*y+.886*O-.2*U;let k,j,V,M;for(let w=0;w<g;w+=4)k=f[w+0],j=f[w+1],V=f[w+2],M=f[w+3],f[w+0]=D*k+x*j+z*V+b,f[w+1]=L*k+F*j+C*V+b,f[w+2]=R*k+H*j+I*V+b,f[w+3]=M};return id.HSL=u,id}var ad={},B2;function p5(){if(B2)return ad;B2=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.HSV=void 0;const r=Te(),t=ti(),a=Ae(),u=function(o){const f=o.data,g=f.length,y=Math.pow(2,this.value()),_=Math.pow(2,this.saturation()),S=Math.abs(this.hue()+360)%360,b=y*_*Math.cos(S*Math.PI/180),O=y*_*Math.sin(S*Math.PI/180),U=.299*y+.701*b+.167*O,D=.587*y-.587*b+.33*O,x=.114*y-.114*b-.497*O,z=.299*y-.299*b-.328*O,L=.587*y+.413*b+.035*O,F=.114*y-.114*b+.293*O,C=.299*y-.3*b+1.25*O,R=.587*y-.586*b-1.05*O,H=.114*y+.886*b-.2*O;let I,k,j,V;for(let M=0;M<g;M+=4)I=f[M+0],k=f[M+1],j=f[M+2],V=f[M+3],f[M+0]=U*I+D*k+x*j,f[M+1]=z*I+L*k+F*j,f[M+2]=C*I+R*k+H*j,f[M+3]=V};return ad.HSV=u,r.Factory.addGetterSetter(t.Node,"hue",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"saturation",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"value",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),ad}var sd={},L2;function y5(){if(L2)return sd;L2=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.Invert=void 0;const r=function(t){const a=t.data,u=a.length;for(let o=0;o<u;o+=4)a[o]=255-a[o],a[o+1]=255-a[o+1],a[o+2]=255-a[o+2]};return sd.Invert=r,sd}var rd={},G2;function _5(){if(G2)return rd;G2=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.Kaleidoscope=void 0;const r=Te(),t=ti(),a=kn(),u=Ae(),o=function(y,_,S){const b=y.data,O=_.data,U=y.width,D=y.height,x=S.polarCenterX||U/2,z=S.polarCenterY||D/2;let L=Math.sqrt(x*x+z*z),F=U-x,C=D-z;const R=Math.sqrt(F*F+C*C);L=R>L?R:L;const H=D,I=U,k=360/I*Math.PI/180;for(let j=0;j<I;j+=1){const V=Math.sin(j*k),M=Math.cos(j*k);for(let w=0;w<H;w+=1){F=Math.floor(x+L*w/H*M),C=Math.floor(z+L*w/H*V);let q=(C*U+F)*4;const K=b[q+0],T=b[q+1],Y=b[q+2],P=b[q+3];q=(j+w*U)*4,O[q+0]=K,O[q+1]=T,O[q+2]=Y,O[q+3]=P}}},f=function(y,_,S){const b=y.data,O=_.data,U=y.width,D=y.height,x=S.polarCenterX||U/2,z=S.polarCenterY||D/2;let L=Math.sqrt(x*x+z*z),F=U-x,C=D-z;const R=Math.sqrt(F*F+C*C);L=R>L?R:L;const H=D,I=U,k=0;let j,V;for(F=0;F<U;F+=1)for(C=0;C<D;C+=1){const M=F-x,w=C-z,q=Math.sqrt(M*M+w*w)*H/L;let K=(Math.atan2(w,M)*180/Math.PI+360+k)%360;K=K*I/360,j=Math.floor(K),V=Math.floor(q);let T=(V*U+j)*4;const Y=b[T+0],P=b[T+1],X=b[T+2],$=b[T+3];T=(C*U+F)*4,O[T+0]=Y,O[T+1]=P,O[T+2]=X,O[T+3]=$}},g=function(y){const _=y.width,S=y.height;let b,O,U,D,x,z,L,F,C,R,H=Math.round(this.kaleidoscopePower());const I=Math.round(this.kaleidoscopeAngle()),k=Math.floor(_*(I%360)/360);if(H<1)return;const j=a.Util.createCanvasElement();j.width=_,j.height=S;const V=j.getContext("2d").getImageData(0,0,_,S);a.Util.releaseCanvas(j),o(y,V,{polarCenterX:_/2,polarCenterY:S/2});let M=_/Math.pow(2,H);for(;M<=8;)M=M*2,H-=1;M=Math.ceil(M);let w=M,q=0,K=w,T=1;for(k+M>_&&(q=w,K=0,T=-1),O=0;O<S;O+=1)for(b=q;b!==K;b+=T)U=Math.round(b+k)%_,C=(_*O+U)*4,x=V.data[C+0],z=V.data[C+1],L=V.data[C+2],F=V.data[C+3],R=(_*O+b)*4,V.data[R+0]=x,V.data[R+1]=z,V.data[R+2]=L,V.data[R+3]=F;for(O=0;O<S;O+=1)for(w=Math.floor(M),D=0;D<H;D+=1){for(b=0;b<w+1;b+=1)C=(_*O+b)*4,x=V.data[C+0],z=V.data[C+1],L=V.data[C+2],F=V.data[C+3],R=(_*O+w*2-b-1)*4,V.data[R+0]=x,V.data[R+1]=z,V.data[R+2]=L,V.data[R+3]=F;w*=2}f(V,y,{polarRotation:0})};return rd.Kaleidoscope=g,r.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,u.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,u.getNumberValidator)(),r.Factory.afterSetFilter),rd}var ld={},H2;function v5(){if(H2)return ld;H2=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.Mask=void 0;const r=Te(),t=ti(),a=Ae();function u(U,D,x){let z=(x*U.width+D)*4;const L=[];return L.push(U.data[z++],U.data[z++],U.data[z++],U.data[z++]),L}function o(U,D){return Math.sqrt(Math.pow(U[0]-D[0],2)+Math.pow(U[1]-D[1],2)+Math.pow(U[2]-D[2],2))}function f(U){const D=[0,0,0];for(let x=0;x<U.length;x++)D[0]+=U[x][0],D[1]+=U[x][1],D[2]+=U[x][2];return D[0]/=U.length,D[1]/=U.length,D[2]/=U.length,D}function g(U,D){const x=u(U,0,0),z=u(U,U.width-1,0),L=u(U,0,U.height-1),F=u(U,U.width-1,U.height-1),C=D||10;if(o(x,z)<C&&o(z,F)<C&&o(F,L)<C&&o(L,x)<C){const R=f([z,x,F,L]),H=[];for(let I=0;I<U.width*U.height;I++){const k=o(R,[U.data[I*4],U.data[I*4+1],U.data[I*4+2]]);H[I]=k<C?0:255}return H}}function y(U,D){for(let x=0;x<U.width*U.height;x++)U.data[4*x+3]=D[x]}function _(U,D,x){const z=[1,1,1,1,0,1,1,1,1],L=Math.round(Math.sqrt(z.length)),F=Math.floor(L/2),C=[];for(let R=0;R<x;R++)for(let H=0;H<D;H++){const I=R*D+H;let k=0;for(let j=0;j<L;j++)for(let V=0;V<L;V++){const M=R+j-F,w=H+V-F;if(M>=0&&M<x&&w>=0&&w<D){const q=M*D+w,K=z[j*L+V];k+=U[q]*K}}C[I]=k===255*8?255:0}return C}function S(U,D,x){const z=[1,1,1,1,1,1,1,1,1],L=Math.round(Math.sqrt(z.length)),F=Math.floor(L/2),C=[];for(let R=0;R<x;R++)for(let H=0;H<D;H++){const I=R*D+H;let k=0;for(let j=0;j<L;j++)for(let V=0;V<L;V++){const M=R+j-F,w=H+V-F;if(M>=0&&M<x&&w>=0&&w<D){const q=M*D+w,K=z[j*L+V];k+=U[q]*K}}C[I]=k>=255*4?255:0}return C}function b(U,D,x){const z=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],L=Math.round(Math.sqrt(z.length)),F=Math.floor(L/2),C=[];for(let R=0;R<x;R++)for(let H=0;H<D;H++){const I=R*D+H;let k=0;for(let j=0;j<L;j++)for(let V=0;V<L;V++){const M=R+j-F,w=H+V-F;if(M>=0&&M<x&&w>=0&&w<D){const q=M*D+w,K=z[j*L+V];k+=U[q]*K}}C[I]=k}return C}const O=function(U){const D=this.threshold();let x=g(U,D);return x&&(x=_(x,U.width,U.height),x=S(x,U.width,U.height),x=b(x,U.width,U.height),y(U,x)),U};return ld.Mask=O,r.Factory.addGetterSetter(t.Node,"threshold",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),ld}var ud={},q2;function S5(){if(q2)return ud;q2=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.Noise=void 0;const r=Te(),t=ti(),a=Ae(),u=function(o){const f=this.noise()*255,g=o.data,y=g.length,_=f/2;for(let S=0;S<y;S+=4)g[S+0]+=_-2*_*Math.random(),g[S+1]+=_-2*_*Math.random(),g[S+2]+=_-2*_*Math.random()};return ud.Noise=u,r.Factory.addGetterSetter(t.Node,"noise",.2,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),ud}var od={},P2;function E5(){if(P2)return od;P2=1,Object.defineProperty(od,"__esModule",{value:!0}),od.Pixelate=void 0;const r=Te(),t=kn(),a=ti(),u=Ae(),o=function(f){let g=Math.ceil(this.pixelSize()),y=f.width,_=f.height,S,b,O,U,D,x,z,L=Math.ceil(y/g),F=Math.ceil(_/g),C,R,H,I,k,j,V,M=f.data;if(g<=0){t.Util.error("pixelSize value can not be <= 0");return}for(k=0;k<L;k+=1)for(j=0;j<F;j+=1){for(U=0,D=0,x=0,z=0,C=k*g,R=C+g,H=j*g,I=H+g,V=0,S=C;S<R;S+=1)if(!(S>=y))for(b=H;b<I;b+=1)b>=_||(O=(y*b+S)*4,U+=M[O+0],D+=M[O+1],x+=M[O+2],z+=M[O+3],V+=1);for(U=U/V,D=D/V,x=x/V,z=z/V,S=C;S<R;S+=1)if(!(S>=y))for(b=H;b<I;b+=1)b>=_||(O=(y*b+S)*4,M[O+0]=U,M[O+1]=D,M[O+2]=x,M[O+3]=z)}};return od.Pixelate=o,r.Factory.addGetterSetter(a.Node,"pixelSize",8,(0,u.getNumberValidator)(),r.Factory.afterSetFilter),od}var cd={},I2;function T5(){if(I2)return cd;I2=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.Posterize=void 0;const r=Te(),t=ti(),a=Ae(),u=function(o){const f=Math.round(this.levels()*254)+1,g=o.data,y=g.length,_=255/f;for(let S=0;S<y;S+=1)g[S]=Math.floor(g[S]/_)*_};return cd.Posterize=u,r.Factory.addGetterSetter(t.Node,"levels",.5,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),cd}var hd={},j2;function b5(){if(j2)return hd;j2=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.RGB=void 0;const r=Te(),t=ti(),a=Ae(),u=function(o){const f=o.data,g=f.length,y=this.red(),_=this.green(),S=this.blue();for(let b=0;b<g;b+=4){const O=(.34*f[b]+.5*f[b+1]+.16*f[b+2])/255;f[b]=O*y,f[b+1]=O*_,f[b+2]=O*S,f[b+3]=f[b+3]}};return hd.RGB=u,r.Factory.addGetterSetter(t.Node,"red",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)}),r.Factory.addGetterSetter(t.Node,"green",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)}),r.Factory.addGetterSetter(t.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter),hd}var fd={},F2;function A5(){if(F2)return fd;F2=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.RGBA=void 0;const r=Te(),t=ti(),a=Ae(),u=function(o){const f=o.data,g=f.length,y=this.red(),_=this.green(),S=this.blue(),b=this.alpha();for(let O=0;O<g;O+=4){const U=1-b;f[O]=y*b+f[O]*U,f[O+1]=_*b+f[O+1]*U,f[O+2]=S*b+f[O+2]*U}};return fd.RGBA=u,r.Factory.addGetterSetter(t.Node,"red",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)}),r.Factory.addGetterSetter(t.Node,"green",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)}),r.Factory.addGetterSetter(t.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(t.Node,"alpha",1,function(o){return this._filterUpToDate=!1,o>1?1:o<0?0:o}),fd}var dd={},Y2;function C5(){if(Y2)return dd;Y2=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.Sepia=void 0;const r=function(t){const a=t.data,u=a.length;for(let o=0;o<u;o+=4){const f=a[o+0],g=a[o+1],y=a[o+2];a[o+0]=Math.min(255,f*.393+g*.769+y*.189),a[o+1]=Math.min(255,f*.349+g*.686+y*.168),a[o+2]=Math.min(255,f*.272+g*.534+y*.131)}};return dd.Sepia=r,dd}var gd={},k2;function R5(){if(k2)return gd;k2=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.Solarize=void 0;const r=function(t){const a=t.data,u=t.width,o=t.height,f=u*4;let g=o;do{const y=(g-1)*f;let _=u;do{const S=y+(_-1)*4;let b=a[S],O=a[S+1],U=a[S+2];b>127&&(b=255-b),O>127&&(O=255-O),U>127&&(U=255-U),a[S]=b,a[S+1]=O,a[S+2]=U}while(--_)}while(--g)};return gd.Solarize=r,gd}var md={},K2;function D5(){if(K2)return md;K2=1,Object.defineProperty(md,"__esModule",{value:!0}),md.Threshold=void 0;const r=Te(),t=ti(),a=Ae(),u=function(o){const f=this.threshold()*255,g=o.data,y=g.length;for(let _=0;_<y;_+=1)g[_]=g[_]<f?0:255};return md.Threshold=u,r.Factory.addGetterSetter(t.Node,"threshold",.5,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),md}var Q2;function N5(){if(Q2)return Mf;Q2=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.Konva=void 0;const r=Qm(),t=X4(),a=J4(),u=W4(),o=$4(),f=t5(),g=e5(),y=p_(),_=S1(),S=y_(),b=n5(),O=i5(),U=a5(),D=s5(),x=__(),z=r5(),L=l5(),F=u5(),C=o5(),R=c5(),H=h5(),I=f5(),k=d5(),j=g5(),V=m5(),M=p5(),w=y5(),q=_5(),K=v5(),T=S5(),Y=E5(),P=T5(),X=b5(),$=A5(),at=C5(),dt=R5(),Q=D5();return Mf.Konva=r.Konva.Util._assign(r.Konva,{Arc:t.Arc,Arrow:a.Arrow,Circle:u.Circle,Ellipse:o.Ellipse,Image:f.Image,Label:g.Label,Tag:g.Tag,Line:y.Line,Path:_.Path,Rect:S.Rect,RegularPolygon:b.RegularPolygon,Ring:O.Ring,Sprite:U.Sprite,Star:D.Star,Text:x.Text,TextPath:z.TextPath,Transformer:L.Transformer,Wedge:F.Wedge,Filters:{Blur:C.Blur,Brighten:R.Brighten,Contrast:H.Contrast,Emboss:I.Emboss,Enhance:k.Enhance,Grayscale:j.Grayscale,HSL:V.HSL,HSV:M.HSV,Invert:w.Invert,Kaleidoscope:q.Kaleidoscope,Mask:K.Mask,Noise:T.Noise,Pixelate:Y.Pixelate,Posterize:P.Posterize,RGB:X.RGB,RGBA:$.RGBA,Sepia:at.Sepia,Solarize:dt.Solarize,Threshold:Q.Threshold}}),Mf}var M5=ig.exports,X2;function O5(){if(X2)return ig.exports;X2=1,Object.defineProperty(M5,"__esModule",{value:!0});const r=N5();return ig.exports=r.Konva,ig.exports}O5();var J0={exports:{}},Z2;function x5(){return Z2||(Z2=1,function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var a=Qm();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return a.Konva}});const u=Qm();r.exports=u.Konva}(J0,J0.exports)),J0.exports}var w5=x5();const og=m1(w5);var zm={exports:{}},Bm={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function V5(){return J2||(J2=1,function(r){r.exports=function(t){function a(i,s,h,p){return new Yd(i,s,h,p)}function u(){}function o(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(i){return i===null||typeof i!="object"?null:(i=Pe&&i[Pe]||i["@@iterator"],typeof i=="function"?i:null)}function g(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Hn?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case nl:return"Fragment";case Os:return"Portal";case il:return"Profiler";case Kl:return"StrictMode";case gr:return"Suspense";case Xo:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case al:return(i.displayName||"Context")+".Provider";case qh:return(i._context.displayName||"Context")+".Consumer";case Uc:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Bu:return s=i.displayName||null,s!==null?s:g(i.type)||"Memo";case mr:s=i._payload,i=i._init;try{return g(i(s))}catch{}}return null}function y(i){if(sl===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);sl=s&&s[1]||"",rl=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sl+i+rl}function _(i,s){if(!i||Lu)return"";Lu=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var Lt=function(){throw Error()};if(Object.defineProperty(Lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Lt,[])}catch(te){var wt=te}Reflect.construct(i,[],Lt)}else{try{Lt.call()}catch(te){wt=te}i.call(Lt.prototype)}}else{try{throw Error()}catch(te){wt=te}(Lt=i())&&typeof Lt.catch=="function"&&Lt.catch(function(){})}}catch(te){if(te&&wt&&typeof te.stack=="string")return[te.stack,wt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),J=N[0],nt=N[1];if(J&&nt){var ft=J.split(`
`),Tt=nt.split(`
`);for(E=p=0;p<ft.length&&!ft[p].includes("DetermineComponentFrameRoot");)p++;for(;E<Tt.length&&!Tt[E].includes("DetermineComponentFrameRoot");)E++;if(p===ft.length||E===Tt.length)for(p=ft.length-1,E=Tt.length-1;1<=p&&0<=E&&ft[p]!==Tt[E];)E--;for(;1<=p&&0<=E;p--,E--)if(ft[p]!==Tt[E]){if(p!==1||E!==1)do if(p--,E--,0>E||ft[p]!==Tt[E]){var Vt=`
`+ft[p].replace(" at new "," at ");return i.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",i.displayName)),Vt}while(1<=p&&0<=E);break}}}finally{Lu=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?y(h):""}function S(i){switch(i.tag){case 26:case 27:case 5:return y(i.type);case 16:return y("Lazy");case 13:return y("Suspense");case 19:return y("SuspenseList");case 0:case 15:return i=_(i.type,!1),i;case 11:return i=_(i.type.render,!1),i;case 1:return i=_(i.type,!0),i;default:return""}}function b(i){try{var s="";do s+=S(i),i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function O(i){var s=i,h=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(h=s.return),i=s.return;while(i)}return s.tag===3?h:null}function U(i){if(O(i)!==i)throw Error(o(188))}function D(i){var s=i.alternate;if(!s){if(s=O(i),s===null)throw Error(o(188));return s!==i?null:i}for(var h=i,p=s;;){var E=h.return;if(E===null)break;var N=E.alternate;if(N===null){if(p=E.return,p!==null){h=p;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===h)return U(E),i;if(N===p)return U(E),s;N=N.sibling}throw Error(o(188))}if(h.return!==p.return)h=E,p=N;else{for(var J=!1,nt=E.child;nt;){if(nt===h){J=!0,h=E,p=N;break}if(nt===p){J=!0,p=E,h=N;break}nt=nt.sibling}if(!J){for(nt=N.child;nt;){if(nt===h){J=!0,h=N,p=E;break}if(nt===p){J=!0,p=N,h=E;break}nt=nt.sibling}if(!J)throw Error(o(189))}}if(h.alternate!==p)throw Error(o(190))}if(h.tag!==3)throw Error(o(188));return h.stateNode.current===h?i:s}function x(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=x(i),s!==null)return s;i=i.sibling}return null}function z(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(i.tag!==4&&(s=z(i),s!==null))return s;i=i.sibling}return null}function L(i){return{current:i}}function F(i){0>cl||(i.current=Kc[cl],Kc[cl]=null,cl--)}function C(i,s){cl++,Kc[cl]=i.current,i.current=s}function R(i){return i>>>=0,i===0?32:31-(hf(i)/Zg|0)|0}function H(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function I(i,s){var h=i.pendingLanes;if(h===0)return 0;var p=0,E=i.suspendedLanes,N=i.pingedLanes,J=i.warmLanes;i=i.finishedLanes!==0;var nt=h&134217727;return nt!==0?(h=nt&~E,h!==0?p=H(h):(N&=nt,N!==0?p=H(N):i||(J=nt&~J,J!==0&&(p=H(J))))):(nt=h&~E,nt!==0?p=H(nt):N!==0?p=H(N):i||(J=h&~J,J!==0&&(p=H(J)))),p===0?0:s!==0&&s!==p&&!(s&E)&&(E=p&-p,J=s&-s,E>=J||E===32&&(J&4194176)!==0)?s:p}function k(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function j(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var i=$o;return $o<<=1,!($o&4194176)&&($o=128),i}function M(){var i=Iu;return Iu<<=1,!(Iu&62914560)&&(Iu=4194304),i}function w(i){for(var s=[],h=0;31>h;h++)s.push(i);return s}function q(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function K(i,s,h,p,E,N){var J=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var nt=i.entanglements,ft=i.expirationTimes,Tt=i.hiddenUpdates;for(h=J&~h;0<h;){var Vt=31-Nn(h),Lt=1<<Vt;nt[Vt]=0,ft[Vt]=-1;var wt=Tt[Vt];if(wt!==null)for(Tt[Vt]=null,Vt=0;Vt<wt.length;Vt++){var te=wt[Vt];te!==null&&(te.lane&=-536870913)}h&=~Lt}p!==0&&T(i,p,0),N!==0&&E===0&&i.tag!==0&&(i.suspendedLanes|=N&~(J&~s))}function T(i,s,h){i.pendingLanes|=s,i.suspendedLanes&=~s;var p=31-Nn(s);i.entangledLanes|=s,i.entanglements[p]=i.entanglements[p]|1073741824|h&4194218}function Y(i,s){var h=i.entangledLanes|=s;for(i=i.entanglements;h;){var p=31-Nn(h),E=1<<p;E&s|i[p]&s&&(i[p]|=s),h&=~E}}function P(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function X(i){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Fu,i,void 0,(i.current.flags&128)===128)}catch{}}function $(i){if(typeof Si=="function"&&Xc(i),qn&&typeof qn.setStrictMode=="function")try{qn.setStrictMode(Fu,i)}catch{}}function at(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}function dt(i,s){if(typeof i=="object"&&i!==null){var h=Zc.get(i);return h!==void 0?h:(s={value:i,source:s,stack:b(s)},Zc.set(i,s),s)}return{value:i,source:s,stack:b(s)}}function Q(i,s){Aa[Ca++]=Yu,Aa[Ca++]=fl,fl=i,Yu=s}function it(i,s,h){na[Ei++]=Us,na[Ei++]=zs,na[Ei++]=cs,cs=i;var p=Us;i=zs;var E=32-Nn(p)-1;p&=~(1<<E),h+=1;var N=32-Nn(s)+E;if(30<N){var J=E-E%5;N=(p&(1<<J)-1).toString(32),p>>=J,E-=J,Us=1<<32-Nn(s)+E|h<<E|p,zs=N+i}else Us=1<<N|h<<E|p,zs=i}function St(i){i.return!==null&&(Q(i,1),it(i,1,0))}function st(i){for(;i===fl;)fl=Aa[--Ca],Aa[Ca]=null,Yu=Aa[--Ca],Aa[Ca]=null;for(;i===cs;)cs=na[--Ei],na[Ei]=null,zs=na[--Ei],na[Ei]=null,Us=na[--Ei],na[Ei]=null}function gt(i,s){C(Sr,s),C(Ha,i),C(Mn,null),i=Ph(s),F(Mn),C(Mn,i)}function Ct(){F(Mn),F(Ha),F(Sr)}function Mt(i){i.memoizedState!==null&&C(ec,i);var s=Mn.current,h=kd(s,i.type);s!==h&&(C(Ha,i),C(Mn,h))}function et(i){Ha.current===i&&(F(Mn),F(Ha)),ec.current===i&&(F(ec),ls?yr._currentValue=Xl:yr._currentValue2=Xl)}function ct(i){var s=Error(o(418,""));throw Jt(dt(s,i)),nc}function At(i,s){if(!ea)throw Error(o(175));Wl(i.stateNode,i.type,i.memoizedProps,s,i)||ct(i)}function Rt(i){for(On=i.return;On;)switch(On.tag){case 3:case 27:hs=!0;return;case 5:case 13:hs=!1;return;default:On=On.return}}function zt(i){if(!ea||i!==On)return!1;if(!Ne)return Rt(i),Ne=!0,!1;var s=!1;if(ai?i.tag!==3&&i.tag!==27&&(i.tag!==5||tf(i.type)&&!oi(i.type,i.memoizedProps))&&(s=!0):i.tag!==3&&(i.tag!==5||tf(i.type)&&!oi(i.type,i.memoizedProps))&&(s=!0),s&&Ye&&ct(i),Rt(i),i.tag===13){if(!ea)throw Error(o(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));Ye=A0(i)}else Ye=On?ol(i.stateNode):null;return!0}function Gt(){ea&&(Ye=On=null,Ne=!1)}function Jt(i){qa===null?qa=[i]:qa.push(i)}function le(){for(var i=Er,s=fs=Er=0;s<i;){var h=ia[s];ia[s++]=null;var p=ia[s];ia[s++]=null;var E=ia[s];ia[s++]=null;var N=ia[s];if(ia[s++]=null,p!==null&&E!==null){var J=p.pending;J===null?E.next=E:(E.next=J.next,J.next=E),p.pending=E}N!==0&&Fe(h,E,N)}}function Yt(i,s,h,p){ia[Er++]=i,ia[Er++]=s,ia[Er++]=h,ia[Er++]=p,fs|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function je(i,s,h,p){return Yt(i,s,h,p),di(i)}function se(i,s){return Yt(i,null,null,s),di(i)}function Fe(i,s,h){i.lanes|=h;var p=i.alternate;p!==null&&(p.lanes|=h);for(var E=!1,N=i.return;N!==null;)N.childLanes|=h,p=N.alternate,p!==null&&(p.childLanes|=h),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(E=!0)),i=N,N=N.return;E&&s!==null&&i.tag===3&&(N=i.stateNode,E=31-Nn(h),N=N.hiddenUpdates,i=N[E],i===null?N[E]=[s]:i.push(s),s.lane=h|536870912)}function di(i){if(50<ru)throw ru=0,pf=null,Error(o(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}function He(i){i!==dl&&i.next===null&&(dl===null?un=dl=i:dl=dl.next=i),xn=!0,Jc||(Jc=!0,Ce(tn))}function li(i,s){if(!Wc&&xn){Wc=!0;do for(var h=!1,p=un;p!==null;){if(i!==0){var E=p.pendingLanes;if(E===0)var N=0;else{var J=p.suspendedLanes,nt=p.pingedLanes;N=(1<<31-Nn(42|i)+1)-1,N&=E&~(J&~nt),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(h=!0,Mi(p,N))}else N=pe,N=I(p,p===Ke?N:0),!(N&3)||k(p,N)||(h=!0,Mi(p,N));p=p.next}while(h);Wc=!1}}function tn(){xn=Jc=!1;var i=0;ku!==0&&(Zd()&&(i=ku),ku=0);for(var s=ba(),h=null,p=un;p!==null;){var E=p.next,N=Kn(p,s);N===0?(p.next=null,h===null?un=E:h.next=E,E===null&&(dl=h)):(h=p,(i!==0||N&3)&&(xn=!0)),p=E}li(i)}function Kn(i,s){for(var h=i.suspendedLanes,p=i.pingedLanes,E=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var J=31-Nn(N),nt=1<<J,ft=E[J];ft===-1?(!(nt&h)||nt&p)&&(E[J]=j(nt,s)):ft<=s&&(i.expiredLanes|=nt),N&=~nt}if(s=Ke,h=pe,h=I(i,i===s?h:0),p=i.callbackNode,h===0||i===s&&Ie===2||i.cancelPendingCommit!==null)return p!==null&&p!==null&&os(p),i.callbackNode=null,i.callbackPriority=0;if(!(h&3)||k(i,h)){if(s=h&-h,s===i.callbackPriority)return s;switch(p!==null&&os(p),P(h)){case 2:case 8:h=tc;break;case 32:h=ju;break;case 268435456:h=tu;break;default:h=ju}return p=en.bind(null,i),h=Vs(h,p),i.callbackPriority=s,i.callbackNode=h,s}return p!==null&&p!==null&&os(p),i.callbackPriority=2,i.callbackNode=null,2}function en(i,s){var h=i.callbackNode;if(Wr()&&i.callbackNode!==h)return null;var p=pe;return p=I(i,i===Ke?p:0),p===0?null:(Sa(i,p,s),Kn(i,ba()),i.callbackNode!=null&&i.callbackNode===h?en.bind(null,i):null)}function Mi(i,s){if(Wr())return null;Sa(i,s,!0)}function Ce(i){t0?e0(function(){me&6?Vs(Qc,i):i()}):Vs(Qc,i)}function qe(){return ku===0&&(ku=V()),ku}function Qn(i,s){if(Ku===null){var h=Ku=[];$c=0,on=qe(),si={status:"pending",value:void 0,then:function(p){h.push(p)}}}return $c++,s.then(ca,ca),s}function ca(){if(--$c===0&&Ku!==null){si!==null&&(si.status="fulfilled");var i=Ku;Ku=null,on=0,si=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function ji(i,s){var h=[],p={status:"pending",value:null,reason:null,then:function(E){h.push(E)}};return i.then(function(){p.status="fulfilled",p.value=s;for(var E=0;E<h.length;E++)(0,h[E])(s)},function(E){for(p.status="rejected",p.reason=E,E=0;E<h.length;E++)(0,h[E])(void 0)}),p}function ha(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zn(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function nn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function be(i,s,h){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,me&2){var E=p.pending;return E===null?s.next=s:(s.next=E.next,E.next=s),p.pending=s,s=di(i),Fe(i,null,h),s}return Yt(i,p,s,h),di(i)}function fa(i,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194176)!==0)){var p=s.lanes;p&=i.pendingLanes,h|=p,s.lanes=h,Y(i,h)}}function Fi(i,s){var h=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var E=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var J={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};N===null?E=N=J:N=N.next=J,h=h.next}while(h!==null);N===null?E=N=s:N=N.next=s}else E=N=s;h={baseState:p.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=s:i.next=s,h.lastBaseUpdate=s}function Xn(){if(th){var i=si;if(i!==null)throw i}}function js(i,s,h,p){th=!1;var E=i.updateQueue;Ti=!1;var N=E.firstBaseUpdate,J=E.lastBaseUpdate,nt=E.shared.pending;if(nt!==null){E.shared.pending=null;var ft=nt,Tt=ft.next;ft.next=null,J===null?N=Tt:J.next=Tt,J=ft;var Vt=i.alternate;Vt!==null&&(Vt=Vt.updateQueue,nt=Vt.lastBaseUpdate,nt!==J&&(nt===null?Vt.firstBaseUpdate=Tt:nt.next=Tt,Vt.lastBaseUpdate=ft))}if(N!==null){var Lt=E.baseState;J=0,Vt=Tt=ft=null,nt=N;do{var wt=nt.lane&-536870913,te=wt!==nt.lane;if(te?(pe&wt)===wt:(p&wt)===wt){wt!==0&&wt===on&&(th=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:nt.tag,payload:nt.payload,callback:null,next:null});t:{var Qa=i,$u=nt;wt=s;var lu=h;switch($u.tag){case 1:if(Qa=$u.payload,typeof Qa=="function"){Lt=Qa.call(lu,Lt,wt);break t}Lt=Qa;break t;case 3:Qa.flags=Qa.flags&-65537|128;case 0:if(Qa=$u.payload,wt=typeof Qa=="function"?Qa.call(lu,Lt,wt):Qa,wt==null)break t;Lt=Rn({},Lt,wt);break t;case 2:Ti=!0}}wt=nt.callback,wt!==null&&(i.flags|=64,te&&(i.flags|=8192),te=E.callbacks,te===null?E.callbacks=[wt]:te.push(wt))}else te={lane:wt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},Vt===null?(Tt=Vt=te,ft=Lt):Vt=Vt.next=te,J|=wt;if(nt=nt.next,nt===null){if(nt=E.shared.pending,nt===null)break;te=nt,nt=te.next,te.next=null,E.lastBaseUpdate=te,E.shared.pending=null}}while(!0);Vt===null&&(ft=Lt),E.baseState=ft,E.firstBaseUpdate=Tt,E.lastBaseUpdate=Vt,N===null&&(E.shared.lanes=0),ka|=J,i.lanes=J,i.memoizedState=Lt}}function vo(i,s){if(typeof i!="function")throw Error(o(191,i));i.call(s)}function So(i,s){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)vo(h[i],s)}function da(i,s){if(Ui(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var h=Object.keys(i),p=Object.keys(s);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var E=h[p];if(!w0.call(s,E)||!Ui(i[E],s[E]))return!1}return!0}function Fs(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yi(){}function ga(i,s,h){switch(h=i[h],h===void 0?i.push(s):h!==s&&(s.then(Yi,Yi),s=h),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===ic?Error(o(483)):i;default:if(typeof s.status=="string")s.then(Yi,Yi);else{if(i=Ke,i!==null&&100<i.shellSuspendCounter)throw Error(o(482));i=s,i.status="pending",i.then(function(p){if(s.status==="pending"){var E=s;E.status="fulfilled",E.value=p}},function(p){if(s.status==="pending"){var E=s;E.status="rejected",E.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===ic?Error(o(483)):i}throw bi=s,ic}}function Ys(){if(bi===null)throw Error(o(459));var i=bi;return bi=null,i}function ks(i){var s=Ai;return Ai+=1,eu===null&&(eu=[]),ga(eu,i,s)}function Ks(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ja(i,s){throw s.$$typeof===Hh?Error(o(525)):(i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Nl(i){var s=i._init;return s(i._payload)}function vn(i){function s(pt,ot){if(i){var _t=pt.deletions;_t===null?(pt.deletions=[ot],pt.flags|=16):_t.push(ot)}}function h(pt,ot){if(!i)return null;for(;ot!==null;)s(pt,ot),ot=ot.sibling;return null}function p(pt){for(var ot=new Map;pt!==null;)pt.key!==null?ot.set(pt.key,pt):ot.set(pt.index,pt),pt=pt.sibling;return ot}function E(pt,ot){return pt=hr(pt,ot),pt.index=0,pt.sibling=null,pt}function N(pt,ot,_t){return pt.index=_t,i?(_t=pt.alternate,_t!==null?(_t=_t.index,_t<ot?(pt.flags|=33554434,ot):_t):(pt.flags|=33554434,ot)):(pt.flags|=1048576,ot)}function J(pt){return i&&pt.alternate===null&&(pt.flags|=33554434),pt}function nt(pt,ot,_t,xt){return ot===null||ot.tag!==6?(ot=Qo(_t,pt.mode,xt),ot.return=pt,ot):(ot=E(ot,_t),ot.return=pt,ot)}function ft(pt,ot,_t,xt){var Pt=_t.type;return Pt===nl?Vt(pt,ot,_t.props.children,xt,_t.key):ot!==null&&(ot.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===mr&&Nl(Pt)===ot.type)?(ot=E(ot,_t.props),Ks(ot,_t),ot.return=pt,ot):(ot=kl(_t.type,_t.key,_t.props,null,pt.mode,xt),Ks(ot,_t),ot.return=pt,ot)}function Tt(pt,ot,_t,xt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==_t.containerInfo||ot.stateNode.implementation!==_t.implementation?(ot=ta(_t,pt.mode,xt),ot.return=pt,ot):(ot=E(ot,_t.children||[]),ot.return=pt,ot)}function Vt(pt,ot,_t,xt,Pt){return ot===null||ot.tag!==7?(ot=tl(_t,pt.mode,xt,Pt),ot.return=pt,ot):(ot=E(ot,_t),ot.return=pt,ot)}function Lt(pt,ot,_t){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=Qo(""+ot,pt.mode,_t),ot.return=pt,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case el:return _t=kl(ot.type,ot.key,ot.props,null,pt.mode,_t),Ks(_t,ot),_t.return=pt,_t;case Os:return ot=ta(ot,pt.mode,_t),ot.return=pt,ot;case mr:var xt=ot._init;return ot=xt(ot._payload),Lt(pt,ot,_t)}if(ll(ot)||f(ot))return ot=tl(ot,pt.mode,_t,null),ot.return=pt,ot;if(typeof ot.then=="function")return Lt(pt,ks(ot),_t);if(ot.$$typeof===al)return Lt(pt,vt(pt,ot),_t);Ja(pt,ot)}return null}function wt(pt,ot,_t,xt){var Pt=ot!==null?ot.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return Pt!==null?null:nt(pt,ot,""+_t,xt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case el:return _t.key===Pt?ft(pt,ot,_t,xt):null;case Os:return _t.key===Pt?Tt(pt,ot,_t,xt):null;case mr:return Pt=_t._init,_t=Pt(_t._payload),wt(pt,ot,_t,xt)}if(ll(_t)||f(_t))return Pt!==null?null:Vt(pt,ot,_t,xt,null);if(typeof _t.then=="function")return wt(pt,ot,ks(_t),xt);if(_t.$$typeof===al)return wt(pt,ot,vt(pt,_t),xt);Ja(pt,_t)}return null}function te(pt,ot,_t,xt,Pt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return pt=pt.get(_t)||null,nt(ot,pt,""+xt,Pt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case el:return pt=pt.get(xt.key===null?_t:xt.key)||null,ft(ot,pt,xt,Pt);case Os:return pt=pt.get(xt.key===null?_t:xt.key)||null,Tt(ot,pt,xt,Pt);case mr:var Qe=xt._init;return xt=Qe(xt._payload),te(pt,ot,_t,xt,Pt)}if(ll(xt)||f(xt))return pt=pt.get(_t)||null,Vt(ot,pt,xt,Pt,null);if(typeof xt.then=="function")return te(pt,ot,_t,ks(xt),Pt);if(xt.$$typeof===al)return te(pt,ot,_t,vt(ot,xt),Pt);Ja(ot,xt)}return null}function Qa(pt,ot,_t,xt){for(var Pt=null,Qe=null,kt=ot,de=ot=0,We=null;kt!==null&&de<_t.length;de++){kt.index>de?(We=kt,kt=null):We=kt.sibling;var Se=wt(pt,kt,_t[de],xt);if(Se===null){kt===null&&(kt=We);break}i&&kt&&Se.alternate===null&&s(pt,kt),ot=N(Se,ot,de),Qe===null?Pt=Se:Qe.sibling=Se,Qe=Se,kt=We}if(de===_t.length)return h(pt,kt),Ne&&Q(pt,de),Pt;if(kt===null){for(;de<_t.length;de++)kt=Lt(pt,_t[de],xt),kt!==null&&(ot=N(kt,ot,de),Qe===null?Pt=kt:Qe.sibling=kt,Qe=kt);return Ne&&Q(pt,de),Pt}for(kt=p(kt);de<_t.length;de++)We=te(kt,pt,de,_t[de],xt),We!==null&&(i&&We.alternate!==null&&kt.delete(We.key===null?de:We.key),ot=N(We,ot,de),Qe===null?Pt=We:Qe.sibling=We,Qe=We);return i&&kt.forEach(function(Tl){return s(pt,Tl)}),Ne&&Q(pt,de),Pt}function $u(pt,ot,_t,xt){if(_t==null)throw Error(o(151));for(var Pt=null,Qe=null,kt=ot,de=ot=0,We=null,Se=_t.next();kt!==null&&!Se.done;de++,Se=_t.next()){kt.index>de?(We=kt,kt=null):We=kt.sibling;var Tl=wt(pt,kt,Se.value,xt);if(Tl===null){kt===null&&(kt=We);break}i&&kt&&Tl.alternate===null&&s(pt,kt),ot=N(Tl,ot,de),Qe===null?Pt=Tl:Qe.sibling=Tl,Qe=Tl,kt=We}if(Se.done)return h(pt,kt),Ne&&Q(pt,de),Pt;if(kt===null){for(;!Se.done;de++,Se=_t.next())Se=Lt(pt,Se.value,xt),Se!==null&&(ot=N(Se,ot,de),Qe===null?Pt=Se:Qe.sibling=Se,Qe=Se);return Ne&&Q(pt,de),Pt}for(kt=p(kt);!Se.done;de++,Se=_t.next())Se=te(kt,pt,de,Se.value,xt),Se!==null&&(i&&Se.alternate!==null&&kt.delete(Se.key===null?de:Se.key),ot=N(Se,ot,de),Qe===null?Pt=Se:Qe.sibling=Se,Qe=Se);return i&&kt.forEach(function(U0){return s(pt,U0)}),Ne&&Q(pt,de),Pt}function lu(pt,ot,_t,xt){if(typeof _t=="object"&&_t!==null&&_t.type===nl&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case el:t:{for(var Pt=_t.key;ot!==null;){if(ot.key===Pt){if(Pt=_t.type,Pt===nl){if(ot.tag===7){h(pt,ot.sibling),xt=E(ot,_t.props.children),xt.return=pt,pt=xt;break t}}else if(ot.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===mr&&Nl(Pt)===ot.type){h(pt,ot.sibling),xt=E(ot,_t.props),Ks(xt,_t),xt.return=pt,pt=xt;break t}h(pt,ot);break}else s(pt,ot);ot=ot.sibling}_t.type===nl?(xt=tl(_t.props.children,pt.mode,xt,_t.key),xt.return=pt,pt=xt):(xt=kl(_t.type,_t.key,_t.props,null,pt.mode,xt),Ks(xt,_t),xt.return=pt,pt=xt)}return J(pt);case Os:t:{for(Pt=_t.key;ot!==null;){if(ot.key===Pt)if(ot.tag===4&&ot.stateNode.containerInfo===_t.containerInfo&&ot.stateNode.implementation===_t.implementation){h(pt,ot.sibling),xt=E(ot,_t.children||[]),xt.return=pt,pt=xt;break t}else{h(pt,ot);break}else s(pt,ot);ot=ot.sibling}xt=ta(_t,pt.mode,xt),xt.return=pt,pt=xt}return J(pt);case mr:return Pt=_t._init,_t=Pt(_t._payload),lu(pt,ot,_t,xt)}if(ll(_t))return Qa(pt,ot,_t,xt);if(f(_t)){if(Pt=f(_t),typeof Pt!="function")throw Error(o(150));return _t=Pt.call(_t),$u(pt,ot,_t,xt)}if(typeof _t.then=="function")return lu(pt,ot,ks(_t),xt);if(_t.$$typeof===al)return lu(pt,ot,vt(pt,_t),xt);Ja(pt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint"?(_t=""+_t,ot!==null&&ot.tag===6?(h(pt,ot.sibling),xt=E(ot,_t),xt.return=pt,pt=xt):(h(pt,ot),xt=Qo(_t,pt.mode,xt),xt.return=pt,pt=xt),J(pt)):h(pt,ot)}return function(pt,ot,_t,xt){try{Ai=0;var Pt=lu(pt,ot,_t,xt);return eu=null,Pt}catch(kt){if(kt===ic)throw kt;var Qe=a(29,kt,null,pt.mode);return Qe.lanes=xt,Qe.return=pt,Qe}finally{}}}function Eo(i,s){i=ps,C(gs,i),C(ds,s),ps=i|s.baseLanes}function _s(){C(gs,ps),C(ds,ds.current)}function vs(){ps=gs.current,F(ds),F(gs)}function Wa(i){var s=i.alternate;C(rn,rn.current&1),C(aa,i),Pa===null&&(s===null||ds.current!==null||s.memoizedState!==null)&&(Pa=i)}function To(i){if(i.tag===22){if(C(rn,rn.current),C(aa,i),Pa===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Pa=i)}}else Oi()}function Oi(){C(rn,rn.current),C(aa,aa.current)}function ei(i){F(aa),Pa===i&&(Pa=null),F(rn)}function bn(i){for(var s=i;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Zl(h)||Wo(h)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ue(){throw Error(o(321))}function $a(i,s){if(s===null)return!1;for(var h=0;h<s.length&&h<i.length;h++)if(!Ui(i[h],s[h]))return!1;return!0}function Qs(i,s,h,p,E,N){return Tr=N,Wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Xt.H=i===null||i.memoizedState===null?Cr:Bi,ml=!1,N=h(p,E),ml=!1,nu&&(N=ts(s,h,p,E)),Ml(i),N}function Ml(i){Xt.H=wn;var s=we!==null&&we.next!==null;if(Tr=0,dn=we=Wt=null,br=!1,Qu=0,Ar=null,s)throw Error(o(300));i===null||Pn||(i=i.dependencies,i!==null&&B(i)&&(Pn=!0))}function ts(i,s,h,p){Wt=i;var E=0;do{if(nu&&(Ar=null),Qu=0,nu=!1,25<=E)throw Error(o(301));if(E+=1,dn=we=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Xt.H=yl,N=s(h,p)}while(nu);return N}function bo(){var i=Xt.H,s=i.useState()[0];return s=typeof s.then=="function"?Na(s):s,i=i.useState()[0],(we!==null?we.memoizedState:null)!==i&&(Wt.flags|=1024),s}function Ss(){var i=pl!==0;return pl=0,i}function Xs(i,s,h){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~h}function ma(i){if(br){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}br=!1}Tr=0,dn=we=Wt=null,nu=!1,Qu=pl=0,Ar=null}function Sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Wt.memoizedState=dn=i:dn=dn.next=i,dn}function Ze(){if(we===null){var i=Wt.alternate;i=i!==null?i.memoizedState:null}else i=we.next;var s=dn===null?Wt.memoizedState:dn.next;if(s!==null)dn=s,we=i;else{if(i===null)throw Wt.alternate===null?Error(o(467)):Error(o(310));we=i,i={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},dn===null?Wt.memoizedState=dn=i:dn=dn.next=i}return dn}function Na(i){var s=Qu;return Qu+=1,Ar===null&&(Ar=[]),i=ga(Ar,i,s),s=Wt,(dn===null?s.memoizedState:dn.next)===null&&(s=s.alternate,Xt.H=s===null||s.memoizedState===null?Cr:Bi),i}function an(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Na(i);if(i.$$typeof===al)return ut(i)}throw Error(o(438,String(i)))}function Ol(i){var s=null,h=Wt.updateQueue;if(h!==null&&(s=h.memoCache),s==null){var p=Wt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(E){return E.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),h===null&&(h=ff(),Wt.updateQueue=h),h.memoCache=s,h=s.data[s.index],h===void 0)for(h=s.data[s.index]=Array(i),p=0;p<i;p++)h[p]=oe;return s.index++,h}function ki(i,s){return typeof s=="function"?s(i):s}function gi(i){var s=Ze();return mi(s,we,i)}function mi(i,s,h){var p=i.queue;if(p===null)throw Error(o(311));p.lastRenderedReducer=h;var E=i.baseQueue,N=p.pending;if(N!==null){if(E!==null){var J=E.next;E.next=N.next,N.next=J}s.baseQueue=E=N,p.pending=null}if(N=i.baseState,E===null)i.memoizedState=N;else{s=E.next;var nt=J=null,ft=null,Tt=s,Vt=!1;do{var Lt=Tt.lane&-536870913;if(Lt!==Tt.lane?(pe&Lt)===Lt:(Tr&Lt)===Lt){var wt=Tt.revertLane;if(wt===0)ft!==null&&(ft=ft.next={lane:0,revertLane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),Lt===on&&(Vt=!0);else if((Tr&wt)===wt){Tt=Tt.next,wt===on&&(Vt=!0);continue}else Lt={lane:0,revertLane:Tt.revertLane,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},ft===null?(nt=ft=Lt,J=N):ft=ft.next=Lt,Wt.lanes|=wt,ka|=wt;Lt=Tt.action,ml&&h(N,Lt),N=Tt.hasEagerState?Tt.eagerState:h(N,Lt)}else wt={lane:Lt,revertLane:Tt.revertLane,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},ft===null?(nt=ft=wt,J=N):ft=ft.next=wt,Wt.lanes|=Lt,ka|=Lt;Tt=Tt.next}while(Tt!==null&&Tt!==s);if(ft===null?J=N:ft.next=nt,!Ui(N,i.memoizedState)&&(Pn=!0,Vt&&(h=si,h!==null)))throw h;i.memoizedState=N,i.baseState=J,i.baseQueue=ft,p.lastRenderedState=N}return E===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function xi(i){var s=Ze(),h=s.queue;if(h===null)throw Error(o(311));h.lastRenderedReducer=i;var p=h.dispatch,E=h.pending,N=s.memoizedState;if(E!==null){h.pending=null;var J=E=E.next;do N=i(N,J.action),J=J.next;while(J!==E);Ui(N,s.memoizedState)||(Pn=!0),s.memoizedState=N,s.baseQueue===null&&(s.baseState=N),h.lastRenderedState=N}return[N,p]}function yc(i,s,h){var p=Wt,E=Ze(),N=Ne;if(N){if(h===void 0)throw Error(o(407));h=h()}else h=s();var J=!Ui((we||E).memoizedState,h);if(J&&(E.memoizedState=h,Pn=!0),E=E.queue,wl(Ao.bind(null,p,E,i),[i]),E.getSnapshot!==s||J||dn!==null&&dn.memoizedState.tag&1){if(p.flags|=2048,pa(9,yu.bind(null,p,E,h,s),{destroy:void 0},null),Ke===null)throw Error(o(349));N||Tr&60||pu(p,s,h)}return h}function pu(i,s,h){i.flags|=16384,i={getSnapshot:s,value:h},s=Wt.updateQueue,s===null?(s=ff(),Wt.updateQueue=s,s.stores=[i]):(h=s.stores,h===null?s.stores=[i]:h.push(i))}function yu(i,s,h,p){s.value=h,s.getSnapshot=p,Zs(s)&&Js(i)}function Ao(i,s,h){return h(function(){Zs(s)&&Js(i)})}function Zs(i){var s=i.getSnapshot;i=i.value;try{var h=s();return!Ui(i,h)}catch{return!0}}function Js(i){var s=se(i,2);s!==null&&sn(s,i,2)}function Ki(i){var s=Sn();if(typeof i=="function"){var h=i;if(i=h(),ml){$(!0);try{h()}finally{$(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:i},s}function pi(i,s,h,p){return i.baseState=h,mi(i,we,typeof p=="function"?p:ki)}function _c(i,s,h,p,E){if(Pr(i))throw Error(o(485));if(i=s.action,i!==null){var N={payload:E,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){N.listeners.push(J)}};Xt.T!==null?h(!0):N.isTransition=!1,p(N),h=s.pending,h===null?(N.next=s.pending=N,vc(s,N)):(N.next=h.next,s.pending=h.next=N)}}function vc(i,s){var h=s.action,p=s.payload,E=i.state;if(s.isTransition){var N=Xt.T,J={};Xt.T=J;try{var nt=h(E,p),ft=Xt.S;ft!==null&&ft(J,nt),wr(i,s,nt)}catch(Tt){Vr(i,s,Tt)}finally{Xt.T=N}}else try{N=h(E,p),wr(i,s,N)}catch(Tt){Vr(i,s,Tt)}}function wr(i,s,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){_u(i,s,p)},function(p){return Vr(i,s,p)}):_u(i,s,h)}function _u(i,s,h){s.status="fulfilled",s.value=h,Es(s),i.state=h,s=i.pending,s!==null&&(h=s.next,h===s?i.pending=null:(h=h.next,s.next=h,vc(i,h)))}function Vr(i,s,h){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=h,Es(s),s=s.next;while(s!==p)}i.action=null}function Es(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function mn(i,s){return s}function Ws(i,s){if(Ne){var h=Ke.formState;if(h!==null){t:{var p=Wt;if(Ne){if(Ye){var E=S0(Ye,hs);if(E){Ye=ol(E),p=ws(E);break t}}ct(p)}p=!1}p&&(s=h[0])}}h=Sn(),h.memoizedState=h.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:s},h.queue=p,h=Eu.bind(null,Wt,p),p.dispatch=h,p=Ki(!1);var N=Ma.bind(null,Wt,!1,p.queue);return p=Sn(),E={state:s,dispatch:null,action:i,pending:null},p.queue=E,h=_c.bind(null,Wt,E,N,h),E.dispatch=h,p.memoizedState=i,[s,h,!1]}function Ur(i){var s=Ze();return xl(s,we,i)}function xl(i,s,h){s=mi(i,s,mn)[0],i=gi(ki)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Na(s):s;var p=Ze(),E=p.queue,N=E.dispatch;return h!==p.memoizedState&&(Wt.flags|=2048,pa(9,xe.bind(null,E,h),{destroy:void 0},null)),[s,N,i]}function xe(i,s){i.action=s}function zr(i){var s=Ze(),h=we;if(h!==null)return xl(s,h,i);Ze(),s=s.memoizedState,h=Ze();var p=h.queue.dispatch;return h.memoizedState=i,[s,p,!1]}function pa(i,s,h,p){return i={tag:i,create:s,inst:h,deps:p,next:null},s=Wt.updateQueue,s===null&&(s=ff(),Wt.updateQueue=s),h=s.lastEffect,h===null?s.lastEffect=i.next=i:(p=h.next,h.next=i,i.next=p,s.lastEffect=i),i}function ya(){return Ze().memoizedState}function vu(i,s,h,p){var E=Sn();Wt.flags|=i,E.memoizedState=pa(1|s,h,{destroy:void 0},p===void 0?null:p)}function Br(i,s,h,p){var E=Ze();p=p===void 0?null:p;var N=E.memoizedState.inst;we!==null&&p!==null&&$a(p,we.memoizedState.deps)?E.memoizedState=pa(s,h,N,p):(Wt.flags|=i,E.memoizedState=pa(1|s,h,N,p))}function Co(i,s){vu(8390656,8,i,s)}function wl(i,s){Br(2048,8,i,s)}function Sc(i,s){return Br(4,2,i,s)}function Ec(i,s){return Br(4,4,i,s)}function es(i,s){if(typeof s=="function"){i=i();var h=s(i);return function(){typeof h=="function"?h():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function _a(i,s,h){h=h!=null?h.concat([i]):null,Br(4,4,es.bind(null,s,i),h)}function Lr(){}function Ts(i,s){var h=Ze();s=s===void 0?null:s;var p=h.memoizedState;return s!==null&&$a(s,p[1])?p[0]:(h.memoizedState=[i,s],i)}function bs(i,s){var h=Ze();s=s===void 0?null:s;var p=h.memoizedState;if(s!==null&&$a(s,p[1]))return p[0];if(p=i(),ml){$(!0);try{i()}finally{$(!1)}}return h.memoizedState=[p,s],p}function ns(i,s,h){return h===void 0||Tr&1073741824?i.memoizedState=s:(i.memoizedState=h,i=Po(),Wt.lanes|=i,ka|=i,h)}function Su(i,s,h,p){return Ui(h,s)?h:ds.current!==null?(i=ns(i,h,p),Ui(i,s)||(Pn=!0),i):Tr&42?(i=Po(),Wt.lanes|=i,ka|=i,s):(Pn=!0,i.memoizedState=h)}function Ro(i,s,h,p,E){var N=ul();Vi(N!==0&&8>N?N:8);var J=Xt.T,nt={};Xt.T=nt,Ma(i,!1,s,h);try{var ft=E(),Tt=Xt.S;if(Tt!==null&&Tt(nt,ft),ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var Vt=ji(ft,p);Xi(i,s,Vt,_i(i))}else Xi(i,s,p,_i(i))}catch(Lt){Xi(i,s,{then:function(){},status:"rejected",reason:Lt},_i())}finally{Vi(N),Xt.T=J}}function Gr(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Xl,baseState:Xl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:Xl},next:null};var h={};return s.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:h},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Qi(){return ut(yr)}function Hr(){return Ze().memoizedState}function is(){return Ze().memoizedState}function qr(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var h=_i();i=nn(h);var p=be(s,i,h);p!==null&&(sn(p,s,h),fa(p,s,h)),s={cache:_e()},i.payload=s;return}s=s.return}}function $s(i,s,h){var p=_i();h={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Pr(i)?Zn(s,h):(h=je(i,s,h,p),h!==null&&(sn(h,i,p),Be(h,s,p)))}function Eu(i,s,h){var p=_i();Xi(i,s,h,p)}function Xi(i,s,h,p){var E={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Pr(i))Zn(s,E);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=s.lastRenderedReducer,N!==null))try{var J=s.lastRenderedState,nt=N(J,h);if(E.hasEagerState=!0,E.eagerState=nt,Ui(nt,J))return Yt(i,s,E,0),Ke===null&&le(),!1}catch{}finally{}if(h=je(i,s,E,p),h!==null)return sn(h,i,p),Be(h,s,p),!0}return!1}function Ma(i,s,h,p){if(p={lane:2,revertLane:qe(),action:p,hasEagerState:!1,eagerState:null,next:null},Pr(i)){if(s)throw Error(o(479))}else s=je(i,h,p,2),s!==null&&sn(s,i,2)}function Pr(i){var s=i.alternate;return i===Wt||s!==null&&s===Wt}function Zn(i,s){nu=br=!0;var h=i.pending;h===null?s.next=s:(s.next=h.next,h.next=s),i.pending=s}function Be(i,s,h){if(h&4194176){var p=s.lanes;p&=i.pendingLanes,h|=p,s.lanes=h,Y(i,h)}}function Ir(i,s,h,p){s=i.memoizedState,h=h(p,s),h=h==null?s:Rn({},s,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}function jr(i,s,h,p,E,N,J){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,J):s.prototype&&s.prototype.isPureReactComponent?!da(h,p)||!da(E,N):!0}function Do(i,s,h,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,p),s.state!==i&&Xu.enqueueReplaceState(s,s.state,null)}function Oa(i,s){var h=s;if("ref"in s){h={};for(var p in s)p!=="ref"&&(h[p]=s[p])}if(i=i.defaultProps){h===s&&(h=Rn({},h));for(var E in i)h[E]===void 0&&(h[E]=i[E])}return h}function tr(i,s){try{var h=i.onUncaughtError;h(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function as(i,s,h){try{var p=i.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function er(i,s,h){return h=nn(h),h.tag=3,h.payload={element:null},h.callback=function(){tr(i,s)},h}function va(i){return i=nn(i),i.tag=3,i}function No(i,s,h,p){var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var N=p.value;i.payload=function(){return E(N)},i.callback=function(){as(s,h,p)}}var J=h.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(i.callback=function(){as(s,h,p),typeof E!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var nt=p.stack;this.componentDidCatch(p.value,{componentStack:nt!==null?nt:""})})}function Dh(i,s,h,p,E){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=h.alternate,s!==null&&A(s,h,E,!0),h=aa.current,h!==null){switch(h.tag){case 13:return Pa===null?Ga():h.alternate===null&&gn===0&&(gn=3),h.flags&=-257,h.flags|=65536,h.lanes=E,p===zi?h.flags|=16384:(s=h.updateQueue,s===null?h.updateQueue=new Set([p]):s.add(p),$r(i,p,E)),!1;case 22:return h.flags|=65536,p===zi?h.flags|=16384:(s=h.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=s):(h=s.retryQueue,h===null?s.retryQueue=new Set([p]):h.add(p)),$r(i,p,E)),!1}throw Error(o(435,h.tag))}return $r(i,p,E),Ga(),!1}if(Ne)return s=aa.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=E,p!==nc&&(i=Error(o(422),{cause:p}),Jt(dt(i,h)))):(p!==nc&&(s=Error(o(423),{cause:p}),Jt(dt(s,h))),i=i.current.alternate,i.flags|=65536,E&=-E,i.lanes|=E,p=dt(p,h),E=er(i.stateNode,p,E),Fi(i,E),gn!==4&&(gn=2)),!1;var N=Error(o(520),{cause:p});if(N=dt(N,h),Ju===null?Ju=[N]:Ju.push(N),gn!==4&&(gn=2),s===null)return!0;p=dt(p,h),h=s;do{switch(h.tag){case 3:return h.flags|=65536,i=E&-E,h.lanes|=i,i=er(h.stateNode,p,i),Fi(h,i),!1;case 1:if(s=h.type,N=h.stateNode,(h.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Hs===null||!Hs.has(N))))return h.flags|=65536,E&=-E,h.lanes|=E,E=va(E),No(E,i,h,p),Fi(h,E),!1}h=h.return}while(h!==null);return!1}function pn(i,s,h,p){s.child=i===null?Bs(s,null,h,p):gl(s,i.child,h,p)}function Vl(i,s,h,p,E){h=h.render;var N=s.ref;if("ref"in p){var J={};for(var nt in p)nt!=="ref"&&(J[nt]=p[nt])}else J=p;return W(s),p=Qs(i,s,h,J,N,E),nt=Ss(),i!==null&&!Pn?(Xs(i,s,E),xa(i,s,E)):(Ne&&nt&&St(s),s.flags|=1,pn(i,s,p,E),s.child)}function Tu(i,s,h,p,E){if(i===null){var N=h.type;return typeof N=="function"&&!cr(N)&&N.defaultProps===void 0&&h.compare===null?(s.tag=15,s.type=N,Ul(i,s,N,p,E)):(i=kl(h.type,null,p,s,s.mode,E),i.ref=s.ref,i.return=s,s.child=i)}if(N=i.child,!Cu(i,E)){var J=N.memoizedProps;if(h=h.compare,h=h!==null?h:da,h(J,p)&&i.ref===s.ref)return xa(i,s,E)}return s.flags|=1,i=hr(N,p),i.ref=s.ref,i.return=s,s.child=i}function Ul(i,s,h,p,E){if(i!==null){var N=i.memoizedProps;if(da(N,p)&&i.ref===s.ref)if(Pn=!1,s.pendingProps=p=N,Cu(i,E))i.flags&131072&&(Pn=!0);else return s.lanes=i.lanes,xa(i,s,E)}return Ll(i,s,h,p,E)}function Mo(i,s,h){var p=s.pendingProps,E=p.children,N=(s.stateNode._pendingVisibility&2)!==0,J=i!==null?i.memoizedState:null;if(Bl(i,s),p.mode==="hidden"||N){if(s.flags&128){if(p=J!==null?J.baseLanes|h:h,i!==null){for(E=s.child=i.child,N=0;E!==null;)N=N|E.lanes|E.childLanes,E=E.sibling;s.childLanes=N&~p}else s.childLanes=0,s.child=null;return zl(i,s,p,h)}if(h&536870912)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&An(s,J!==null?J.cachePool:null),J!==null?Eo(s,J):_s(),To(s);else return s.lanes=s.childLanes=536870912,zl(i,s,J!==null?J.baseLanes|h:h,h)}else J!==null?(An(s,J.cachePool),Eo(s,J),Oi(),s.memoizedState=null):(i!==null&&An(s,null),_s(),Oi());return pn(i,s,E,h),s.child}function zl(i,s,h,p){var E=ve();return E=E===null?null:{parent:ls?Tn._currentValue:Tn._currentValue2,pool:E},s.memoizedState={baseLanes:h,cachePool:E},i!==null&&An(s,null),_s(),To(s),i!==null&&A(i,s,p,!0),null}function Bl(i,s){var h=s.ref;if(h===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof h!="function"&&typeof h!="object")throw Error(o(284));(i===null||i.ref!==h)&&(s.flags|=2097664)}}function Ll(i,s,h,p,E){return W(s),h=Qs(i,s,h,p,void 0,E),p=Ss(),i!==null&&!Pn?(Xs(i,s,E),xa(i,s,E)):(Ne&&p&&St(s),s.flags|=1,pn(i,s,h,E),s.child)}function Fr(i,s,h,p,E,N){return W(s),s.updateQueue=null,h=ts(s,p,h,E),Ml(i),p=Ss(),i!==null&&!Pn?(Xs(i,s,N),xa(i,s,N)):(Ne&&p&&St(s),s.flags|=1,pn(i,s,h,N),s.child)}function Oo(i,s,h,p,E){if(W(s),s.stateNode===null){var N=$l,J=h.contextType;typeof J=="object"&&J!==null&&(N=ut(J)),N=new h(p,N),s.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Xu,s.stateNode=N,N._reactInternals=s,N=s.stateNode,N.props=p,N.state=s.memoizedState,N.refs={},ha(s),J=h.contextType,N.context=typeof J=="object"&&J!==null?ut(J):$l,N.state=s.memoizedState,J=h.getDerivedStateFromProps,typeof J=="function"&&(Ir(s,h,J,p),N.state=s.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(J=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),J!==N.state&&Xu.enqueueReplaceState(N,N.state,null),js(s,p,N,E),Xn(),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(i===null){N=s.stateNode;var nt=s.memoizedProps,ft=Oa(h,nt);N.props=ft;var Tt=N.context,Vt=h.contextType;J=$l,typeof Vt=="object"&&Vt!==null&&(J=ut(Vt));var Lt=h.getDerivedStateFromProps;Vt=typeof Lt=="function"||typeof N.getSnapshotBeforeUpdate=="function",nt=s.pendingProps!==nt,Vt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(nt||Tt!==J)&&Do(s,N,p,J),Ti=!1;var wt=s.memoizedState;N.state=wt,js(s,p,N,E),Xn(),Tt=s.memoizedState,nt||wt!==Tt||Ti?(typeof Lt=="function"&&(Ir(s,h,Lt,p),Tt=s.memoizedState),(ft=Ti||jr(s,h,ft,p,wt,Tt,J))?(Vt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=4194308)):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Tt),N.props=p,N.state=Tt,N.context=J,p=ft):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{N=s.stateNode,zn(i,s),J=s.memoizedProps,Vt=Oa(h,J),N.props=Vt,Lt=s.pendingProps,wt=N.context,Tt=h.contextType,ft=$l,typeof Tt=="object"&&Tt!==null&&(ft=ut(Tt)),nt=h.getDerivedStateFromProps,(Tt=typeof nt=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(J!==Lt||wt!==ft)&&Do(s,N,p,ft),Ti=!1,wt=s.memoizedState,N.state=wt,js(s,p,N,E),Xn();var te=s.memoizedState;J!==Lt||wt!==te||Ti||i!==null&&i.dependencies!==null&&B(i.dependencies)?(typeof nt=="function"&&(Ir(s,h,nt,p),te=s.memoizedState),(Vt=Ti||jr(s,h,Vt,p,wt,te,ft)||i!==null&&i.dependencies!==null&&B(i.dependencies))?(Tt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,te,ft),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,te,ft)),typeof N.componentDidUpdate=="function"&&(s.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof N.componentDidUpdate!="function"||J===i.memoizedProps&&wt===i.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||J===i.memoizedProps&&wt===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=te),N.props=p,N.state=te,N.context=ft,p=Vt):(typeof N.componentDidUpdate!="function"||J===i.memoizedProps&&wt===i.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||J===i.memoizedProps&&wt===i.memoizedState||(s.flags|=1024),p=!1)}return N=p,Bl(i,s),p=(s.flags&128)!==0,N||p?(N=s.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:N.render(),s.flags|=1,i!==null&&p?(s.child=gl(s,i.child,null,E),s.child=gl(s,null,h,E)):pn(i,s,h,E),s.memoizedState=N.state,i=s.child):i=xa(i,s,E),i}function xo(i,s,h,p){return Gt(),s.flags|=256,pn(i,s,h,p),s.child}function Gl(i){return{baseLanes:i,cachePool:Bn()}}function nr(i,s,h){return i=i!==null?i.childLanes&~h:0,s&&(i|=Ra),i}function wo(i,s,h){var p=s.pendingProps,E=!1,N=(s.flags&128)!==0,J;if((J=N)||(J=i!==null&&i.memoizedState===null?!1:(rn.current&2)!==0),J&&(E=!0,s.flags&=-129),J=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ne){if(E?Wa(s):Oi(),Ne){var nt=Ye,ft;(ft=nt)&&(nt=T0(nt,hs),nt!==null?(s.memoizedState={dehydrated:nt,treeContext:cs!==null?{id:Us,overflow:zs}:null,retryLane:536870912},ft=a(18,null,null,0),ft.stateNode=nt,ft.return=s,s.child=ft,On=s,Ye=null,ft=!0):ft=!1),ft||ct(s)}if(nt=s.memoizedState,nt!==null&&(nt=nt.dehydrated,nt!==null))return Wo(nt)?s.lanes=16:s.lanes=536870912,null;ei(s)}return nt=p.children,p=p.fallback,E?(Oi(),E=s.mode,nt=bu({mode:"hidden",children:nt},E),p=tl(p,E,h,null),nt.return=s,p.return=s,nt.sibling=p,s.child=nt,E=s.child,E.memoizedState=Gl(h),E.childLanes=nr(i,J,h),s.memoizedState=sc,p):(Wa(s),Yr(s,nt))}if(ft=i.memoizedState,ft!==null&&(nt=ft.dehydrated,nt!==null)){if(N)s.flags&256?(Wa(s),s.flags&=-257,s=Hl(i,s,h)):s.memoizedState!==null?(Oi(),s.child=i.child,s.flags|=128,s=null):(Oi(),E=p.fallback,nt=s.mode,p=bu({mode:"visible",children:p.children},nt),E=tl(E,nt,h,null),E.flags|=2,p.return=s,E.return=s,p.sibling=E,s.child=p,gl(s,i.child,null,h),p=s.child,p.memoizedState=Gl(h),p.childLanes=nr(i,J,h),s.memoizedState=sc,s=E);else if(Wa(s),Wo(nt))J=Ic(nt).digest,p=Error(o(419)),p.stack="",p.digest=J,Jt({value:p,source:null,stack:null}),s=Hl(i,s,h);else if(Pn||A(i,s,h,!1),J=(h&i.childLanes)!==0,Pn||J){if(J=Ke,J!==null){if(p=h&-h,p&42)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=p&(J.suspendedLanes|h)?0:p,p!==0&&p!==ft.retryLane)throw ft.retryLane=p,se(i,p),sn(J,i,p),df}Zl(nt)||Ga(),s=Hl(i,s,h)}else Zl(nt)?(s.flags|=128,s.child=i.child,s=Ko.bind(null,i),v0(nt,s),s=null):(i=ft.treeContext,ea&&(Ye=Jh(nt),On=s,Ne=!0,qa=null,hs=!1,i!==null&&(na[Ei++]=Us,na[Ei++]=zs,na[Ei++]=cs,Us=i.id,zs=i.overflow,cs=s)),s=Yr(s,p.children),s.flags|=4096);return s}return E?(Oi(),E=p.fallback,nt=s.mode,ft=i.child,N=ft.sibling,p=hr(ft,{mode:"hidden",children:p.children}),p.subtreeFlags=ft.subtreeFlags&31457280,N!==null?E=hr(N,E):(E=tl(E,nt,h,null),E.flags|=2),E.return=s,p.return=s,p.sibling=E,s.child=p,p=E,E=s.child,nt=i.child.memoizedState,nt===null?nt=Gl(h):(ft=nt.cachePool,ft!==null?(N=ls?Tn._currentValue:Tn._currentValue2,ft=ft.parent!==N?{parent:N,pool:N}:ft):ft=Bn(),nt={baseLanes:nt.baseLanes|h,cachePool:ft}),E.memoizedState=nt,E.childLanes=nr(i,J,h),s.memoizedState=sc,p):(Wa(s),h=i.child,i=h.sibling,h=hr(h,{mode:"visible",children:p.children}),h.return=s,h.sibling=null,i!==null&&(J=s.deletions,J===null?(s.deletions=[i],s.flags|=16):J.push(i)),s.child=h,s.memoizedState=null,h)}function Yr(i,s){return s=bu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function bu(i,s){return Vc(i,s,0,null)}function Hl(i,s,h){return gl(s,i.child,null,h),i=Yr(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function As(i,s,h){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),Va(i.return,s,h)}function Au(i,s,h,p,E){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:E}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=h,N.tailMode=E)}function Vo(i,s,h){var p=s.pendingProps,E=p.revealOrder,N=p.tail;if(pn(i,s,p.children,h),p=rn.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&As(i,h,s);else if(i.tag===19)As(i,h,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(C(rn,p),E){case"forwards":for(h=s.child,E=null;h!==null;)i=h.alternate,i!==null&&bn(i)===null&&(E=h),h=h.sibling;h=E,h===null?(E=s.child,s.child=null):(E=h.sibling,h.sibling=null),Au(s,!1,E,h,N);break;case"backwards":for(h=null,E=s.child,s.child=null;E!==null;){if(i=E.alternate,i!==null&&bn(i)===null){s.child=E;break}i=E.sibling,E.sibling=h,h=E,E=i}Au(s,!0,h,null,N);break;case"together":Au(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xa(i,s,h){if(i!==null&&(s.dependencies=i.dependencies),ka|=s.lanes,!(h&s.childLanes))if(i!==null){if(A(i,s,h,!1),(h&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,h=hr(i,i.pendingProps),s.child=h,h.return=s;i.sibling!==null;)i=i.sibling,h=h.sibling=hr(i,i.pendingProps),h.return=s;h.sibling=null}return s.child}function Cu(i,s){return i.lanes&s?!0:(i=i.dependencies,!!(i!==null&&B(i)))}function Ru(i,s,h){switch(s.tag){case 3:gt(s,s.stateNode.containerInfo),ss(s,Tn,i.memoizedState.cache),Gt();break;case 27:case 5:Mt(s);break;case 4:gt(s,s.stateNode.containerInfo);break;case 10:ss(s,s.type,s.memoizedProps.value);break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Wa(s),s.flags|=128,null):h&s.child.childLanes?wo(i,s,h):(Wa(s),i=xa(i,s,h),i!==null?i.sibling:null);Wa(s);break;case 19:var E=(i.flags&128)!==0;if(p=(h&s.childLanes)!==0,p||(A(i,s,h,!1),p=(h&s.childLanes)!==0),E){if(p)return Vo(i,s,h);s.flags|=128}if(E=s.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),C(rn,rn.current),p)break;return null;case 22:case 23:return s.lanes=0,Mo(i,s,h);case 24:ss(s,Tn,i.memoizedState.cache)}return xa(i,s,h)}function yi(i,s,h){if(i!==null)if(i.memoizedProps!==s.pendingProps)Pn=!0;else{if(!Cu(i,h)&&!(s.flags&128))return Pn=!1,Ru(i,s,h);Pn=!!(i.flags&131072)}else Pn=!1,Ne&&s.flags&1048576&&it(s,Yu,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var p=s.elementType,E=p._init;if(p=E(p._payload),s.type=p,typeof p=="function")cr(p)?(i=Oa(p,i),s.tag=1,s=Oo(null,s,p,i,h)):(s.tag=0,s=Ll(null,s,p,i,h));else{if(p!=null){if(E=p.$$typeof,E===Uc){s.tag=11,s=Vl(null,s,p,i,h);break t}else if(E===Bu){s.tag=14,s=Tu(null,s,p,i,h);break t}}throw s=g(p)||p,Error(o(306,s,""))}}return s;case 0:return Ll(i,s,s.type,s.pendingProps,h);case 1:return p=s.type,E=Oa(p,s.pendingProps),Oo(i,s,p,E,h);case 3:t:{if(gt(s,s.stateNode.containerInfo),i===null)throw Error(o(387));var N=s.pendingProps;E=s.memoizedState,p=E.element,zn(i,s),js(s,N,null,h);var J=s.memoizedState;if(N=J.cache,ss(s,Tn,N),N!==E.cache&&d(s,[Tn],h,!0),Xn(),N=J.element,ea&&E.isDehydrated)if(E={element:N,isDehydrated:!1,cache:J.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=xo(i,s,N,h);break t}else if(N!==p){p=dt(Error(o(424)),s),Jt(p),s=xo(i,s,N,h);break t}else for(ea&&(Ye=Jl(s.stateNode.containerInfo),On=s,Ne=!0,qa=null,hs=!0),h=Bs(s,null,N,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Gt(),N===p){s=xa(i,s,h);break t}pn(i,s,N,h)}s=s.child}return s;case 26:if(Ta)return Bl(i,s),i===null?(h=ef(s.type,null,s.pendingProps,null))?s.memoizedState=h:Ne||(s.stateNode=rf(s.type,s.pendingProps,Sr.current,s)):s.memoizedState=ef(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:if(ai)return Mt(s),i===null&&ai&&Ne&&(p=s.stateNode=Yc(s.type,s.pendingProps,Sr.current,Mn.current,!1),On=s,hs=!0,Ye=_r(p)),p=s.pendingProps.children,i!==null||Ne?pn(i,s,p,h):s.child=gl(s,null,p,h),Bl(i,s),s.child;case 5:return i===null&&Ne&&(D0(s.type,s.pendingProps,Mn.current),(E=p=Ye)&&(p=Wh(p,s.type,s.pendingProps,hs),p!==null?(s.stateNode=p,On=s,Ye=_r(p),hs=!1,E=!0):E=!1),E||ct(s)),Mt(s),E=s.type,N=s.pendingProps,J=i!==null?i.memoizedProps:null,p=N.children,oi(E,N)?p=null:J!==null&&oi(E,J)&&(s.flags|=32),s.memoizedState!==null&&(E=Qs(i,s,bo,null,null,h),ls?yr._currentValue=E:yr._currentValue2=E),Bl(i,s),pn(i,s,p,h),s.child;case 6:return i===null&&Ne&&(Xg(s.pendingProps,Mn.current),(i=h=Ye)&&(h=E0(h,s.pendingProps,hs),h!==null?(s.stateNode=h,On=s,Ye=null,i=!0):i=!1),i||ct(s)),null;case 13:return wo(i,s,h);case 4:return gt(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=gl(s,null,p,h):pn(i,s,p,h),s.child;case 11:return Vl(i,s,s.type,s.pendingProps,h);case 7:return pn(i,s,s.pendingProps,h),s.child;case 8:return pn(i,s,s.pendingProps.children,h),s.child;case 12:return pn(i,s,s.pendingProps.children,h),s.child;case 10:return p=s.pendingProps,ss(s,s.type,p.value),pn(i,s,p.children,h),s.child;case 9:return E=s.type._context,p=s.pendingProps.children,W(s),E=ut(E),p=p(E),s.flags|=1,pn(i,s,p,h),s.child;case 14:return Tu(i,s,s.type,s.pendingProps,h);case 15:return Ul(i,s,s.type,s.pendingProps,h);case 19:return Vo(i,s,h);case 22:return Mo(i,s,h);case 24:return W(s),p=ut(Tn),i===null?(E=ve(),E===null&&(E=Ke,N=_e(),E.pooledCache=N,N.refCount++,N!==null&&(E.pooledCacheLanes|=h),E=N),s.memoizedState={parent:p,cache:E},ha(s),ss(s,Tn,E)):(i.lanes&h&&(zn(i,s),js(s,null,null,h),Xn()),E=i.memoizedState,N=s.memoizedState,E.parent!==p?(E={parent:p,cache:p},s.memoizedState=E,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=E),ss(s,Tn,p)):(p=N.cache,ss(s,Tn,p),p!==E.cache&&d(s,[Tn],h,!0))),pn(i,s,s.pendingProps.children,h),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function ss(i,s,h){ls?(C(Ia,s._currentValue),s._currentValue=h):(C(Ia,s._currentValue2),s._currentValue2=h)}function wa(i){var s=Ia.current;ls?i._currentValue=s:i._currentValue2=s,F(Ia)}function Va(i,s,h){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===h)break;i=i.return}}function d(i,s,h,p){var E=i.child;for(E!==null&&(E.return=i);E!==null;){var N=E.dependencies;if(N!==null){var J=E.child;N=N.firstContext;t:for(;N!==null;){var nt=N;N=E;for(var ft=0;ft<s.length;ft++)if(nt.context===s[ft]){N.lanes|=h,nt=N.alternate,nt!==null&&(nt.lanes|=h),Va(N.return,h,i),p||(J=null);break t}N=nt.next}}else if(E.tag===18){if(J=E.return,J===null)throw Error(o(341));J.lanes|=h,N=J.alternate,N!==null&&(N.lanes|=h),Va(J,h,i),J=null}else J=E.child;if(J!==null)J.return=E;else for(J=E;J!==null;){if(J===i){J=null;break}if(E=J.sibling,E!==null){E.return=J.return,J=E;break}J=J.return}E=J}}function A(i,s,h,p){i=null;for(var E=s,N=!1;E!==null;){if(!N){if(E.flags&524288)N=!0;else if(E.flags&262144)break}if(E.tag===10){var J=E.alternate;if(J===null)throw Error(o(387));if(J=J.memoizedProps,J!==null){var nt=E.type;Ui(E.pendingProps.value,J.value)||(i!==null?i.push(nt):i=[nt])}}else if(E===ec.current){if(J=E.alternate,J===null)throw Error(o(387));J.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(i!==null?i.push(yr):i=[yr])}E=E.return}i!==null&&d(s,i,h,p),s.flags|=262144}function B(i){for(i=i.firstContext;i!==null;){var s=i.context;if(!Ui(ls?s._currentValue:s._currentValue2,i.memoizedValue))return!0;i=i.next}return!1}function W(i){vl=i,ja=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ut(i){return Bt(vl,i)}function vt(i,s){return vl===null&&W(i),Bt(i,s)}function Bt(i,s){var h=ls?s._currentValue:s._currentValue2;if(s={context:s,memoizedValue:h,next:null},ja===null){if(i===null)throw Error(o(308));ja=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ja=ja.next=s;return h}function _e(){return{controller:new rc,data:new Map,refCount:0}}function yn(i){i.refCount--,i.refCount===0&&_n(Jg,function(){i.controller.abort()})}function ve(){var i=iu.current;return i!==null?i:Ke.pooledCache}function An(i,s){s===null?C(iu,iu.current):C(iu,s.pool)}function Bn(){var i=ve();return i===null?null:{parent:ls?Tn._currentValue:Tn._currentValue2,pool:i}}function Cn(i){i.flags|=4}function ni(i,s){if(i!==null&&i.child===s.child)return!1;if(s.flags&16)return!0;for(i=s.child;i!==null;){if(i.flags&13878||i.subtreeFlags&13878)return!0;i=i.sibling}return!1}function Ua(i,s,h,p){if(fn)for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)Zo(i,h.stateNode);else if(!(h.tag===4||ai&&h.tag===27)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}else if(us)for(var E=s.child;E!==null;){if(E.tag===5){var N=E.stateNode;h&&p&&(N=_0(N,E.type,E.memoizedProps)),Zo(i,N)}else if(E.tag===6)N=E.stateNode,h&&p&&(N=Zh(N,E.memoizedProps)),Zo(i,N);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)N=E.child,N!==null&&(N.return=E),Ua(i,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===s)break;for(;E.sibling===null;){if(E.return===null||E.return===s)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function Du(i,s,h,p){if(us)for(var E=s.child;E!==null;){if(E.tag===5){var N=E.stateNode;h&&p&&(N=_0(N,E.type,E.memoizedProps)),Xh(i,N)}else if(E.tag===6)N=E.stateNode,h&&p&&(N=Zh(N,E.memoizedProps)),Xh(i,N);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)N=E.child,N!==null&&(N.return=E),Du(i,E,!(E.memoizedProps!==null&&E.memoizedProps.mode==="manual"),!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===s)break;for(;E.sibling===null;){if(E.return===null||E.return===s)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function Uo(i,s){if(us&&ni(i,s)){i=s.stateNode;var h=i.containerInfo,p=Pc();Du(p,s,!1,!1),i.pendingChildren=p,Cn(s),p0(h,p)}}function Tc(i,s,h,p){if(fn)i.memoizedProps!==p&&Cn(s);else if(us){var E=i.stateNode,N=i.memoizedProps;if((i=ni(i,s))||N!==p){var J=Mn.current;N=m0(E,h,N,p,!i,null),N===E?s.stateNode=E:(zc(N,h,p,J)&&Cn(s),s.stateNode=N,i?Ua(N,s,!1,!1):Cn(s))}else s.stateNode=E}}function bc(i,s,h){if(jh(s,h)){if(i.flags|=16777216,!Fh(s,h))if(ii())i.flags|=8192;else throw bi=zi,ac}else i.flags&=-16777217}function Ac(i,s){if(O0(s)){if(i.flags|=16777216,!lf(s))if(ii())i.flags|=8192;else throw bi=zi,ac}else i.flags&=-16777217}function Nu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?M():536870912,i.lanes|=s,jn|=s)}function Mu(i,s){if(!Ne)switch(i.tailMode){case"hidden":s=i.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function hn(i){var s=i.alternate!==null&&i.alternate.child===i.child,h=0,p=0;if(s)for(var E=i.child;E!==null;)h|=E.lanes|E.childLanes,p|=E.subtreeFlags&31457280,p|=E.flags&31457280,E.return=i,E=E.sibling;else for(E=i.child;E!==null;)h|=E.lanes|E.childLanes,p|=E.subtreeFlags,p|=E.flags,E.return=i,E=E.sibling;return i.subtreeFlags|=p,i.childLanes=h,s}function Gd(i,s,h){var p=s.pendingProps;switch(st(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(s),null;case 1:return hn(s),null;case 3:return h=s.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),wa(Tn),Ct(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(zt(s)?Cn(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,qa!==null&&(ur(qa),qa=null))),Uo(i,s),hn(s),null;case 26:if(Ta){h=s.type;var E=s.memoizedState;return i===null?(Cn(s),E!==null?(hn(s),Ac(s,E)):(hn(s),bc(s,h,p))):E?E!==i.memoizedState?(Cn(s),hn(s),Ac(s,E)):(hn(s),s.flags&=-16777217):(fn?i.memoizedProps!==p&&Cn(s):Tc(i,s,h,p),hn(s),bc(s,h,p)),null}case 27:if(ai){if(et(s),h=Sr.current,E=s.type,i!==null&&s.stateNode!=null)fn?i.memoizedProps!==p&&Cn(s):Tc(i,s,E,p);else{if(!p){if(s.stateNode===null)throw Error(o(166));return hn(s),null}i=Mn.current,zt(s)?At(s,i):(i=Yc(E,p,h,i,!0),s.stateNode=i,Cn(s))}return hn(s),null}case 5:if(et(s),h=s.type,i!==null&&s.stateNode!=null)Tc(i,s,h,p);else{if(!p){if(s.stateNode===null)throw Error(o(166));return hn(s),null}i=Mn.current,zt(s)?At(s,i):(E=Ih(h,p,Sr.current,i,s),Ua(E,s,!1,!1),s.stateNode=E,zc(E,h,p,i)&&Cn(s))}return hn(s),bc(s,s.type,s.pendingProps),null;case 6:if(i&&s.stateNode!=null)h=i.memoizedProps,fn?h!==p&&Cn(s):us&&(h!==p?(s.stateNode=Dn(p,Sr.current,Mn.current,s),Cn(s)):s.stateNode=i.stateNode);else{if(typeof p!="string"&&s.stateNode===null)throw Error(o(166));if(i=Sr.current,h=Mn.current,zt(s)){if(!ea)throw Error(o(176));if(i=s.stateNode,h=s.memoizedProps,p=null,E=On,E!==null)switch(E.tag){case 27:case 5:p=E.memoizedProps}jc(i,h,s,p)||ct(s)}else s.stateNode=Dn(p,i,h,s)}return hn(s),null;case 13:if(p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(E=zt(s),p!==null&&p.dehydrated!==null){if(i===null){if(!E)throw Error(o(318));if(!ea)throw Error(o(344));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(o(317));b0(E,s)}else Gt(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;hn(s),E=!1}else qa!==null&&(ur(qa),qa=null),E=!0;if(!E)return s.flags&256?(ei(s),s):(ei(s),null)}if(ei(s),s.flags&128)return s.lanes=h,s;if(h=p!==null,i=i!==null&&i.memoizedState!==null,h){p=s.child,E=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(E=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==E&&(p.flags|=2048)}return h!==i&&h&&(s.child.flags|=8192),Nu(s,s.updateQueue),hn(s),null;case 4:return Ct(),Uo(i,s),i===null&&Qd(s.stateNode.containerInfo),hn(s),null;case 10:return wa(s.type),hn(s),null;case 19:if(F(rn),E=s.memoizedState,E===null)return hn(s),null;if(p=(s.flags&128)!==0,N=E.rendering,N===null)if(p)Mu(E,!1);else{if(gn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(N=bn(i),N!==null){for(s.flags|=128,Mu(E,!1),i=N.updateQueue,s.updateQueue=i,Nu(s,i),s.subtreeFlags=0,i=h,h=s.child;h!==null;)Yl(h,i),h=h.sibling;return C(rn,rn.current&1|2),s.child}i=i.sibling}E.tail!==null&&ba()>Da&&(s.flags|=128,p=!0,Mu(E,!1),s.lanes=4194304)}else{if(!p)if(i=bn(N),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Nu(s,i),Mu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!Ne)return hn(s),null}else 2*ba()-E.renderingStartTime>Da&&h!==536870912&&(s.flags|=128,p=!0,Mu(E,!1),s.lanes=4194304);E.isBackwards?(N.sibling=s.child,s.child=N):(i=E.last,i!==null?i.sibling=N:s.child=N,E.last=N)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=ba(),s.sibling=null,i=rn.current,C(rn,p?i&1|2:i&1),s):(hn(s),null);case 22:case 23:return ei(s),vs(),p=s.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?h&536870912&&!(s.flags&128)&&(hn(s),s.subtreeFlags&6&&(s.flags|=8192)):hn(s),h=s.updateQueue,h!==null&&Nu(s,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==h&&(s.flags|=2048),i!==null&&F(iu),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),wa(Tn),hn(s),null;case 25:return null}throw Error(o(156,s.tag))}function Pg(i,s){switch(st(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return wa(Tn),Ct(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return et(s),null;case 13:if(ei(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Gt()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return F(rn),null;case 4:return Ct(),null;case 10:return wa(s.type),null;case 22:case 23:return ei(s),vs(),i!==null&&F(iu),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return wa(Tn),null;case 25:return null;default:return null}}function Hd(i,s){switch(st(s),s.tag){case 3:wa(Tn),Ct();break;case 26:case 27:case 5:et(s);break;case 4:Ct();break;case 13:ei(s);break;case 19:F(rn);break;case 10:wa(s.type);break;case 22:case 23:ei(s),vs(),i!==null&&F(iu);break;case 24:wa(Tn)}}function zo(i,s){try{var h=s.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var E=p.next;h=E;do{if((h.tag&i)===i){p=void 0;var N=h.create,J=h.inst;p=N(),J.destroy=p}h=h.next}while(h!==E)}}catch(nt){Le(s,s.return,nt)}}function kr(i,s,h){try{var p=s.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var N=E.next;p=N;do{if((p.tag&i)===i){var J=p.inst,nt=J.destroy;if(nt!==void 0){J.destroy=void 0,E=s;var ft=h;try{nt()}catch(Tt){Le(E,ft,Tt)}}}p=p.next}while(p!==N)}}catch(Tt){Le(s,s.return,Tt)}}function qd(i){var s=i.updateQueue;if(s!==null){var h=i.stateNode;try{So(s,h)}catch(p){Le(i,i.return,p)}}}function Zi(i,s,h){h.props=Oa(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(p){Le(i,s,p)}}function rs(i,s){try{var h=i.ref;if(h!==null){var p=i.stateNode;switch(i.tag){case 26:case 27:case 5:var E=Ql(p);break;default:E=p}typeof h=="function"?i.refCleanup=h(E):h.current=E}}catch(N){Le(i,s,N)}}function Ji(i,s){var h=i.ref,p=i.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(E){Le(i,s,E)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(E){Le(i,s,E)}else h.current=null}function Nh(i){var s=i.type,h=i.memoizedProps,p=i.stateNode;try{l0(p,s,h,i)}catch(E){Le(i,i.return,E)}}function Mh(i,s,h){try{u0(i.stateNode,i.type,h,s,i)}catch(p){Le(i,i.return,p)}}function Oh(i){return i.tag===5||i.tag===3||(Ta?i.tag===26:!1)||(ai?i.tag===27:!1)||i.tag===4}function Bo(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Oh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&(!ai||i.tag!==27)&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xh(i,s,h){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?Kh(h,i,s):kh(h,i);else if(!(p===4||ai&&p===27)&&(i=i.child,i!==null))for(xh(i,s,h),i=i.sibling;i!==null;)xh(i,s,h),i=i.sibling}function Cc(i,s,h){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?o0(h,i,s):s0(h,i);else if(!(p===4||ai&&p===27)&&(i=i.child,i!==null))for(Cc(i,s,h),i=i.sibling;i!==null;)Cc(i,s,h),i=i.sibling}function ql(i,s,h){i=i.containerInfo;try{y0(i,h)}catch(p){Le(s,s.return,p)}}function wh(i,s){for(Kd(i.containerInfo),Ft=s;Ft!==null;)if(i=Ft,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Ft=s;else for(;Ft!==null;){i=Ft;var h=i.alternate;switch(s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&h!==null){s=void 0;var p=i,E=h.memoizedProps;h=h.memoizedState;var N=p.stateNode;try{var J=Oa(p.type,E,p.elementType===p.type);s=N.getSnapshotBeforeUpdate(J,h),N.__reactInternalSnapshotBeforeUpdate=s}catch(nt){Le(p,p.return,nt)}}break;case 3:s&1024&&fn&&g0(i.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(o(163))}if(s=i.sibling,s!==null){s.return=i.return,Ft=s;break}Ft=i.return}return J=Je,Je=!1,J}function Ou(i,s,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:ar(i,h),p&4&&zo(5,h);break;case 1:if(ar(i,h),p&4)if(i=h.stateNode,s===null)try{i.componentDidMount()}catch(nt){Le(h,h.return,nt)}else{var E=Oa(h.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(E,s,i.__reactInternalSnapshotBeforeUpdate)}catch(nt){Le(h,h.return,nt)}}p&64&&qd(h),p&512&&rs(h,h.return);break;case 3:if(ar(i,h),p&64&&(p=h.updateQueue,p!==null)){if(i=null,h.child!==null)switch(h.child.tag){case 27:case 5:i=Ql(h.child.stateNode);break;case 1:i=h.child.stateNode}try{So(p,i)}catch(nt){Le(h,h.return,nt)}}break;case 26:if(Ta){ar(i,h),p&512&&rs(h,h.return);break}case 27:case 5:ar(i,h),s===null&&p&4&&Nh(h),p&512&&rs(h,h.return);break;case 12:ar(i,h);break;case 13:ar(i,h),p&4&&Pl(i,h);break;case 22:if(E=h.memoizedState!==null||Rr,!E){s=s!==null&&s.memoizedState!==null||$t;var N=Rr,J=$t;Rr=E,($t=s)&&!J?Kr(i,h,(h.subtreeFlags&8772)!==0):ar(i,h),Rr=N,$t=J}p&512&&(h.memoizedProps.mode==="manual"?rs(h,h.return):Ji(h,h.return));break;default:ar(i,h)}}function Rc(i){var s=i.alternate;s!==null&&(i.alternate=null,Rc(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Jd(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function za(i,s,h){for(h=h.child;h!==null;)ir(i,s,h),h=h.sibling}function ir(i,s,h){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Fu,h)}catch{}switch(h.tag){case 26:if(Ta){$t||Ji(h,s),za(i,s,h),h.memoizedState?af(h.memoizedState):h.stateNode&&Pu(h.stateNode);break}case 27:if(ai){$t||Ji(h,s);var p=Ve,E=Vn;Ve=h.stateNode,za(i,s,h),cf(h.stateNode),Ve=p,Vn=E;break}case 5:$t||Ji(h,s);case 6:if(fn){if(p=Ve,E=Vn,Ve=null,za(i,s,h),Ve=p,Vn=E,Ve!==null)if(Vn)try{h0(Ve,h.stateNode)}catch(N){Le(h,s,N)}else try{c0(Ve,h.stateNode)}catch(N){Le(h,s,N)}}else za(i,s,h);break;case 18:fn&&Ve!==null&&(Vn?$h(Ve,h.stateNode):R0(Ve,h.stateNode));break;case 4:fn?(p=Ve,E=Vn,Ve=h.stateNode.containerInfo,Vn=!0,za(i,s,h),Ve=p,Vn=E):(us&&ql(h.stateNode,h,Pc()),za(i,s,h));break;case 0:case 11:case 14:case 15:$t||kr(2,h,s),$t||kr(4,h,s),za(i,s,h);break;case 1:$t||(Ji(h,s),p=h.stateNode,typeof p.componentWillUnmount=="function"&&Zi(h,s,p)),za(i,s,h);break;case 21:za(i,s,h);break;case 22:$t||Ji(h,s),$t=(p=$t)||h.memoizedState!==null,za(i,s,h),$t=p;break;default:za(i,s,h)}}function Pl(i,s){if(ea&&s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fc(i)}catch(h){Le(s,s.return,h)}}function Vh(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new fe),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new fe),s;default:throw Error(o(435,i.tag))}}function Dc(i,s){var h=Vh(i);s.forEach(function(p){var E=wc.bind(null,i,p);h.has(p)||(h.add(p),p.then(E,E))})}function Ln(i,s){var h=s.deletions;if(h!==null)for(var p=0;p<h.length;p++){var E=h[p],N=i,J=s;if(fn){var nt=J;t:for(;nt!==null;){switch(nt.tag){case 27:case 5:Ve=nt.stateNode,Vn=!1;break t;case 3:Ve=nt.stateNode.containerInfo,Vn=!0;break t;case 4:Ve=nt.stateNode.containerInfo,Vn=!0;break t}nt=nt.return}if(Ve===null)throw Error(o(160));ir(N,J,E),Ve=null,Vn=!1}else ir(N,J,E);N=E.alternate,N!==null&&(N.return=null),E.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Uh(s,i),s=s.sibling}function Uh(i,s){var h=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ln(s,i),Wi(i),p&4&&(kr(3,i,i.return),zo(3,i),kr(5,i,i.return));break;case 1:Ln(s,i),Wi(i),p&512&&($t||h===null||Ji(h,h.return)),p&64&&Rr&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:if(Ta){var E=Ci;Ln(s,i),Wi(i),p&512&&($t||h===null||Ji(h,h.return)),p&4&&(p=h!==null?h.memoizedState:null,s=i.memoizedState,h===null?s===null?i.stateNode===null?i.stateNode=N0(E,i.type,i.memoizedProps,i):sf(E,i.type,i.stateNode):i.stateNode=nf(E,s,i.memoizedProps):p!==s?(p===null?h.stateNode!==null&&Pu(h.stateNode):af(p),s===null?sf(E,i.type,i.stateNode):nf(E,s,i.memoizedProps)):s===null&&i.stateNode!==null&&Mh(i,i.memoizedProps,h.memoizedProps));break}case 27:if(ai&&p&4&&i.alternate===null){E=i.stateNode;var N=i.memoizedProps;try{x0(E),of(i.type,N,E,i)}catch(Vt){Le(i,i.return,Vt)}}case 5:if(Ln(s,i),Wi(i),p&512&&($t||h===null||Ji(h,h.return)),fn){if(i.flags&32){s=i.stateNode;try{qc(s)}catch(Vt){Le(i,i.return,Vt)}}p&4&&i.stateNode!=null&&(s=i.memoizedProps,Mh(i,s,h!==null?h.memoizedProps:s)),p&1024&&(ke=!0)}break;case 6:if(Ln(s,i),Wi(i),p&4&&fn){if(i.stateNode===null)throw Error(o(162));p=i.memoizedProps,h=h!==null?h.memoizedProps:p,s=i.stateNode;try{r0(s,h,p)}catch(Vt){Le(i,i.return,Vt)}}break;case 3:if(Ta?(M0(),E=Ci,Ci=Wn(s.containerInfo),Ln(s,i),Ci=E):Ln(s,i),Wi(i),p&4){if(fn&&ea&&h!==null&&h.memoizedState.isDehydrated)try{C0(s.containerInfo)}catch(Vt){Le(i,i.return,Vt)}if(us){p=s.containerInfo,h=s.pendingChildren;try{y0(p,h)}catch(Vt){Le(i,i.return,Vt)}}}ke&&(ke=!1,zh(i));break;case 4:Ta?(h=Ci,Ci=Wn(i.stateNode.containerInfo),Ln(s,i),Wi(i),Ci=h):(Ln(s,i),Wi(i)),p&4&&us&&ql(i.stateNode,i,i.stateNode.pendingChildren);break;case 12:Ln(s,i),Wi(i);break;case 13:Ln(s,i),Wi(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(mf=ba()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Dc(i,p)));break;case 22:p&512&&($t||h===null||Ji(h,h.return)),E=i.memoizedState!==null;var J=h!==null&&h.memoizedState!==null,nt=Rr,ft=$t;if(Rr=nt||E,$t=ft||J,Ln(s,i),$t=ft,Rr=nt,Wi(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,p&8192&&(s._visibility=E?s._visibility&-2:s._visibility|1,E&&(s=Rr||$t,h===null||J||s||xu(i)),fn&&(i.memoizedProps===null||i.memoizedProps.mode!=="manual"))){t:if(h=null,fn)for(s=i;;){if(s.tag===5||Ta&&s.tag===26||ai&&s.tag===27){if(h===null){J=h=s;try{N=J.stateNode,E?f0(N):Qg(J.stateNode,J.memoizedProps)}catch(Vt){Le(J,J.return,Vt)}}}else if(s.tag===6){if(h===null){J=s;try{var Tt=J.stateNode;E?d0(Tt):Qh(Tt,J.memoizedProps)}catch(Vt){Le(J,J.return,Vt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;h===s&&(h=null),s=s.return}h===s&&(h=null),s.sibling.return=s.return,s=s.sibling}}p&4&&(p=i.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Dc(i,h))));break;case 19:Ln(s,i),Wi(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Dc(i,p)));break;case 21:break;default:Ln(s,i),Wi(i)}}function Wi(i){var s=i.flags;if(s&2){try{if(fn&&(!ai||i.tag!==27)){t:{for(var h=i.return;h!==null;){if(Oh(h)){var p=h;break t}h=h.return}throw Error(o(160))}switch(p.tag){case 27:if(ai){var E=p.stateNode,N=Bo(i);Cc(i,N,E);break}case 5:var J=p.stateNode;p.flags&32&&(qc(J),p.flags&=-33);var nt=Bo(i);Cc(i,nt,J);break;case 3:case 4:var ft=p.stateNode.containerInfo,Tt=Bo(i);xh(i,Tt,ft);break;default:throw Error(o(161))}}}catch(Vt){Le(i,i.return,Vt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function zh(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;zh(s),s.tag===5&&s.flags&1024&&$d(s.stateNode),i=i.sibling}}function ar(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ou(i,s.alternate,s),s=s.sibling}function xu(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:kr(4,s,s.return),xu(s);break;case 1:Ji(s,s.return);var h=s.stateNode;typeof h.componentWillUnmount=="function"&&Zi(s,s.return,h),xu(s);break;case 26:case 27:case 5:Ji(s,s.return),xu(s);break;case 22:Ji(s,s.return),s.memoizedState===null&&xu(s);break;default:xu(s)}i=i.sibling}}function Kr(i,s,h){for(h=h&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,E=i,N=s,J=N.flags;switch(N.tag){case 0:case 11:case 15:Kr(E,N,h),zo(4,N);break;case 1:if(Kr(E,N,h),p=N,E=p.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Tt){Le(p,p.return,Tt)}if(p=N,E=p.updateQueue,E!==null){var nt=p.stateNode;try{var ft=E.shared.hiddenCallbacks;if(ft!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ft.length;E++)vo(ft[E],nt)}catch(Tt){Le(p,p.return,Tt)}}h&&J&64&&qd(N),rs(N,N.return);break;case 26:case 27:case 5:Kr(E,N,h),h&&p===null&&J&4&&Nh(N),rs(N,N.return);break;case 12:Kr(E,N,h);break;case 13:Kr(E,N,h),h&&J&4&&Pl(E,N);break;case 22:N.memoizedState===null&&Kr(E,N,h),rs(N,N.return);break;default:Kr(E,N,h)}s=s.sibling}}function Nc(i,s){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&yn(h))}function Mc(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&yn(i))}function sr(i,s,h,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ba(i,s,h,p),s=s.sibling}function Ba(i,s,h,p){var E=s.flags;switch(s.tag){case 0:case 11:case 15:sr(i,s,h,p),E&2048&&zo(9,s);break;case 3:sr(i,s,h,p),E&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&yn(i)));break;case 12:if(E&2048){sr(i,s,h,p),i=s.stateNode;try{var N=s.memoizedProps,J=N.id,nt=N.onPostCommit;typeof nt=="function"&&nt(J,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ft){Le(s,s.return,ft)}}else sr(i,s,h,p);break;case 23:break;case 22:N=s.stateNode,s.memoizedState!==null?N._visibility&4?sr(i,s,h,p):Cs(i,s):N._visibility&4?sr(i,s,h,p):(N._visibility|=4,ui(i,s,h,p,(s.subtreeFlags&10256)!==0)),E&2048&&Nc(s.alternate,s);break;case 24:sr(i,s,h,p),E&2048&&Mc(s.alternate,s);break;default:sr(i,s,h,p)}}function ui(i,s,h,p,E){for(E=E&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var N=i,J=s,nt=h,ft=p,Tt=J.flags;switch(J.tag){case 0:case 11:case 15:ui(N,J,nt,ft,E),zo(8,J);break;case 23:break;case 22:var Vt=J.stateNode;J.memoizedState!==null?Vt._visibility&4?ui(N,J,nt,ft,E):Cs(N,J):(Vt._visibility|=4,ui(N,J,nt,ft,E)),E&&Tt&2048&&Nc(J.alternate,J);break;case 24:ui(N,J,nt,ft,E),E&&Tt&2048&&Mc(J.alternate,J);break;default:ui(N,J,nt,ft,E)}s=s.sibling}}function Cs(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var h=i,p=s,E=p.flags;switch(p.tag){case 22:Cs(h,p),E&2048&&Nc(p.alternate,p);break;case 24:Cs(h,p),E&2048&&Mc(p.alternate,p);break;default:Cs(h,p)}s=s.sibling}}function rr(i){if(i.subtreeFlags&Sl)for(i=i.child;i!==null;)Lo(i),i=i.sibling}function Lo(i){switch(i.tag){case 26:rr(i),i.flags&Sl&&(i.memoizedState!==null?uf(Ci,i.memoizedState,i.memoizedProps):Yh(i.type,i.memoizedProps));break;case 5:rr(i),i.flags&Sl&&Yh(i.type,i.memoizedProps);break;case 3:case 4:if(Ta){var s=Ci;Ci=Wn(i.stateNode.containerInfo),rr(i),Ci=s}else rr(i);break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Sl,Sl=16777216,rr(i),Sl=s):rr(i));break;default:rr(i)}}function Go(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Il(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var h=0;h<s.length;h++){var p=s[h];Ft=p,qo(p,i)}Go(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lr(i),i=i.sibling}function lr(i){switch(i.tag){case 0:case 11:case 15:Il(i),i.flags&2048&&kr(9,i,i.return);break;case 3:Il(i);break;case 12:Il(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Ho(i)):Il(i);break;default:Il(i)}}function Ho(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var h=0;h<s.length;h++){var p=s[h];Ft=p,qo(p,i)}Go(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:kr(8,s,s.return),Ho(s);break;case 22:h=s.stateNode,h._visibility&4&&(h._visibility&=-5,Ho(s));break;default:Ho(s)}i=i.sibling}}function qo(i,s){for(;Ft!==null;){var h=Ft;switch(h.tag){case 0:case 11:case 15:kr(8,h,s);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:yn(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Ft=p;else t:for(h=i;Ft!==null;){p=Ft;var E=p.sibling,N=p.return;if(Rc(p),p===h){Ft=null;break t}if(E!==null){E.return=N,Ft=E;break t}Ft=N}}}function Qr(i){var s=Lc(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(o(364));return s}if(i=n0(i),i===null)throw Error(o(362));return i.stateNode.current}function Oc(i,s){var h=i.tag;switch(s.$$typeof){case cn:if(i.type===s.value)return!0;break;case ms:t:{for(s=s.value,i=[i,0],h=0;h<i.length;){var p=i[h++],E=p.tag,N=i[h++],J=s[N];if(E!==5&&E!==26&&E!==27||!xs(p)){for(;J!=null&&Oc(p,J);)N++,J=s[N];if(N===s.length){s=!0;break t}else for(p=p.child;p!==null;)i.push(p,N),p=p.sibling}}s=!1}return s;case Ls:if((h===5||h===26||h===27)&&a0(i.stateNode,s.value))return!0;break;case Li:if((h===5||h===6||h===26||h===27)&&(i=i0(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case Zu:if((h===5||h===26||h===27)&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function $i(i){switch(i.$$typeof){case cn:return"<"+(g(i.value)||"Unknown")+">";case ms:return":has("+($i(i)||"")+")";case Ls:return'[role="'+i.value+'"]';case Li:return'"'+i.value+'"';case Zu:return'[data-testname="'+i.value+'"]';default:throw Error(o(365))}}function jl(i,s){var h=[];i=[i,0];for(var p=0;p<i.length;){var E=i[p++],N=E.tag,J=i[p++],nt=s[J];if(N!==5&&N!==26&&N!==27||!xs(E)){for(;nt!=null&&Oc(E,nt);)J++,nt=s[J];if(J===s.length)h.push(E);else for(E=E.child;E!==null;)i.push(E,J),E=E.sibling}}return h}function Xr(i,s){if(!qu)throw Error(o(363));i=Qr(i),i=jl(i,s),s=[],i=Array.from(i);for(var h=0;h<i.length;){var p=i[h++],E=p.tag;if(E===5||E===26||E===27)xs(p)||s.push(p.stateNode);else for(p=p.child;p!==null;)i.push(p),p=p.sibling}return s}function _i(){if(me&2&&pe!==0)return pe&-pe;if(Xt.T!==null){var i=on;return i!==0?i:qe()}return Xd()}function Po(){Ra===0&&(Ra=!(pe&536870912)||Ne?V():536870912);var i=aa.current;return i!==null&&(i.flags|=32),Ra}function sn(i,s,h){(i===Ke&&Ie===2||i.cancelPendingCommit!==null)&&(Zr(i,0),wi(i,pe,Ra,!1)),q(i,h),(!(me&2)||i!==Ke)&&(i===Ke&&(!(me&2)&&(Nr|=h),gn===4&&wi(i,pe,Ra,!1)),He(i))}function Sa(i,s,h){if(me&6)throw Error(o(327));var p=!h&&(s&60)===0&&(s&i.expiredLanes)===0||k(i,s),E=p?Pd(i,s):jo(i,s,!0),N=p;do{if(E===0){Ya&&!p&&wi(i,s,0,!1);break}else if(E===6)wi(i,s,0,!Fa);else{if(h=i.current.alternate,N&&!or(h)){E=jo(i,s,!1),N=!1;continue}if(E===2){if(N=s,i.errorRecoveryDisabledLanes&N)var J=0;else J=i.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){s=J;t:{var nt=i;E=Ju;var ft=ea&&nt.current.memoizedState.isDehydrated;if(ft&&(Zr(nt,J).flags|=256),J=jo(nt,J,!1),J!==2){if(au&&!ft){nt.errorRecoveryDisabledLanes|=N,Nr|=N,E=4;break t}N=Ka,Ka=E,N!==null&&ur(N)}E=J}if(N=!1,E!==2)continue}}if(E===1){Zr(i,0),wi(i,s,0,!0);break}t:{switch(p=i,E){case 0:case 1:throw Error(o(345));case 4:if((s&4194176)===s){wi(p,s,Ra,!Fa);break t}break;case 2:Ka=null;break;case 3:case 5:break;default:throw Error(o(329))}if(p.finishedWork=h,p.finishedLanes=s,(s&62914560)===s&&(N=mf+300-ba(),10<N)){if(wi(p,s,Ra,!Fa),I(p,0)!==0)break t;p.timeoutHandle=Bc(Rs.bind(null,p,h,Ka,su,eh,s,Ra,Nr,jn,Fa,2,-0,0),N);break t}Rs(p,h,Ka,su,eh,s,Ra,Nr,jn,Fa,0,-0,0)}}break}while(!0);He(i)}function ur(i){Ka===null?Ka=i:Ka.push.apply(Ka,i)}function Rs(i,s,h,p,E,N,J,nt,ft,Tt,Vt,Lt,wt){var te=s.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(kg(),Lo(s),s=Wd(),s!==null)){i.cancelPendingCommit=s(xc.bind(null,i,h,p,E,J,nt,ft,1,Lt,wt)),wi(i,N,J,!Tt);return}xc(i,h,p,E,J,nt,ft,Vt,Lt,wt)}function or(i){for(var s=i;;){var h=s.tag;if((h===0||h===11||h===15)&&s.flags&16384&&(h=s.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var E=h[p],N=E.getSnapshot;E=E.value;try{if(!Ui(N(),E))return!1}catch{return!1}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wi(i,s,h,p){s&=~Gi,s&=~Nr,i.suspendedLanes|=s,i.pingedLanes&=~s,p&&(i.warmLanes|=s),p=i.expirationTimes;for(var E=s;0<E;){var N=31-Nn(E),J=1<<N;p[N]=-1,E&=~J}h!==0&&T(i,h,s)}function Bh(){return me&6?!0:(li(0),!1)}function Io(){if(ce!==null){if(Ie===0)var i=ce.return;else i=ce,ja=vl=null,ma(i),eu=null,Ai=0,i=ce;for(;i!==null;)Hd(i.alternate,i),i=i.return;ce=null}}function Zr(i,s){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;h!==Hu&&(i.timeoutHandle=Hu,Jo(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),Io(),Ke=i,ce=h=hr(i.current,null),pe=s,Ie=0,In=null,Fa=!1,Ya=k(i,s),au=!1,jn=Ra=Gi=Nr=ka=gn=0,Ka=Ju=null,eh=!1,s&8&&(s|=s&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=s;0<p;){var E=31-Nn(p),N=1<<E;s|=i[E],p&=~N}return ps=s,le(),h}function vi(i,s){Wt=null,Xt.H=wn,s===ic?(s=Ys(),Ie=3):s===ac?(s=Ys(),Ie=4):Ie=s===df?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,ce===null&&(gn=1,tr(i,dt(s,i.current)))}function ii(){var i=aa.current;return i===null?!0:(pe&4194176)===pe?Pa===null:(pe&62914560)===pe||pe&536870912?i===Pa:!1}function De(){var i=Xt.H;return Xt.H=wn,i===null?wn:i}function La(){var i=Xt.A;return Xt.A=Dr,i}function Ga(){gn=4,Fa||(pe&4194176)!==pe&&aa.current!==null||(Ya=!0),!(ka&134217727)&&!(Nr&134217727)||Ke===null||wi(Ke,pe,Ra,!1)}function jo(i,s,h){var p=me;me|=2;var E=De(),N=La();(Ke!==i||pe!==s)&&(su=null,Zr(i,s)),s=!1;var J=gn;t:do try{if(Ie!==0&&ce!==null){var nt=ce,ft=In;switch(Ie){case 8:Io(),J=6;break t;case 3:case 2:case 6:aa.current===null&&(s=!0);var Tt=Ie;if(Ie=0,In=null,Ds(i,nt,ft,Tt),h&&Ya){J=0;break t}break;default:Tt=Ie,Ie=0,In=null,Ds(i,nt,ft,Tt)}}Fl(),J=gn;break}catch(Vt){vi(i,Vt)}while(!0);return s&&i.shellSuspendCounter++,ja=vl=null,me=p,Xt.H=E,Xt.A=N,ce===null&&(Ke=null,pe=0,le()),J}function Fl(){for(;ce!==null;)wu(ce)}function Pd(i,s){var h=me;me|=2;var p=De(),E=La();Ke!==i||pe!==s?(su=null,Da=ba()+500,Zr(i,s)):Ya=k(i,s);t:do try{if(Ie!==0&&ce!==null){s=ce;var N=In;e:switch(Ie){case 1:Ie=0,In=null,Ds(i,s,N,1);break;case 2:if(Fs(N)){Ie=0,In=null,Vu(s);break}s=function(){Ie===2&&Ke===i&&(Ie=7),He(i)},N.then(s,s);break t;case 3:Ie=7;break t;case 4:Ie=5;break t;case 7:Fs(N)?(Ie=0,In=null,Vu(s)):(Ie=0,In=null,Ds(i,s,N,7));break;case 5:var J=null;switch(ce.tag){case 26:J=ce.memoizedState;case 5:case 27:var nt=ce,ft=nt.type,Tt=nt.pendingProps;if(J?lf(J):Fh(ft,Tt)){Ie=0,In=null;var Vt=nt.sibling;if(Vt!==null)ce=Vt;else{var Lt=nt.return;Lt!==null?(ce=Lt,Jr(Lt)):ce=null}break e}}Ie=0,In=null,Ds(i,s,N,5);break;case 6:Ie=0,In=null,Ds(i,s,N,6);break;case 8:Io(),gn=6;break t;default:throw Error(o(462))}}Id();break}catch(wt){vi(i,wt)}while(!0);return ja=vl=null,Xt.H=p,Xt.A=E,me=h,ce!==null?0:(Ke=null,pe=0,le(),gn)}function Id(){for(;ce!==null&&!hl();)wu(ce)}function wu(i){var s=yi(i.alternate,i,ps);i.memoizedProps=i.pendingProps,s===null?Jr(i):ce=s}function Vu(i){var s=i,h=s.alternate;switch(s.tag){case 15:case 0:s=Fr(h,s,s.pendingProps,s.type,void 0,pe);break;case 11:s=Fr(h,s,s.pendingProps,s.type.render,s.ref,pe);break;case 5:ma(s);default:Hd(h,s),s=ce=Yl(s,ps),s=yi(h,s,ps)}i.memoizedProps=i.pendingProps,s===null?Jr(i):ce=s}function Ds(i,s,h,p){ja=vl=null,ma(s),eu=null,Ai=0;var E=s.return;try{if(Dh(i,E,s,h,pe)){gn=1,tr(i,dt(h,i.current)),ce=null;return}}catch(N){if(E!==null)throw ce=E,N;gn=1,tr(i,dt(h,i.current)),ce=null;return}s.flags&32768?(Ne||p===1?i=!0:Ya||pe&536870912?i=!1:(Fa=i=!0,(p===2||p===3||p===6)&&(p=aa.current,p!==null&&p.tag===13&&(p.flags|=16384))),Lh(s,i)):Jr(s)}function Jr(i){var s=i;do{if(s.flags&32768){Lh(s,Fa);return}i=s.return;var h=Gd(s.alternate,s,ps);if(h!==null){ce=h;return}if(s=s.sibling,s!==null){ce=s;return}ce=s=i}while(s!==null);gn===0&&(gn=5)}function Lh(i,s){do{var h=Pg(i.alternate,i);if(h!==null){h.flags&=32767,ce=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!s&&(i=i.sibling,i!==null)){ce=i;return}ce=i=h}while(i!==null);gn=6,ce=null}function xc(i,s,h,p,E,N,J,nt,ft,Tt){var Vt=Xt.T,Lt=ul();try{Vi(2),Xt.T=null,jd(i,s,h,p,Lt,E,N,J,nt,ft,Tt)}finally{Xt.T=Vt,Vi(Lt)}}function jd(i,s,h,p,E,N,J,nt){do Wr();while(El!==null);if(me&6)throw Error(o(327));var ft=i.finishedWork;if(p=i.finishedLanes,ft===null)return null;if(i.finishedWork=null,i.finishedLanes=0,ft===i.current)throw Error(o(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var Tt=ft.lanes|ft.childLanes;if(Tt|=fs,K(i,p,Tt,N,J,nt),i===Ke&&(ce=Ke=null,pe=0),!(ft.subtreeFlags&10256)&&!(ft.flags&10256)||Mr||(Mr=!0,nh=Tt,uc=h,Fd(ju,function(){return Wr(),null})),h=(ft.flags&15990)!==0,ft.subtreeFlags&15990||h?(h=Xt.T,Xt.T=null,N=ul(),Vi(2),J=me,me|=4,wh(i,ft),Uh(ft,i),Yg(i.containerInfo),i.current=ft,Ou(i,ft.alternate,ft),vr(),me=J,Vi(N),Xt.T=h):i.current=ft,Mr?(Mr=!1,El=i,Wu=p):Fo(i,Tt),Tt=i.pendingLanes,Tt===0&&(Hs=null),X(ft.stateNode),He(i),s!==null)for(E=i.onRecoverableError,ft=0;ft<s.length;ft++)Tt=s[ft],E(Tt.value,{componentStack:Tt.stack});return Wu&3&&Wr(),Tt=i.pendingLanes,p&4194218&&Tt&42?i===pf?ru++:(ru=0,pf=i):ru=0,li(0),null}function Fo(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,yn(s)))}function Wr(){if(El!==null){var i=El,s=nh;nh=0;var h=P(Wu),p=32>h?32:h;h=Xt.T;var E=ul();try{if(Vi(p),Xt.T=null,El===null)var N=!1;else{p=uc,uc=null;var J=El,nt=Wu;if(El=null,Wu=0,me&6)throw Error(o(331));var ft=me;if(me|=4,lr(J.current),Ba(J,J.current,nt,p),me=ft,li(0,!1),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Fu,J)}catch{}N=!0}return N}finally{Vi(E),Xt.T=h,Fo(i,s)}}return!1}function Uu(i,s,h){s=dt(h,s),s=er(i.stateNode,s,2),i=be(i,s,2),i!==null&&(q(i,2),He(i))}function Le(i,s,h){if(i.tag===3)Uu(i,i,h);else for(;s!==null;){if(s.tag===3){Uu(s,i,h);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hs===null||!Hs.has(p))){i=dt(h,i),h=va(2),p=be(s,h,2),p!==null&&(No(h,p,s,i),q(p,2),He(p));break}}s=s.return}}function $r(i,s,h){var p=i.pingCache;if(p===null){p=i.pingCache=new lc;var E=new Set;p.set(s,E)}else E=p.get(s),E===void 0&&(E=new Set,p.set(s,E));E.has(h)||(au=!0,E.add(h),i=Yo.bind(null,i,s,h),s.then(i,i))}function Yo(i,s,h){var p=i.pingCache;p!==null&&p.delete(s),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,Ke===i&&(pe&h)===h&&(gn===4||gn===3&&(pe&62914560)===pe&&300>ba()-mf?!(me&2)&&Zr(i,0):Gi|=h,jn===pe&&(jn=0)),He(i)}function ko(i,s){s===0&&(s=M()),i=se(i,s),i!==null&&(q(i,s),He(i))}function Ko(i){var s=i.memoizedState,h=0;s!==null&&(h=s.retryLane),ko(i,h)}function wc(i,s){var h=0;switch(i.tag){case 13:var p=i.stateNode,E=i.memoizedState;E!==null&&(h=E.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(o(314))}p!==null&&p.delete(s),ko(i,h)}function Fd(i,s){return Vs(i,s)}function Yd(i,s,h,p){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hr(i,s){var h=i.alternate;return h===null?(h=a(i.tag,s,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=s,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&31457280,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,s=i.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function Yl(i,s){i.flags&=31457282;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,s=h.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function kl(i,s,h,p,E,N){var J=0;if(p=i,typeof i=="function")cr(i)&&(J=1);else if(typeof i=="string")J=Ta&&ai?Jn(i,h,Mn.current)?26:kc(i)?27:5:Ta?Jn(i,h,Mn.current)?26:5:ai&&kc(i)?27:5;else t:switch(i){case nl:return tl(h.children,E,N,s);case Kl:J=8,E|=24;break;case il:return i=a(12,h,s,E|2),i.elementType=il,i.lanes=N,i;case gr:return i=a(13,h,s,E),i.elementType=gr,i.lanes=N,i;case Xo:return i=a(19,h,s,E),i.elementType=Xo,i.lanes=N,i;case pr:return Vc(h,E,N,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case jg:case al:J=10;break t;case qh:J=9;break t;case Uc:J=11;break t;case Bu:J=14;break t;case mr:J=16,p=null;break t}J=29,h=Error(o(130,i===null?"null":typeof i,"")),p=null}return s=a(J,h,s,E),s.elementType=i,s.type=p,s.lanes=N,s}function tl(i,s,h,p){return i=a(7,i,p,s),i.lanes=h,i}function Vc(i,s,h,p){i=a(22,i,p,s),i.elementType=pr,i.lanes=h;var E={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=E._current;if(N===null)throw Error(o(456));if(!(E._pendingVisibility&2)){var J=se(N,2);J!==null&&(E._pendingVisibility|=2,sn(J,N,2))}},attach:function(){var N=E._current;if(N===null)throw Error(o(456));if(E._pendingVisibility&2){var J=se(N,2);J!==null&&(E._pendingVisibility&=-3,sn(J,N,2))}}};return i.stateNode=E,i}function Qo(i,s,h){return i=a(6,i,null,s),i.lanes=h,i}function ta(i,s,h){return s=a(4,i.children!==null?i.children:[],i.key,s),s.lanes=h,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Ns(i,s,h,p,E,N,J,nt){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Hu,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=w(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w(0),this.hiddenUpdates=w(null),this.identifierPrefix=p,this.onUncaughtError=E,this.onCaughtError=N,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=nt,this.incompleteTransitions=new Map}function fr(i,s,h,p,E,N,J,nt,ft,Tt,Vt,Lt){return i=new Ns(i,s,h,J,nt,ft,Tt,Lt),s=1,N===!0&&(s|=24),N=a(3,null,null,s),i.current=N,N.stateNode=i,s=_e(),s.refCount++,i.pooledCache=s,s.refCount++,N.memoizedState={element:p,isDehydrated:h,cache:s},ha(N),i}function Gh(i){return i?(i=$l,i):$l}function dr(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=D(s),i=i!==null?x(i):null,i===null?null:Ql(i.stateNode)}function Ms(i,s,h,p,E,N){E=Gh(E),p.context===null?p.context=E:p.pendingContext=E,p=nn(s),p.payload={element:h},N=N===void 0?null:N,N!==null&&(p.callback=N),h=be(i,p,s),h!==null&&(sn(h,i,s),fa(h,i,s))}function Gn(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<s?h:s}}function zu(i,s){Gn(i,s),(i=i.alternate)&&Gn(i,s)}var ge={},Ig=Ag(),Ea=p1(),Rn=Object.assign,Hh=Symbol.for("react.element"),el=Symbol.for("react.transitional.element"),Os=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),il=Symbol.for("react.profiler"),jg=Symbol.for("react.provider"),qh=Symbol.for("react.consumer"),al=Symbol.for("react.context"),Uc=Symbol.for("react.forward_ref"),gr=Symbol.for("react.suspense"),Xo=Symbol.for("react.suspense_list"),Bu=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),pr=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator,Hn=Symbol.for("react.client.reference"),Xt=Ig.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sl,rl,Lu=!1,ll=Array.isArray,Gu=t.rendererVersion,Fg=t.rendererPackageName,En=t.extraDevToolsConfig,Ql=t.getPublicInstance,Ph=t.getRootHostContext,kd=t.getChildHostContext,Kd=t.prepareForCommit,Yg=t.resetAfterCommit,Ih=t.createInstance,Zo=t.appendInitialChild,zc=t.finalizeInitialChildren,oi=t.shouldSetTextContent,Dn=t.createTextInstance,Bc=t.scheduleTimeout,Jo=t.cancelTimeout,Hu=t.noTimeout,ls=t.isPrimaryRenderer;t.warnsIfNotActing;var fn=t.supportsMutation,us=t.supportsPersistence,ea=t.supportsHydration,Lc=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var Qd=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Vi=t.setCurrentUpdatePriority,ul=t.getCurrentUpdatePriority,Xd=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var Zd=t.shouldAttemptEagerTransition,Jd=t.detachDeletedInstance;t.requestPostPaintCallback;var jh=t.maySuspendCommit,Fh=t.preloadInstance,kg=t.startSuspendingCommit,Yh=t.suspendInstance,Wd=t.waitForCommitToBeReady,Xl=t.NotPendingTransition,yr=t.HostTransitionContext,$d=t.resetFormInstance;t.bindToConsole;var t0=t.supportsMicrotasks,e0=t.scheduleMicrotask,qu=t.supportsTestSelectors,n0=t.findFiberRoot,Kg=t.getBoundingRect,i0=t.getTextContent,xs=t.isHiddenSubtree,a0=t.matchAccessibilityRole,Gc=t.setFocusIfFocusable,Hc=t.setupIntersectionObserver,s0=t.appendChild,kh=t.appendChildToContainer,r0=t.commitTextUpdate,l0=t.commitMount,u0=t.commitUpdate,o0=t.insertBefore,Kh=t.insertInContainerBefore,c0=t.removeChild,h0=t.removeChildFromContainer,qc=t.resetTextContent,f0=t.hideInstance,d0=t.hideTextInstance,Qg=t.unhideInstance,Qh=t.unhideTextInstance,g0=t.clearContainer,m0=t.cloneInstance,Pc=t.createContainerChildSet,Xh=t.appendChildToContainerChildSet,p0=t.finalizeContainerChildren,y0=t.replaceContainerChildren,_0=t.cloneHiddenInstance,Zh=t.cloneHiddenTextInstance,Zl=t.isSuspenseInstancePending,Wo=t.isSuspenseInstanceFallback,Ic=t.getSuspenseInstanceFallbackErrorDetails,v0=t.registerSuspenseInstanceRetry,S0=t.canHydrateFormStateMarker,ws=t.isFormStateMarkerMatching,ol=t.getNextHydratableSibling,_r=t.getFirstHydratableChild,Jl=t.getFirstHydratableChildWithinContainer,Jh=t.getFirstHydratableChildWithinSuspenseInstance,Wh=t.canHydrateInstance,E0=t.canHydrateTextInstance,T0=t.canHydrateSuspenseInstance,Wl=t.hydrateInstance,jc=t.hydrateTextInstance,b0=t.hydrateSuspenseInstance,A0=t.getNextHydratableInstanceAfterSuspenseInstance,C0=t.commitHydratedContainer,Fc=t.commitHydratedSuspenseInstance,R0=t.clearSuspenseBoundary,$h=t.clearSuspenseBoundaryFromContainer,tf=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var D0=t.validateHydratableInstance,Xg=t.validateHydratableTextInstance,Ta=t.supportsResources,Jn=t.isHostHoistableType,Wn=t.getHoistableRoot,ef=t.getResource,nf=t.acquireResource,af=t.releaseResource,N0=t.hydrateHoistable,sf=t.mountHoistable,Pu=t.unmountHoistable,rf=t.createHoistableInstance,M0=t.prepareToCommitHoistables,O0=t.mayResourceSuspendCommit,lf=t.preloadResource,uf=t.suspendResource,ai=t.supportsSingletons,Yc=t.resolveSingletonInstance,x0=t.clearSingleton,of=t.acquireSingletonInstance,cf=t.releaseSingletonInstance,kc=t.isHostSingletonType,Kc=[],cl=-1,$l={},Nn=Math.clz32?Math.clz32:R,hf=Math.log,Zg=Math.LN2,$o=128,Iu=4194304,Vs=Ea.unstable_scheduleCallback,os=Ea.unstable_cancelCallback,hl=Ea.unstable_shouldYield,vr=Ea.unstable_requestPaint,ba=Ea.unstable_now,Qc=Ea.unstable_ImmediatePriority,tc=Ea.unstable_UserBlockingPriority,ju=Ea.unstable_NormalPriority,tu=Ea.unstable_IdlePriority,Si=Ea.log,Xc=Ea.unstable_setDisableYieldValue,Fu=null,qn=null,Ui=typeof Object.is=="function"?Object.is:at,Zc=new WeakMap,Aa=[],Ca=0,fl=null,Yu=0,na=[],Ei=0,cs=null,Us=1,zs="",Mn=L(null),Ha=L(null),Sr=L(null),ec=L(null),On=null,Ye=null,Ne=!1,qa=null,hs=!1,nc=Error(o(519)),ia=[],Er=0,fs=0,un=null,dl=null,Jc=!1,xn=!1,Wc=!1,ku=0,Ku=null,$c=0,on=0,si=null,Ti=!1,th=!1,w0=Object.prototype.hasOwnProperty,ic=Error(o(460)),ac=Error(o(474)),zi={then:function(){}},bi=null,eu=null,Ai=0,gl=vn(!0),Bs=vn(!1),ds=L(null),gs=L(0),aa=L(null),Pa=null,rn=L(0),Tr=0,Wt=null,we=null,dn=null,br=!1,nu=!1,ml=!1,pl=0,Qu=0,Ar=null,V0=0,ff=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},wn={readContext:ut,use:an,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};wn.useCacheRefresh=ue,wn.useMemoCache=ue,wn.useHostTransitionStatus=ue,wn.useFormState=ue,wn.useActionState=ue,wn.useOptimistic=ue;var Cr={readContext:ut,use:an,useCallback:function(i,s){return Sn().memoizedState=[i,s===void 0?null:s],i},useContext:ut,useEffect:Co,useImperativeHandle:function(i,s,h){h=h!=null?h.concat([i]):null,vu(4194308,4,es.bind(null,s,i),h)},useLayoutEffect:function(i,s){return vu(4194308,4,i,s)},useInsertionEffect:function(i,s){vu(4,2,i,s)},useMemo:function(i,s){var h=Sn();s=s===void 0?null:s;var p=i();if(ml){$(!0);try{i()}finally{$(!1)}}return h.memoizedState=[p,s],p},useReducer:function(i,s,h){var p=Sn();if(h!==void 0){var E=h(s);if(ml){$(!0);try{h(s)}finally{$(!1)}}}else E=s;return p.memoizedState=p.baseState=E,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:E},p.queue=i,i=i.dispatch=$s.bind(null,Wt,i),[p.memoizedState,i]},useRef:function(i){var s=Sn();return i={current:i},s.memoizedState=i},useState:function(i){i=Ki(i);var s=i.queue,h=Eu.bind(null,Wt,s);return s.dispatch=h,[i.memoizedState,h]},useDebugValue:Lr,useDeferredValue:function(i,s){var h=Sn();return ns(h,i,s)},useTransition:function(){var i=Ki(!1);return i=Ro.bind(null,Wt,i.queue,!0,!1),Sn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,h){var p=Wt,E=Sn();if(Ne){if(h===void 0)throw Error(o(407));h=h()}else{if(h=s(),Ke===null)throw Error(o(349));pe&60||pu(p,s,h)}E.memoizedState=h;var N={value:h,getSnapshot:s};return E.queue=N,Co(Ao.bind(null,p,N,i),[i]),p.flags|=2048,pa(9,yu.bind(null,p,N,h,s),{destroy:void 0},null),h},useId:function(){var i=Sn(),s=Ke.identifierPrefix;if(Ne){var h=zs,p=Us;h=(p&~(1<<32-Nn(p)-1)).toString(32)+h,s=":"+s+"R"+h,h=pl++,0<h&&(s+="H"+h.toString(32)),s+=":"}else h=V0++,s=":"+s+"r"+h.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Sn().memoizedState=qr.bind(null,Wt)}};Cr.useMemoCache=Ol,Cr.useHostTransitionStatus=Qi,Cr.useFormState=Ws,Cr.useActionState=Ws,Cr.useOptimistic=function(i){var s=Sn();s.memoizedState=s.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=h,s=Ma.bind(null,Wt,!0,h),h.dispatch=s,[i,s]};var Bi={readContext:ut,use:an,useCallback:Ts,useContext:ut,useEffect:wl,useImperativeHandle:_a,useInsertionEffect:Sc,useLayoutEffect:Ec,useMemo:bs,useReducer:gi,useRef:ya,useState:function(){return gi(ki)},useDebugValue:Lr,useDeferredValue:function(i,s){var h=Ze();return Su(h,we.memoizedState,i,s)},useTransition:function(){var i=gi(ki)[0],s=Ze().memoizedState;return[typeof i=="boolean"?i:Na(i),s]},useSyncExternalStore:yc,useId:Hr};Bi.useCacheRefresh=is,Bi.useMemoCache=Ol,Bi.useHostTransitionStatus=Qi,Bi.useFormState=Ur,Bi.useActionState=Ur,Bi.useOptimistic=function(i,s){var h=Ze();return pi(h,we,i,s)};var yl={readContext:ut,use:an,useCallback:Ts,useContext:ut,useEffect:wl,useImperativeHandle:_a,useInsertionEffect:Sc,useLayoutEffect:Ec,useMemo:bs,useReducer:xi,useRef:ya,useState:function(){return xi(ki)},useDebugValue:Lr,useDeferredValue:function(i,s){var h=Ze();return we===null?ns(h,i,s):Su(h,we.memoizedState,i,s)},useTransition:function(){var i=xi(ki)[0],s=Ze().memoizedState;return[typeof i=="boolean"?i:Na(i),s]},useSyncExternalStore:yc,useId:Hr};yl.useCacheRefresh=is,yl.useMemoCache=Ol,yl.useHostTransitionStatus=Qi,yl.useFormState=zr,yl.useActionState=zr,yl.useOptimistic=function(i,s){var h=Ze();return we!==null?pi(h,we,i,s):(h.baseState=i,[i,h.queue.dispatch])};var Xu={isMounted:function(i){return(i=i._reactInternals)?O(i)===i:!1},enqueueSetState:function(i,s,h){i=i._reactInternals;var p=_i(),E=nn(p);E.payload=s,h!=null&&(E.callback=h),s=be(i,E,p),s!==null&&(sn(s,i,p),fa(s,i,p))},enqueueReplaceState:function(i,s,h){i=i._reactInternals;var p=_i(),E=nn(p);E.tag=1,E.payload=s,h!=null&&(E.callback=h),s=be(i,E,p),s!==null&&(sn(s,i,p),fa(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var h=_i(),p=nn(h);p.tag=2,s!=null&&(p.callback=s),s=be(i,p,h),s!==null&&(sn(s,i,h),fa(s,i,h))}},_l=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},df=Error(o(461)),Pn=!1,sc={dehydrated:null,treeContext:null,retryLane:0},Ia=L(null),vl=null,ja=null,rc=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(h,p){i.push(p)}};this.abort=function(){s.aborted=!0,i.forEach(function(h){return h()})}},_n=Ea.unstable_scheduleCallback,Jg=Ea.unstable_NormalPriority,Tn={$$typeof:al,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},gf=Xt.S;Xt.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Qn(i,s),gf!==null&&gf(i,s)};var iu=L(null),Rr=!1,$t=!1,ke=!1,fe=typeof WeakSet=="function"?WeakSet:Set,Ft=null,Je=!1,Ve=null,Vn=!1,Ci=null,Sl=8192,Dr={getCacheForType:function(i){var s=ut(Tn),h=s.data.get(i);return h===void 0&&(h=i(),s.data.set(i,h)),h}},cn=0,ms=1,Ls=2,Zu=3,Li=4;if(typeof Symbol=="function"&&Symbol.for){var Gs=Symbol.for;cn=Gs("selector.component"),ms=Gs("selector.has_pseudo_class"),Ls=Gs("selector.role"),Zu=Gs("selector.test_id"),Li=Gs("selector.text")}var lc=typeof WeakMap=="function"?WeakMap:Map,me=0,Ke=null,ce=null,pe=0,Ie=0,In=null,Fa=!1,Ya=!1,au=!1,ps=0,gn=0,ka=0,Nr=0,Gi=0,Ra=0,jn=0,Ju=null,Ka=null,eh=!1,mf=0,Da=1/0,su=null,Hs=null,Mr=!1,El=null,Wu=0,nh=0,uc=null,ru=0,pf=null;return ge.attemptContinuousHydration=function(i){if(i.tag===13){var s=se(i,67108864);s!==null&&sn(s,i,67108864),zu(i,67108864)}},ge.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=_i(),h=se(i,s);h!==null&&sn(h,i,s),zu(i,s)}},ge.attemptSynchronousHydration=function(i){switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=H(i.pendingLanes);if(s!==0){for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var h=1<<31-Nn(s);i.entanglements[1]|=h,s&=~h}He(i),!(me&6)&&(Da=ba()+500,li(0))}}break;case 13:s=se(i,2),s!==null&&sn(s,i,2),Bh(),zu(i,2)}},ge.batchedUpdates=function(i,s){return i(s)},ge.createComponentSelector=function(i){return{$$typeof:cn,value:i}},ge.createContainer=function(i,s,h,p,E,N,J,nt,ft,Tt){return fr(i,s,!1,null,h,p,N,J,nt,ft,Tt,null)},ge.createHasPseudoClassSelector=function(i){return{$$typeof:ms,value:i}},ge.createHydrationContainer=function(i,s,h,p,E,N,J,nt,ft,Tt,Vt,Lt,wt){return i=fr(h,p,!0,i,E,N,nt,ft,Tt,Vt,Lt,wt),i.context=Gh(null),h=i.current,p=_i(),E=nn(p),E.callback=s??null,be(h,E,p),i.current.lanes=p,q(i,p),He(i),i},ge.createPortal=function(i,s,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:p==null?null:""+p,children:i,containerInfo:s,implementation:h}},ge.createRoleSelector=function(i){return{$$typeof:Ls,value:i}},ge.createTestNameSelector=function(i){return{$$typeof:Zu,value:i}},ge.createTextSelector=function(i){return{$$typeof:Li,value:i}},ge.defaultOnCaughtError=function(i){console.error(i)},ge.defaultOnRecoverableError=function(i){_l(i)},ge.defaultOnUncaughtError=function(i){_l(i)},ge.deferredUpdates=function(i){var s=Xt.T,h=ul();try{return Vi(32),Xt.T=null,i()}finally{Vi(h),Xt.T=s}},ge.discreteUpdates=function(i,s,h,p,E){var N=Xt.T,J=ul();try{return Vi(2),Xt.T=null,i(s,h,p,E)}finally{Vi(J),Xt.T=N,me===0&&(Da=ba()+500)}},ge.findAllNodes=Xr,ge.findBoundingRects=function(i,s){if(!qu)throw Error(o(363));s=Xr(i,s),i=[];for(var h=0;h<s.length;h++)i.push(Kg(s[h]));for(s=i.length-1;0<s;s--){h=i[s];for(var p=h.x,E=p+h.width,N=h.y,J=N+h.height,nt=s-1;0<=nt;nt--)if(s!==nt){var ft=i[nt],Tt=ft.x,Vt=Tt+ft.width,Lt=ft.y,wt=Lt+ft.height;if(p>=Tt&&N>=Lt&&E<=Vt&&J<=wt){i.splice(s,1);break}else if(p!==Tt||h.width!==ft.width||wt<N||Lt>J){if(!(N!==Lt||h.height!==ft.height||Vt<p||Tt>E)){Tt>p&&(ft.width+=Tt-p,ft.x=p),Vt<E&&(ft.width=E-Tt),i.splice(s,1);break}}else{Lt>N&&(ft.height+=Lt-N,ft.y=N),wt<J&&(ft.height=J-Lt),i.splice(s,1);break}}}return i},ge.findHostInstance=dr,ge.findHostInstanceWithNoPortals=function(i){return i=D(i),i=i!==null?z(i):null,i===null?null:Ql(i.stateNode)},ge.findHostInstanceWithWarning=function(i){return dr(i)},ge.flushPassiveEffects=Wr,ge.flushSyncFromReconciler=function(i){var s=me;me|=1;var h=Xt.T,p=ul();try{if(Vi(2),Xt.T=null,i)return i()}finally{Vi(p),Xt.T=h,me=s,!(me&6)&&li(0)}},ge.flushSyncWork=Bh,ge.focusWithin=function(i,s){if(!qu)throw Error(o(363));for(i=Qr(i),s=jl(i,s),s=Array.from(s),i=0;i<s.length;){var h=s[i++],p=h.tag;if(!xs(h)){if((p===5||p===26||p===27)&&Gc(h.stateNode))return!0;for(h=h.child;h!==null;)s.push(h),h=h.sibling}}return!1},ge.getFindAllNodesFailureDescription=function(i,s){if(!qu)throw Error(o(363));var h=0,p=[];i=[Qr(i),0];for(var E=0;E<i.length;){var N=i[E++],J=N.tag,nt=i[E++],ft=s[nt];if((J!==5&&J!==26&&J!==27||!xs(N))&&(Oc(N,ft)&&(p.push($i(ft)),nt++,nt>h&&(h=nt)),nt<s.length))for(N=N.child;N!==null;)i.push(N,nt),N=N.sibling}if(h<s.length){for(i=[];h<s.length;h++)i.push($i(s[h]));return`findAllNodes was able to match part of the selector:
  `+(p.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},ge.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 27:case 5:return Ql(i.child.stateNode);default:return i.child.stateNode}},ge.injectIntoDevTools=function(){var i={bundleType:0,version:Gu,rendererPackageName:Fg,currentDispatcherRef:Xt,findFiberByHostInstance:Lc,reconcilerVersion:"19.0.0"};if(En!==null&&(i.rendererConfig=En),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{Fu=s.inject(i),qn=s}catch{}i=!!s.checkDCE}}return i},ge.isAlreadyRendering=function(){return!1},ge.observeVisibleRects=function(i,s,h,p){if(!qu)throw Error(o(363));i=Xr(i,s);var E=Hc(i,h,p).disconnect;return{disconnect:function(){E()}}},ge.shouldError=function(){return null},ge.shouldSuspend=function(){return!1},ge.startHostTransition=function(i,s,h,p){if(i.tag!==5)throw Error(o(476));var E=Gr(i).queue;Ro(i,E,s,Xl,h===null?u:function(){var N=Gr(i).next.queue;return Xi(i,N,{},_i()),h(p)})},ge.updateContainer=function(i,s,h,p){var E=s.current,N=_i();return Ms(E,N,i,s,h,p),N},ge.updateContainerSync=function(i,s,h,p){return s.tag===0&&Wr(),Ms(s.current,2,i,s,h,p),2},ge},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})}(Bm)),Bm.exports}var W2;function U5(){return W2||(W2=1,zm.exports=V5()),zm.exports}var z5=U5();const B5=m1(z5);var Lm={exports:{}},hu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function L5(){return $2||($2=1,hu.ConcurrentRoot=1,hu.ContinuousEventPriority=8,hu.DefaultEventPriority=32,hu.DiscreteEventPriority=2,hu.IdleEventPriority=268435456,hu.LegacyRoot=0,hu.NoEventPriority=0),hu}var ty;function G5(){return ty||(ty=1,Lm.exports=L5()),Lm.exports}var E1=G5(),H5=ye();const ey={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let ny=!1,iy=!1;const T1=".react-konva-event",q5=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,P5=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,I5={};function Dg(r,t,a=I5){if(!ny&&"zIndex"in t&&(console.warn(P5),ny=!0),!iy&&t.draggable){var u=t.x!==void 0||t.y!==void 0,o=t.onDragEnd||t.onDragMove;u&&!o&&(console.warn(q5),iy=!0)}for(var f in a)if(!ey[f]){var g=f.slice(0,2)==="on",y=a[f]!==t[f];if(g&&y){var _=f.substr(2).toLowerCase();_.substr(0,7)==="content"&&(_="content"+_.substr(7,1).toUpperCase()+_.substr(8)),r.off(_,a[f])}var S=!t.hasOwnProperty(f);S&&r.setAttr(f,void 0)}var b=t._useStrictMode,O={},U=!1;const D={};for(var f in t)if(!ey[f]){var g=f.slice(0,2)==="on",x=a[f]!==t[f];if(g&&x){var _=f.substr(2).toLowerCase();_.substr(0,7)==="content"&&(_="content"+_.substr(7,1).toUpperCase()+_.substr(8)),t[f]&&(D[_]=t[f])}!g&&(t[f]!==a[f]||b&&t[f]!==r.getAttr(f))&&(U=!0,O[f]=t[f])}U&&(r.setAttrs(O),_o(r));for(var _ in D)r.on(_+T1,D[_])}function _o(r){if(!H5.Konva.autoDrawEnabled){var t=r.getLayer()||r.getStage();t&&t.batchDraw()}}var Gm=p1();const v_={},j5={};og.Node.prototype._applyProps=Dg;let Ng=E1.DefaultEventPriority;function F5(r,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}r.add(t),_o(r)}function Y5(r,t,a){let u=og[r];u||(console.error(`Konva has no node with the type ${r}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${r}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),u=og.Group);const o={},f={};for(var g in t){var y=g.slice(0,2)==="on";y?f[g]=t[g]:o[g]=t[g]}const _=new u(o);return Dg(_,f),_}function k5(r,t,a){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${r}"`)}function K5(r,t,a){return!1}function Q5(r){return r}function X5(){return null}function Z5(){return null}function J5(r,t,a,u){return j5}function W5(){}function $5(r){}function t3(r,t){return!1}function e3(){return v_}function n3(){return v_}const i3=setTimeout,a3=clearTimeout,s3=-1;function r3(r,t){return!1}const l3=!1,u3=!0,o3=!0,c3=!1,h3=!1;function f3(r,t){t.parent===r?t.moveToTop():r.add(t),_o(r)}function d3(r,t){t.parent===r?t.moveToTop():r.add(t),_o(r)}function S_(r,t,a){t._remove(),r.add(t),t.setZIndex(a.getZIndex()),_o(r)}function g3(r,t,a){S_(r,t,a)}function m3(r,t){t.destroy(),t.off(T1),_o(r)}function p3(r,t){t.destroy(),t.off(T1),_o(r)}function y3(r,t,a){console.error(`Text components are not yet supported in ReactKonva. You text is: "${a}"`)}function _3(r,t,a){}function v3(r,t,a,u){Dg(r,u,a)}function S3(r){r.hide(),_o(r)}function E3(r){}function T3(r,t){(t.visible==null||t.visible)&&r.show()}function b3(r,t){}function A3(r){}function C3(){}function R3(){return Ng}function D3(){}function N3(){return null}function M3(r){Ng=r}function O3(){return Ng}function x3(){return Ng||E1.DefaultEventPriority}function w3(){return!1}function V3(){}function U3(){return!1}function z3(){return!0}function B3(){}function L3(){}function G3(){return null}const H3=null;function q3(){}const P3=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:H3,appendChild:f3,appendChildToContainer:d3,appendInitialChild:F5,cancelTimeout:a3,clearContainer:A3,commitMount:_3,commitTextUpdate:y3,commitUpdate:v3,createInstance:Y5,createTextInstance:k5,detachDeletedInstance:C3,finalizeInitialChildren:K5,getChildHostContext:n3,getCurrentEventPriority:R3,getCurrentUpdatePriority:O3,getInstanceFromScope:N3,getPublicInstance:Q5,getRootHostContext:e3,hideInstance:S3,hideTextInstance:E3,idlePriority:Gm.unstable_IdlePriority,insertBefore:S_,insertInContainerBefore:g3,isPrimaryRenderer:l3,maySuspendCommit:U3,noTimeout:s3,now:Gm.unstable_now,preloadInstance:z3,prepareForCommit:X5,preparePortalMount:Z5,prepareScopeUpdate:D3,prepareUpdate:J5,removeChild:m3,removeChildFromContainer:p3,requestPostPaintCallback:V3,resetAfterCommit:W5,resetFormInstance:q3,resetTextContent:$5,resolveUpdatePriority:x3,run:Gm.unstable_runWithPriority,scheduleTimeout:i3,setCurrentUpdatePriority:M3,shouldAttemptEagerTransition:w3,shouldDeprioritizeSubtree:t3,shouldSetTextContent:r3,startSuspendingCommit:B3,supportsHydration:h3,supportsMutation:o3,supportsPersistence:c3,suspendInstance:L3,unhideInstance:T3,unhideTextInstance:b3,waitForCommitToBeReady:G3,warnsIfNotActing:u3},Symbol.toStringTag,{value:"Module"}));var I3=Object.defineProperty,j3=Object.defineProperties,F3=Object.getOwnPropertyDescriptors,ay=Object.getOwnPropertySymbols,Y3=Object.prototype.hasOwnProperty,k3=Object.prototype.propertyIsEnumerable,sy=(r,t,a)=>t in r?I3(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,ry=(r,t)=>{for(var a in t||(t={}))Y3.call(t,a)&&sy(r,a,t[a]);if(ay)for(var a of ay(t))k3.call(t,a)&&sy(r,a,t[a]);return r},K3=(r,t)=>j3(r,F3(t)),ly,uy;typeof window<"u"&&((ly=window.document)!=null&&ly.createElement||((uy=window.navigator)==null?void 0:uy.product)==="ReactNative")?$e.useLayoutEffect:$e.useEffect;function E_(r,t,a){if(!r)return;if(a(r)===!0)return r;let u=r.child;for(;u;){const o=E_(u,t,a);if(o)return o;u=u.sibling}}function T_(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const oy=console.error;console.error=function(){const r=[...arguments].join("");if(r!=null&&r.startsWith("Warning:")&&r.includes("useContext")){console.error=oy;return}return oy.apply(this,arguments)};const b1=T_($e.createContext(null));class b_ extends $e.Component{render(){return $e.createElement(b1.Provider,{value:this._reactInternals},this.props.children)}}function Q3(){const r=$e.useContext(b1);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=$e.useId();return $e.useMemo(()=>{for(const u of[r,r==null?void 0:r.alternate]){if(!u)continue;const o=E_(u,!1,f=>{let g=f.memoizedState;for(;g;){if(g.memoizedState===t)return!0;g=g.next}});if(o)return o}},[r,t])}function X3(){const r=Q3(),[t]=$e.useState(()=>new Map);t.clear();let a=r;for(;a;){if(a.type&&typeof a.type=="object"){const o=a.type._context===void 0&&a.type.Provider===a.type?a.type:a.type._context;o&&o!==b1&&!t.has(o)&&t.set(o,$e.useContext(T_(o)))}a=a.return}return t}function Z3(){const r=X3();return $e.useMemo(()=>Array.from(r.keys()).reduce((t,a)=>u=>$e.createElement(t,null,$e.createElement(a.Provider,K3(ry({},u),{value:r.get(a)}))),t=>$e.createElement(b_,ry({},t))),[r])}if(la.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function J3(r){const t=la.useRef({});return la.useLayoutEffect(()=>{t.current=r}),la.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const W3=r=>{const t=la.useRef(null),a=la.useRef(null),u=la.useRef(null),o=J3(r),f=Z3(),g=y=>{const{forwardedRef:_}=r;_&&(typeof _=="function"?_(y):_.current=y)};return la.useLayoutEffect(()=>(a.current=new og.Stage({width:r.width,height:r.height,container:t.current}),g(a.current),u.current=yd.createContainer(a.current,E1.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),yd.updateContainer(la.createElement(f,{},r.children),u.current,null,()=>{}),()=>{g(null),yd.updateContainer(null,u.current,null),a.current.destroy()}),[]),la.useLayoutEffect(()=>{g(a.current),Dg(a.current,r,o),yd.updateContainer(la.createElement(f,{},r.children),u.current,null)}),la.createElement("div",{ref:t,id:r.id,accessKey:r.accessKey,className:r.className,role:r.role,style:r.style,tabIndex:r.tabIndex,title:r.title})},$3="Layer",t6="Line",e6="Path",yd=B5(P3);yd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:la.version,rendererPackageName:"react-konva"});const n6=la.forwardRef((r,t)=>la.createElement(b_,{},la.createElement(W3,{...r,forwardedRef:t}))),A1=r=>{const t=r.filter((S,b)=>b%2===0),a=r.filter((S,b)=>b%2===1),u=Math.min(...t),o=Math.max(...t),f=Math.min(...a),g=Math.max(...a),y=o-u||1,_=g-f||1;return r.map((S,b)=>b%2===0?(S-u)/y:(S-f)/_)},i6=r=>{const t=r.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g);let a=0,u=0;const o=[];return t==null||t.forEach(f=>{const g=f[0],y=f.slice(1).trim().split(/[\s,]+/).map(Number).filter(_=>!isNaN(_));g==="M"||g==="L"?(a=y[0],u=y[1],o.push(a,u)):g==="H"?(a=y[0],o.push(a,u)):g==="V"&&(u=y[0],o.push(a,u))}),A1(o)},cy=r=>{if([...new Set(r)].length<=2){console.warn("Very simple shape detected. Scaling to default range.");const a=Math.min(...r),u=Math.max(...r)||1;return r.map(o=>(o-a)/(u-a))}return A1(r)},hy=(r,t)=>r.length<t?[...r,...Array(t-r.length).fill(0)]:r,fy=(r,t,a=7)=>{const u=Math.max(r.length,t.length),o=hy(r,u),f=hy(t,u),g=o.reduce((b,O,U)=>b+Math.pow(O-f[U],2),0),_=Math.sqrt(g)/u,S=Math.max(0,1-_*a);return Math.min(S)},dy=(r,t)=>{const a=(r.length-1)/(t-1);return Array.from({length:t},(u,o)=>{const f=o*a,g=Math.floor(f),y=Math.min(g+1,r.length-1),_=f-g;return r[g]*(1-_)+r[y]*_})},a6=(r,t)=>{if(r.length<2||t.length<2)return console.warn("Insufficient points to calculate similarity"),0;const a=cy(r),u=cy(t);if(a.every(b=>b===0)||u.every(b=>b===0))return console.warn("One or both normalized paths are entirely zeros. Using fallback similarity."),fy(a,u);const o=Math.max(a.length,u.length),f=dy(a,o),g=dy(u,o),y=f.reduce((b,O,U)=>b+O*g[U],0),_=Math.sqrt(f.reduce((b,O)=>b+O*O,0)),S=Math.sqrt(g.reduce((b,O)=>b+O*O,0));return _===0||S===0?(console.warn("One or both paths have zero magnitude. Using fallback similarity."),fy(a,u)):y/(_*S)},s6=({svgPath:r,onComplete:t,onBack:a})=>{const[u,o]=$e.useState([]),[f,g]=$e.useState(!1),[y,_]=$e.useState(!1),[S,b]=$e.useState(null),O=400,U=400,D=R=>R.x>=0&&R.x<=O&&R.y>=0&&R.y<=U,x=R=>{const H=R.target.getStage().getPointerPosition();D(H)&&(g(!0),y||o([...u,{points:[H.x,H.y]}]))},z=R=>{if(!f)return;const H=R.target.getStage().getPointerPosition();if(D(H))if(y){const I=u.map(k=>{const j=[];for(let V=0;V<k.points.length;V+=2){const M=k.points[V],w=k.points[V+1];Math.hypot(H.x-M,H.y-w)>=10&&j.push(M,w)}return{points:j}}).filter(k=>k.points.length>0);o(I)}else{const I=u[u.length-1],k=u.slice(0,u.length-1);k.push({points:[...I.points,H.x,H.y]}),o(k)}},L=()=>{g(!1)},F=()=>{if(u.length===0){b("Please draw something on the canvas before submitting!"),setTimeout(()=>b(null),3e3);return}const R=u.flatMap(V=>V.points),H=A1(R),I=i6(r),k=a6(H,I),j=k>.5;b(j?`Great job! Similarity: ${(k*100).toFixed(2)}%`:`Keep practicing! Similarity: ${(k*100).toFixed(2)}%`),setTimeout(()=>{b(null),t(j,k)},2e3)},C=()=>{_(R=>!R)};return re.jsxs("div",{style:ro.container,children:[re.jsx(n6,{width:O,height:U,onMouseDown:x,onMouseMove:z,onMouseUp:L,style:{border:"1px solid black"},children:re.jsxs($3,{children:[re.jsx(e6,{data:r,stroke:"gray",strokeWidth:4,lineJoin:"round",x:150,y:100}),u.map((R,H)=>re.jsx(t6,{points:R.points,stroke:"black",strokeWidth:6,tension:.5,lineCap:"round"},H))]})}),re.jsxs("div",{style:ro.controls,children:[re.jsx("button",{style:y?ro.activeButton:ro.button,onClick:C,children:y?"Disable Eraser":"Enable Eraser"}),re.jsx("button",{style:ro.button,onClick:F,children:"Done Tracing"}),re.jsx("button",{style:ro.backButton,onClick:a,children:"Back"})]}),S&&re.jsx("div",{style:ro.feedbackPopup,children:re.jsx("p",{style:ro.feedbackText,children:S})})]})},ro={container:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},controls:{display:"flex",gap:"10px",marginTop:"10px"},button:{padding:"10px 20px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"background-color 0.3s ease"},activeButton:{padding:"10px 20px",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"background-color 0.3s ease"},backButton:{padding:"10px 20px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"background-color 0.3s ease"},feedbackPopup:{marginTop:"20px",padding:"15px 20px",borderRadius:"8px",backgroundColor:"#ffffff",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"2px solid #ccc",textAlign:"center"},feedbackText:{fontSize:"18px",fontWeight:"bold",color:"#333"}},r6=({path:r,width:t=400,height:a=400,viewBox:u="-100 -100 300 400"})=>re.jsx("div",{style:{...gy.svgWrapper,width:`${t}px`,height:`${a}px`},children:re.jsx("svg",{width:"100%",height:"100%",viewBox:u,preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",style:gy.svg,children:re.jsx("path",{d:r,stroke:"black",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),gy={svgWrapper:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",border:"4px dotted #A6C3BB",borderRadius:"16px",background:"#E6F2ED",boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.2)"},svg:{display:"block",maxWidth:"100%",maxHeight:"100%",filter:"drop-shadow(2px 4px 6px rgba(0, 0, 0, 0.2))"}};var my={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=function(r){const t=[];let a=0;for(let u=0;u<r.length;u++){let o=r.charCodeAt(u);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=o&63|128):(o&64512)===55296&&u+1<r.length&&(r.charCodeAt(u+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++u)&1023),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=o&63|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=o&63|128)}return t},l6=function(r){const t=[];let a=0,u=0;for(;a<r.length;){const o=r[a++];if(o<128)t[u++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[a++];t[u++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[a++],g=r[a++],y=r[a++],_=((o&7)<<18|(f&63)<<12|(g&63)<<6|y&63)-65536;t[u++]=String.fromCharCode(55296+(_>>10)),t[u++]=String.fromCharCode(56320+(_&1023))}else{const f=r[a++],g=r[a++];t[u++]=String.fromCharCode((o&15)<<12|(f&63)<<6|g&63)}}return t.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let o=0;o<r.length;o+=3){const f=r[o],g=o+1<r.length,y=g?r[o+1]:0,_=o+2<r.length,S=_?r[o+2]:0,b=f>>2,O=(f&3)<<4|y>>4;let U=(y&15)<<2|S>>6,D=S&63;_||(D=64,g||(U=64)),u.push(a[b],a[O],a[U],a[D])}return u.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(A_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):l6(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let o=0;o<r.length;){const f=a[r.charAt(o++)],y=o<r.length?a[r.charAt(o)]:0;++o;const S=o<r.length?a[r.charAt(o)]:64;++o;const O=o<r.length?a[r.charAt(o)]:64;if(++o,f==null||y==null||S==null||O==null)throw new u6;const U=f<<2|y>>4;if(u.push(U),S!==64){const D=y<<4&240|S>>2;if(u.push(D),O!==64){const x=S<<6&192|O;u.push(x)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class u6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o6=function(r){const t=A_(r);return C_.encodeByteArray(t,!0)},cg=function(r){return o6(r).replace(/\./g,"")},c6=function(r){try{return C_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=()=>h6().__FIREBASE_DEFAULTS__,d6=()=>{if(typeof process>"u"||typeof my>"u")return;const r=my.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},g6=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&c6(r[1]);return t&&JSON.parse(t)},C1=()=>{try{return f6()||d6()||g6()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m6=r=>{var t,a;return(a=(t=C1())===null||t===void 0?void 0:t.emulatorHosts)===null||a===void 0?void 0:a[r]},p6=r=>{const t=m6(r);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const u=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),u]:[t.substring(0,a),u]},R_=()=>{var r;return(r=C1())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,u)=>{a?this.reject(a):this.resolve(u),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,u))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},u=t||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g=Object.assign({iss:`https://securetoken.google.com/${u}`,aud:u,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},r);return[cg(JSON.stringify(a)),cg(JSON.stringify(g)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S6(){var r;const t=(r=C1())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E6(){return!S6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T6(){try{return typeof indexedDB=="object"}catch{return!1}}function b6(){return new Promise((r,t)=>{try{let a=!0;const u="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(u);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(u),r(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var f;t(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="FirebaseError";class Th extends Error{constructor(t,a,u){super(a),this.code=t,this.customData=u,this.name=A6,Object.setPrototypeOf(this,Th.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D_.prototype.create)}}class D_{constructor(t,a,u){this.service=t,this.serviceName=a,this.errors=u}create(t,...a){const u=a[0]||{},o=`${this.service}/${t}`,f=this.errors[t],g=f?C6(f,u):"Error",y=`${this.serviceName}: ${g} (${o}).`;return new Th(o,y,u)}}function C6(r,t){return r.replace(R6,(a,u)=>{const o=t[u];return o!=null?String(o):`<${u}?>`})}const R6=/\{\$([^}]+)}/g;function Xm(r,t){if(r===t)return!0;const a=Object.keys(r),u=Object.keys(t);for(const o of a){if(!u.includes(o))return!1;const f=r[o],g=t[o];if(py(f)&&py(g)){if(!Xm(f,g))return!1}else if(f!==g)return!1}for(const o of u)if(!a.includes(o))return!1;return!0}function py(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r){return r&&r._delegate?r._delegate:r}class Cd{constructor(t,a,u){this.name=t,this.instanceFactory=a,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const u=new y6;if(this.instancesDeferred.set(a,u),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&u.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){var a;const u=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(a=t==null?void 0:t.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(u)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:u})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(M6(t))try{this.getOrInitializeService({instanceIdentifier:cc})}catch{}for(const[a,u]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:o});u.resolve(f)}catch{}}}}clearInstance(t=cc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=cc){return this.instances.has(t)}getOptions(t=cc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:u,options:a});for(const[f,g]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);u===y&&g.resolve(o)}return o}onInit(t,a){var u;const o=this.normalizeInstanceIdentifier(a),f=(u=this.onInitCallbacks.get(o))!==null&&u!==void 0?u:new Set;f.add(t),this.onInitCallbacks.set(o,f);const g=this.instances.get(o);return g&&t(g,o),()=>{f.delete(t)}}invokeOnInitCallbacks(t,a){const u=this.onInitCallbacks.get(a);if(u)for(const o of u)try{o(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let u=this.instances.get(t);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:N6(t),options:a}),this.instances.set(t,u),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(u,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,u)}catch{}return u||null}normalizeInstanceIdentifier(t=cc){return this.component?this.component.multipleInstances?t:cc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N6(r){return r===cc?void 0:r}function M6(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new D6(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const x6={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},w6=ze.INFO,V6={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},U6=(r,t,...a)=>{if(t<r.logLevel)return;const u=new Date().toISOString(),o=V6[t];if(o)console[o](`[${u}]  ${r.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class N_{constructor(t){this.name=t,this._logLevel=w6,this._logHandler=U6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ze))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?x6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...t),this._logHandler(this,ze.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...t),this._logHandler(this,ze.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...t),this._logHandler(this,ze.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...t),this._logHandler(this,ze.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...t),this._logHandler(this,ze.ERROR,...t)}}const z6=(r,t)=>t.some(a=>r instanceof a);let yy,_y;function B6(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L6(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M_=new WeakMap,Zm=new WeakMap,O_=new WeakMap,Hm=new WeakMap,R1=new WeakMap;function G6(r){const t=new Promise((a,u)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",g)},f=()=>{a(uo(r.result)),o()},g=()=>{u(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",g)});return t.then(a=>{a instanceof IDBCursor&&M_.set(a,r)}).catch(()=>{}),R1.set(t,r),t}function H6(r){if(Zm.has(r))return;const t=new Promise((a,u)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",g),r.removeEventListener("abort",g)},f=()=>{a(),o()},g=()=>{u(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",g),r.addEventListener("abort",g)});Zm.set(r,t)}let Jm={get(r,t,a){if(r instanceof IDBTransaction){if(t==="done")return Zm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||O_.get(r);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return uo(r[t])},set(r,t,a){return r[t]=a,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function q6(r){Jm=r(Jm)}function P6(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const u=r.call(qm(this),t,...a);return O_.set(u,t.sort?t.sort():[t]),uo(u)}:L6().includes(r)?function(...t){return r.apply(qm(this),t),uo(M_.get(this))}:function(...t){return uo(r.apply(qm(this),t))}}function I6(r){return typeof r=="function"?P6(r):(r instanceof IDBTransaction&&H6(r),z6(r,B6())?new Proxy(r,Jm):r)}function uo(r){if(r instanceof IDBRequest)return G6(r);if(Hm.has(r))return Hm.get(r);const t=I6(r);return t!==r&&(Hm.set(r,t),R1.set(t,r)),t}const qm=r=>R1.get(r);function j6(r,t,{blocked:a,upgrade:u,blocking:o,terminated:f}={}){const g=indexedDB.open(r,t),y=uo(g);return u&&g.addEventListener("upgradeneeded",_=>{u(uo(g.result),_.oldVersion,_.newVersion,uo(g.transaction),_)}),a&&g.addEventListener("blocked",_=>a(_.oldVersion,_.newVersion,_)),y.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",S=>o(S.oldVersion,S.newVersion,S))}).catch(()=>{}),y}const F6=["get","getKey","getAll","getAllKeys","count"],Y6=["put","add","delete","clear"],Pm=new Map;function vy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pm.get(t))return Pm.get(t);const a=t.replace(/FromIndex$/,""),u=t!==a,o=Y6.includes(a);if(!(a in(u?IDBIndex:IDBObjectStore).prototype)||!(o||F6.includes(a)))return;const f=async function(g,...y){const _=this.transaction(g,o?"readwrite":"readonly");let S=_.store;return u&&(S=S.index(y.shift())),(await Promise.all([S[a](...y),o&&_.done]))[0]};return Pm.set(t,f),f}q6(r=>({...r,get:(t,a,u)=>vy(t,a)||r.get(t,a,u),has:(t,a)=>!!vy(t,a)||r.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(K6(a)){const u=a.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(a=>a).join(" ")}}function K6(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wm="@firebase/app",Sy="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new N_("@firebase/app"),Q6="@firebase/app-compat",X6="@firebase/analytics-compat",Z6="@firebase/analytics",J6="@firebase/app-check-compat",W6="@firebase/app-check",$6="@firebase/auth",t9="@firebase/auth-compat",e9="@firebase/database",n9="@firebase/data-connect",i9="@firebase/database-compat",a9="@firebase/functions",s9="@firebase/functions-compat",r9="@firebase/installations",l9="@firebase/installations-compat",u9="@firebase/messaging",o9="@firebase/messaging-compat",c9="@firebase/performance",h9="@firebase/performance-compat",f9="@firebase/remote-config",d9="@firebase/remote-config-compat",g9="@firebase/storage",m9="@firebase/storage-compat",p9="@firebase/firestore",y9="@firebase/vertexai",_9="@firebase/firestore-compat",v9="firebase",S9="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",E9={[Wm]:"fire-core",[Q6]:"fire-core-compat",[Z6]:"fire-analytics",[X6]:"fire-analytics-compat",[W6]:"fire-app-check",[J6]:"fire-app-check-compat",[$6]:"fire-auth",[t9]:"fire-auth-compat",[e9]:"fire-rtdb",[n9]:"fire-data-connect",[i9]:"fire-rtdb-compat",[a9]:"fire-fn",[s9]:"fire-fn-compat",[r9]:"fire-iid",[l9]:"fire-iid-compat",[u9]:"fire-fcm",[o9]:"fire-fcm-compat",[c9]:"fire-perf",[h9]:"fire-perf-compat",[f9]:"fire-rc",[d9]:"fire-rc-compat",[g9]:"fire-gcs",[m9]:"fire-gcs-compat",[p9]:"fire-fst",[_9]:"fire-fst-compat",[y9]:"fire-vertex","fire-js":"fire-js",[v9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map,T9=new Map,t1=new Map;function Ey(r,t){try{r.container.addComponent(t)}catch(a){du.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,a)}}function dg(r){const t=r.name;if(t1.has(t))return du.debug(`There were multiple attempts to register component ${t}.`),!1;t1.set(t,r);for(const a of fg.values())Ey(a,r);for(const a of T9.values())Ey(a,r);return!0}function b9(r,t){const a=r.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),r.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new D_("app","Firebase",A9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(t,a,u){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=u,this.container.addComponent(new Cd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=S9;function x_(r,t={}){let a=r;typeof t!="object"&&(t={name:t});const u=Object.assign({name:$m,automaticDataCollectionEnabled:!1},t),o=u.name;if(typeof o!="string"||!o)throw oo.create("bad-app-name",{appName:String(o)});if(a||(a=R_()),!a)throw oo.create("no-options");const f=fg.get(o);if(f){if(Xm(a,f.options)&&Xm(u,f.config))return f;throw oo.create("duplicate-app",{appName:o})}const g=new O6(o);for(const _ of t1.values())g.addComponent(_);const y=new C9(a,u,g);return fg.set(o,y),y}function D9(r=$m){const t=fg.get(r);if(!t&&r===$m&&R_())return x_();if(!t)throw oo.create("no-app",{appName:r});return t}function dh(r,t,a){var u;let o=(u=E9[r])!==null&&u!==void 0?u:r;a&&(o+=`-${a}`);const f=o.match(/\s|\//),g=t.match(/\s|\//);if(f||g){const y=[`Unable to register library "${o}" with version "${t}":`];f&&y.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&g&&y.push("and"),g&&y.push(`version name "${t}" contains illegal characters (whitespace or "/")`),du.warn(y.join(" "));return}dg(new Cd(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="firebase-heartbeat-database",M9=1,Rd="firebase-heartbeat-store";let Im=null;function w_(){return Im||(Im=j6(N9,M9,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Rd)}catch(a){console.warn(a)}}}}).catch(r=>{throw oo.create("idb-open",{originalErrorMessage:r.message})})),Im}async function O9(r){try{const a=(await w_()).transaction(Rd),u=await a.objectStore(Rd).get(V_(r));return await a.done,u}catch(t){if(t instanceof Th)du.warn(t.message);else{const a=oo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});du.warn(a.message)}}}async function Ty(r,t){try{const u=(await w_()).transaction(Rd,"readwrite");await u.objectStore(Rd).put(t,V_(r)),await u.done}catch(a){if(a instanceof Th)du.warn(a.message);else{const u=oo.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});du.warn(u.message)}}}function V_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=1024,w9=30*24*60*60*1e3;class V9{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new z9(a),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){var t,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=by();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(g=>g.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(g=>{const y=new Date(g.date).valueOf();return Date.now()-y<=w9}),this._storage.overwrite(this._heartbeatsCache))}catch(u){du.warn(u)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=by(),{heartbeatsToSend:u,unsentEntries:o}=U9(this._heartbeatsCache.heartbeats),f=cg(JSON.stringify({version:2,heartbeats:u}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return du.warn(a),""}}}function by(){return new Date().toISOString().substring(0,10)}function U9(r,t=x9){const a=[];let u=r.slice();for(const o of r){const f=a.find(g=>g.agent===o.agent);if(f){if(f.dates.push(o.date),Ay(a)>t){f.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),Ay(a)>t){a.pop();break}u=u.slice(1)}return{heartbeatsToSend:a,unsentEntries:u}}class z9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T6()?b6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await O9(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(a=t.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(a=t.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ay(r){return cg(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(r){dg(new Cd("platform-logger",t=>new k6(t),"PRIVATE")),dg(new Cd("heartbeat",t=>new V9(t),"PRIVATE")),dh(Wm,Sy,r),dh(Wm,Sy,"esm2017"),dh("fire-js","")}B9("");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,U_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(j,V){function M(){}M.prototype=V.prototype,j.D=V.prototype,j.prototype=new M,j.prototype.constructor=j,j.C=function(w,q,K){for(var T=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)T[Y-2]=arguments[Y];return V.prototype[q].apply(w,T)}}function a(){this.blockSize=-1}function u(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(u,a),u.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,V,M){M||(M=0);var w=Array(16);if(typeof V=="string")for(var q=0;16>q;++q)w[q]=V.charCodeAt(M++)|V.charCodeAt(M++)<<8|V.charCodeAt(M++)<<16|V.charCodeAt(M++)<<24;else for(q=0;16>q;++q)w[q]=V[M++]|V[M++]<<8|V[M++]<<16|V[M++]<<24;V=j.g[0],M=j.g[1],q=j.g[2];var K=j.g[3],T=V+(K^M&(q^K))+w[0]+3614090360&4294967295;V=M+(T<<7&4294967295|T>>>25),T=K+(q^V&(M^q))+w[1]+3905402710&4294967295,K=V+(T<<12&4294967295|T>>>20),T=q+(M^K&(V^M))+w[2]+606105819&4294967295,q=K+(T<<17&4294967295|T>>>15),T=M+(V^q&(K^V))+w[3]+3250441966&4294967295,M=q+(T<<22&4294967295|T>>>10),T=V+(K^M&(q^K))+w[4]+4118548399&4294967295,V=M+(T<<7&4294967295|T>>>25),T=K+(q^V&(M^q))+w[5]+1200080426&4294967295,K=V+(T<<12&4294967295|T>>>20),T=q+(M^K&(V^M))+w[6]+2821735955&4294967295,q=K+(T<<17&4294967295|T>>>15),T=M+(V^q&(K^V))+w[7]+4249261313&4294967295,M=q+(T<<22&4294967295|T>>>10),T=V+(K^M&(q^K))+w[8]+1770035416&4294967295,V=M+(T<<7&4294967295|T>>>25),T=K+(q^V&(M^q))+w[9]+2336552879&4294967295,K=V+(T<<12&4294967295|T>>>20),T=q+(M^K&(V^M))+w[10]+4294925233&4294967295,q=K+(T<<17&4294967295|T>>>15),T=M+(V^q&(K^V))+w[11]+2304563134&4294967295,M=q+(T<<22&4294967295|T>>>10),T=V+(K^M&(q^K))+w[12]+1804603682&4294967295,V=M+(T<<7&4294967295|T>>>25),T=K+(q^V&(M^q))+w[13]+4254626195&4294967295,K=V+(T<<12&4294967295|T>>>20),T=q+(M^K&(V^M))+w[14]+2792965006&4294967295,q=K+(T<<17&4294967295|T>>>15),T=M+(V^q&(K^V))+w[15]+1236535329&4294967295,M=q+(T<<22&4294967295|T>>>10),T=V+(q^K&(M^q))+w[1]+4129170786&4294967295,V=M+(T<<5&4294967295|T>>>27),T=K+(M^q&(V^M))+w[6]+3225465664&4294967295,K=V+(T<<9&4294967295|T>>>23),T=q+(V^M&(K^V))+w[11]+643717713&4294967295,q=K+(T<<14&4294967295|T>>>18),T=M+(K^V&(q^K))+w[0]+3921069994&4294967295,M=q+(T<<20&4294967295|T>>>12),T=V+(q^K&(M^q))+w[5]+3593408605&4294967295,V=M+(T<<5&4294967295|T>>>27),T=K+(M^q&(V^M))+w[10]+38016083&4294967295,K=V+(T<<9&4294967295|T>>>23),T=q+(V^M&(K^V))+w[15]+3634488961&4294967295,q=K+(T<<14&4294967295|T>>>18),T=M+(K^V&(q^K))+w[4]+3889429448&4294967295,M=q+(T<<20&4294967295|T>>>12),T=V+(q^K&(M^q))+w[9]+568446438&4294967295,V=M+(T<<5&4294967295|T>>>27),T=K+(M^q&(V^M))+w[14]+3275163606&4294967295,K=V+(T<<9&4294967295|T>>>23),T=q+(V^M&(K^V))+w[3]+4107603335&4294967295,q=K+(T<<14&4294967295|T>>>18),T=M+(K^V&(q^K))+w[8]+1163531501&4294967295,M=q+(T<<20&4294967295|T>>>12),T=V+(q^K&(M^q))+w[13]+2850285829&4294967295,V=M+(T<<5&4294967295|T>>>27),T=K+(M^q&(V^M))+w[2]+4243563512&4294967295,K=V+(T<<9&4294967295|T>>>23),T=q+(V^M&(K^V))+w[7]+1735328473&4294967295,q=K+(T<<14&4294967295|T>>>18),T=M+(K^V&(q^K))+w[12]+2368359562&4294967295,M=q+(T<<20&4294967295|T>>>12),T=V+(M^q^K)+w[5]+4294588738&4294967295,V=M+(T<<4&4294967295|T>>>28),T=K+(V^M^q)+w[8]+2272392833&4294967295,K=V+(T<<11&4294967295|T>>>21),T=q+(K^V^M)+w[11]+1839030562&4294967295,q=K+(T<<16&4294967295|T>>>16),T=M+(q^K^V)+w[14]+4259657740&4294967295,M=q+(T<<23&4294967295|T>>>9),T=V+(M^q^K)+w[1]+2763975236&4294967295,V=M+(T<<4&4294967295|T>>>28),T=K+(V^M^q)+w[4]+1272893353&4294967295,K=V+(T<<11&4294967295|T>>>21),T=q+(K^V^M)+w[7]+4139469664&4294967295,q=K+(T<<16&4294967295|T>>>16),T=M+(q^K^V)+w[10]+3200236656&4294967295,M=q+(T<<23&4294967295|T>>>9),T=V+(M^q^K)+w[13]+681279174&4294967295,V=M+(T<<4&4294967295|T>>>28),T=K+(V^M^q)+w[0]+3936430074&4294967295,K=V+(T<<11&4294967295|T>>>21),T=q+(K^V^M)+w[3]+3572445317&4294967295,q=K+(T<<16&4294967295|T>>>16),T=M+(q^K^V)+w[6]+76029189&4294967295,M=q+(T<<23&4294967295|T>>>9),T=V+(M^q^K)+w[9]+3654602809&4294967295,V=M+(T<<4&4294967295|T>>>28),T=K+(V^M^q)+w[12]+3873151461&4294967295,K=V+(T<<11&4294967295|T>>>21),T=q+(K^V^M)+w[15]+530742520&4294967295,q=K+(T<<16&4294967295|T>>>16),T=M+(q^K^V)+w[2]+3299628645&4294967295,M=q+(T<<23&4294967295|T>>>9),T=V+(q^(M|~K))+w[0]+4096336452&4294967295,V=M+(T<<6&4294967295|T>>>26),T=K+(M^(V|~q))+w[7]+1126891415&4294967295,K=V+(T<<10&4294967295|T>>>22),T=q+(V^(K|~M))+w[14]+2878612391&4294967295,q=K+(T<<15&4294967295|T>>>17),T=M+(K^(q|~V))+w[5]+4237533241&4294967295,M=q+(T<<21&4294967295|T>>>11),T=V+(q^(M|~K))+w[12]+1700485571&4294967295,V=M+(T<<6&4294967295|T>>>26),T=K+(M^(V|~q))+w[3]+2399980690&4294967295,K=V+(T<<10&4294967295|T>>>22),T=q+(V^(K|~M))+w[10]+4293915773&4294967295,q=K+(T<<15&4294967295|T>>>17),T=M+(K^(q|~V))+w[1]+2240044497&4294967295,M=q+(T<<21&4294967295|T>>>11),T=V+(q^(M|~K))+w[8]+1873313359&4294967295,V=M+(T<<6&4294967295|T>>>26),T=K+(M^(V|~q))+w[15]+4264355552&4294967295,K=V+(T<<10&4294967295|T>>>22),T=q+(V^(K|~M))+w[6]+2734768916&4294967295,q=K+(T<<15&4294967295|T>>>17),T=M+(K^(q|~V))+w[13]+1309151649&4294967295,M=q+(T<<21&4294967295|T>>>11),T=V+(q^(M|~K))+w[4]+4149444226&4294967295,V=M+(T<<6&4294967295|T>>>26),T=K+(M^(V|~q))+w[11]+3174756917&4294967295,K=V+(T<<10&4294967295|T>>>22),T=q+(V^(K|~M))+w[2]+718787259&4294967295,q=K+(T<<15&4294967295|T>>>17),T=M+(K^(q|~V))+w[9]+3951481745&4294967295,j.g[0]=j.g[0]+V&4294967295,j.g[1]=j.g[1]+(q+(T<<21&4294967295|T>>>11))&4294967295,j.g[2]=j.g[2]+q&4294967295,j.g[3]=j.g[3]+K&4294967295}u.prototype.u=function(j,V){V===void 0&&(V=j.length);for(var M=V-this.blockSize,w=this.B,q=this.h,K=0;K<V;){if(q==0)for(;K<=M;)o(this,j,K),K+=this.blockSize;if(typeof j=="string"){for(;K<V;)if(w[q++]=j.charCodeAt(K++),q==this.blockSize){o(this,w),q=0;break}}else for(;K<V;)if(w[q++]=j[K++],q==this.blockSize){o(this,w),q=0;break}}this.h=q,this.o+=V},u.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var V=1;V<j.length-8;++V)j[V]=0;var M=8*this.o;for(V=j.length-8;V<j.length;++V)j[V]=M&255,M/=256;for(this.u(j),j=Array(16),V=M=0;4>V;++V)for(var w=0;32>w;w+=8)j[M++]=this.g[V]>>>w&255;return j};function f(j,V){var M=y;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=V(j)}function g(j,V){this.h=V;for(var M=[],w=!0,q=j.length-1;0<=q;q--){var K=j[q]|0;w&&K==V||(M[q]=K,w=!1)}this.g=M}var y={};function _(j){return-128<=j&&128>j?f(j,function(V){return new g([V|0],0>V?-1:0)}):new g([j|0],0>j?-1:0)}function S(j){if(isNaN(j)||!isFinite(j))return O;if(0>j)return L(S(-j));for(var V=[],M=1,w=0;j>=M;w++)V[w]=j/M|0,M*=4294967296;return new g(V,0)}function b(j,V){if(j.length==0)throw Error("number format error: empty string");if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(j.charAt(0)=="-")return L(b(j.substring(1),V));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=S(Math.pow(V,8)),w=O,q=0;q<j.length;q+=8){var K=Math.min(8,j.length-q),T=parseInt(j.substring(q,q+K),V);8>K?(K=S(Math.pow(V,K)),w=w.j(K).add(S(T))):(w=w.j(M),w=w.add(S(T)))}return w}var O=_(0),U=_(1),D=_(16777216);r=g.prototype,r.m=function(){if(z(this))return-L(this).m();for(var j=0,V=1,M=0;M<this.g.length;M++){var w=this.i(M);j+=(0<=w?w:4294967296+w)*V,V*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(x(this))return"0";if(z(this))return"-"+L(this).toString(j);for(var V=S(Math.pow(j,6)),M=this,w="";;){var q=H(M,V).g;M=F(M,q.j(V));var K=((0<M.g.length?M.g[0]:M.h)>>>0).toString(j);if(M=q,x(M))return K+w;for(;6>K.length;)K="0"+K;w=K+w}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function x(j){if(j.h!=0)return!1;for(var V=0;V<j.g.length;V++)if(j.g[V]!=0)return!1;return!0}function z(j){return j.h==-1}r.l=function(j){return j=F(this,j),z(j)?-1:x(j)?0:1};function L(j){for(var V=j.g.length,M=[],w=0;w<V;w++)M[w]=~j.g[w];return new g(M,~j.h).add(U)}r.abs=function(){return z(this)?L(this):this},r.add=function(j){for(var V=Math.max(this.g.length,j.g.length),M=[],w=0,q=0;q<=V;q++){var K=w+(this.i(q)&65535)+(j.i(q)&65535),T=(K>>>16)+(this.i(q)>>>16)+(j.i(q)>>>16);w=T>>>16,K&=65535,T&=65535,M[q]=T<<16|K}return new g(M,M[M.length-1]&-2147483648?-1:0)};function F(j,V){return j.add(L(V))}r.j=function(j){if(x(this)||x(j))return O;if(z(this))return z(j)?L(this).j(L(j)):L(L(this).j(j));if(z(j))return L(this.j(L(j)));if(0>this.l(D)&&0>j.l(D))return S(this.m()*j.m());for(var V=this.g.length+j.g.length,M=[],w=0;w<2*V;w++)M[w]=0;for(w=0;w<this.g.length;w++)for(var q=0;q<j.g.length;q++){var K=this.i(w)>>>16,T=this.i(w)&65535,Y=j.i(q)>>>16,P=j.i(q)&65535;M[2*w+2*q]+=T*P,C(M,2*w+2*q),M[2*w+2*q+1]+=K*P,C(M,2*w+2*q+1),M[2*w+2*q+1]+=T*Y,C(M,2*w+2*q+1),M[2*w+2*q+2]+=K*Y,C(M,2*w+2*q+2)}for(w=0;w<V;w++)M[w]=M[2*w+1]<<16|M[2*w];for(w=V;w<2*V;w++)M[w]=0;return new g(M,0)};function C(j,V){for(;(j[V]&65535)!=j[V];)j[V+1]+=j[V]>>>16,j[V]&=65535,V++}function R(j,V){this.g=j,this.h=V}function H(j,V){if(x(V))throw Error("division by zero");if(x(j))return new R(O,O);if(z(j))return V=H(L(j),V),new R(L(V.g),L(V.h));if(z(V))return V=H(j,L(V)),new R(L(V.g),V.h);if(30<j.g.length){if(z(j)||z(V))throw Error("slowDivide_ only works with positive integers.");for(var M=U,w=V;0>=w.l(j);)M=I(M),w=I(w);var q=k(M,1),K=k(w,1);for(w=k(w,2),M=k(M,2);!x(w);){var T=K.add(w);0>=T.l(j)&&(q=q.add(M),K=T),w=k(w,1),M=k(M,1)}return V=F(j,q.j(V)),new R(q,V)}for(q=O;0<=j.l(V);){for(M=Math.max(1,Math.floor(j.m()/V.m())),w=Math.ceil(Math.log(M)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),K=S(M),T=K.j(V);z(T)||0<T.l(j);)M-=w,K=S(M),T=K.j(V);x(K)&&(K=U),q=q.add(K),j=F(j,T)}return new R(q,j)}r.A=function(j){return H(this,j).h},r.and=function(j){for(var V=Math.max(this.g.length,j.g.length),M=[],w=0;w<V;w++)M[w]=this.i(w)&j.i(w);return new g(M,this.h&j.h)},r.or=function(j){for(var V=Math.max(this.g.length,j.g.length),M=[],w=0;w<V;w++)M[w]=this.i(w)|j.i(w);return new g(M,this.h|j.h)},r.xor=function(j){for(var V=Math.max(this.g.length,j.g.length),M=[],w=0;w<V;w++)M[w]=this.i(w)^j.i(w);return new g(M,this.h^j.h)};function I(j){for(var V=j.g.length+1,M=[],w=0;w<V;w++)M[w]=j.i(w)<<1|j.i(w-1)>>>31;return new g(M,j.h)}function k(j,V){var M=V>>5;V%=32;for(var w=j.g.length-M,q=[],K=0;K<w;K++)q[K]=0<V?j.i(K+M)>>>V|j.i(K+M+1)<<32-V:j.i(K+M);return new g(q,j.h)}u.prototype.digest=u.prototype.v,u.prototype.reset=u.prototype.s,u.prototype.update=u.prototype.u,U_=u,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=S,g.fromString=b,co=g}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z_,_d,B_,ag,e1,L_,G_,H_;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,A,B){return d==Array.prototype||d==Object.prototype||(d[A]=B.value),d};function a(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof W0=="object"&&W0];for(var A=0;A<d.length;++A){var B=d[A];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var u=a(this);function o(d,A){if(A)t:{var B=u;d=d.split(".");for(var W=0;W<d.length-1;W++){var ut=d[W];if(!(ut in B))break t;B=B[ut]}d=d[d.length-1],W=B[d],A=A(W),A!=W&&A!=null&&t(B,d,{configurable:!0,writable:!0,value:A})}}function f(d,A){d instanceof String&&(d+="");var B=0,W=!1,ut={next:function(){if(!W&&B<d.length){var vt=B++;return{value:A(vt,d[vt]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ut[Symbol.iterator]=function(){return ut},ut}o("Array.prototype.values",function(d){return d||function(){return f(this,function(A,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var g=g||{},y=this||self;function _(d){var A=typeof d;return A=A!="object"?A:d?Array.isArray(d)?"array":A:"null",A=="array"||A=="object"&&typeof d.length=="number"}function S(d){var A=typeof d;return A=="object"&&d!=null||A=="function"}function b(d,A,B){return d.call.apply(d.bind,arguments)}function O(d,A,B){if(!d)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ut=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ut,W),d.apply(A,ut)}}return function(){return d.apply(A,arguments)}}function U(d,A,B){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:O,U.apply(null,arguments)}function D(d,A){var B=Array.prototype.slice.call(arguments,1);return function(){var W=B.slice();return W.push.apply(W,arguments),d.apply(this,W)}}function x(d,A){function B(){}B.prototype=A.prototype,d.aa=A.prototype,d.prototype=new B,d.prototype.constructor=d,d.Qb=function(W,ut,vt){for(var Bt=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)Bt[_e-2]=arguments[_e];return A.prototype[ut].apply(W,Bt)}}function z(d){const A=d.length;if(0<A){const B=Array(A);for(let W=0;W<A;W++)B[W]=d[W];return B}return[]}function L(d,A){for(let B=1;B<arguments.length;B++){const W=arguments[B];if(_(W)){const ut=d.length||0,vt=W.length||0;d.length=ut+vt;for(let Bt=0;Bt<vt;Bt++)d[ut+Bt]=W[Bt]}else d.push(W)}}class F{constructor(A,B){this.i=A,this.j=B,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function C(d){return/^[\s\xa0]*$/.test(d)}function R(){var d=y.navigator;return d&&(d=d.userAgent)?d:""}function H(d){return H[" "](d),d}H[" "]=function(){};var I=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function k(d,A,B){for(const W in d)A.call(B,d[W],W,d)}function j(d,A){for(const B in d)A.call(void 0,d[B],B,d)}function V(d){const A={};for(const B in d)A[B]=d[B];return A}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(d,A){let B,W;for(let ut=1;ut<arguments.length;ut++){W=arguments[ut];for(B in W)d[B]=W[B];for(let vt=0;vt<M.length;vt++)B=M[vt],Object.prototype.hasOwnProperty.call(W,B)&&(d[B]=W[B])}}function q(d){var A=1;d=d.split(":");const B=[];for(;0<A&&d.length;)B.push(d.shift()),A--;return d.length&&B.push(d.join(":")),B}function K(d){y.setTimeout(()=>{throw d},0)}function T(){var d=dt;let A=null;return d.g&&(A=d.g,d.g=d.g.next,d.g||(d.h=null),A.next=null),A}class Y{constructor(){this.h=this.g=null}add(A,B){const W=P.get();W.set(A,B),this.h?this.h.next=W:this.g=W,this.h=W}}var P=new F(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(A,B){this.h=A,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let $,at=!1,dt=new Y,Q=()=>{const d=y.Promise.resolve(void 0);$=()=>{d.then(it)}};var it=()=>{for(var d;d=T();){try{d.h.call(d.g)}catch(B){K(B)}var A=P;A.j(d),100>A.h&&(A.h++,d.next=A.g,A.g=d)}at=!1};function St(){this.s=this.s,this.C=this.C}St.prototype.s=!1,St.prototype.ma=function(){this.s||(this.s=!0,this.N())},St.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(d,A){this.type=d,this.g=this.target=A,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var d=!1,A=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const B=()=>{};y.addEventListener("test",B,A),y.removeEventListener("test",B,A)}catch{}return d}();function Ct(d,A){if(st.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var B=this.type=d.type,W=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=A,A=d.relatedTarget){if(I){t:{try{H(A.nodeName);var ut=!0;break t}catch{}ut=!1}ut||(A=null)}}else B=="mouseover"?A=d.fromElement:B=="mouseout"&&(A=d.toElement);this.relatedTarget=A,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Mt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ct.aa.h.call(this)}}x(Ct,st);var Mt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),ct=0;function At(d,A,B,W,ut){this.listener=d,this.proxy=null,this.src=A,this.type=B,this.capture=!!W,this.ha=ut,this.key=++ct,this.da=this.fa=!1}function Rt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function zt(d){this.src=d,this.g={},this.h=0}zt.prototype.add=function(d,A,B,W,ut){var vt=d.toString();d=this.g[vt],d||(d=this.g[vt]=[],this.h++);var Bt=Jt(d,A,W,ut);return-1<Bt?(A=d[Bt],B||(A.fa=!1)):(A=new At(A,this.src,vt,!!W,ut),A.fa=B,d.push(A)),A};function Gt(d,A){var B=A.type;if(B in d.g){var W=d.g[B],ut=Array.prototype.indexOf.call(W,A,void 0),vt;(vt=0<=ut)&&Array.prototype.splice.call(W,ut,1),vt&&(Rt(A),d.g[B].length==0&&(delete d.g[B],d.h--))}}function Jt(d,A,B,W){for(var ut=0;ut<d.length;++ut){var vt=d[ut];if(!vt.da&&vt.listener==A&&vt.capture==!!B&&vt.ha==W)return ut}return-1}var le="closure_lm_"+(1e6*Math.random()|0),Yt={};function je(d,A,B,W,ut){if(Array.isArray(A)){for(var vt=0;vt<A.length;vt++)je(d,A[vt],B,W,ut);return null}return B=Mi(B),d&&d[et]?d.K(A,B,S(W)?!!W.capture:!1,ut):se(d,A,B,!1,W,ut)}function se(d,A,B,W,ut,vt){if(!A)throw Error("Invalid event type");var Bt=S(ut)?!!ut.capture:!!ut,_e=Kn(d);if(_e||(d[le]=_e=new zt(d)),B=_e.add(A,B,W,Bt,vt),B.proxy)return B;if(W=Fe(),B.proxy=W,W.src=d,W.listener=B,d.addEventListener)gt||(ut=Bt),ut===void 0&&(ut=!1),d.addEventListener(A.toString(),W,ut);else if(d.attachEvent)d.attachEvent(li(A.toString()),W);else if(d.addListener&&d.removeListener)d.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Fe(){function d(B){return A.call(d.src,d.listener,B)}const A=tn;return d}function di(d,A,B,W,ut){if(Array.isArray(A))for(var vt=0;vt<A.length;vt++)di(d,A[vt],B,W,ut);else W=S(W)?!!W.capture:!!W,B=Mi(B),d&&d[et]?(d=d.i,A=String(A).toString(),A in d.g&&(vt=d.g[A],B=Jt(vt,B,W,ut),-1<B&&(Rt(vt[B]),Array.prototype.splice.call(vt,B,1),vt.length==0&&(delete d.g[A],d.h--)))):d&&(d=Kn(d))&&(A=d.g[A.toString()],d=-1,A&&(d=Jt(A,B,W,ut)),(B=-1<d?A[d]:null)&&He(B))}function He(d){if(typeof d!="number"&&d&&!d.da){var A=d.src;if(A&&A[et])Gt(A.i,d);else{var B=d.type,W=d.proxy;A.removeEventListener?A.removeEventListener(B,W,d.capture):A.detachEvent?A.detachEvent(li(B),W):A.addListener&&A.removeListener&&A.removeListener(W),(B=Kn(A))?(Gt(B,d),B.h==0&&(B.src=null,A[le]=null)):Rt(d)}}}function li(d){return d in Yt?Yt[d]:Yt[d]="on"+d}function tn(d,A){if(d.da)d=!0;else{A=new Ct(A,this);var B=d.listener,W=d.ha||d.src;d.fa&&He(d),d=B.call(W,A)}return d}function Kn(d){return d=d[le],d instanceof zt?d:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mi(d){return typeof d=="function"?d:(d[en]||(d[en]=function(A){return d.handleEvent(A)}),d[en])}function Ce(){St.call(this),this.i=new zt(this),this.M=this,this.F=null}x(Ce,St),Ce.prototype[et]=!0,Ce.prototype.removeEventListener=function(d,A,B,W){di(this,d,A,B,W)};function qe(d,A){var B,W=d.F;if(W)for(B=[];W;W=W.F)B.push(W);if(d=d.M,W=A.type||A,typeof A=="string")A=new st(A,d);else if(A instanceof st)A.target=A.target||d;else{var ut=A;A=new st(W,d),w(A,ut)}if(ut=!0,B)for(var vt=B.length-1;0<=vt;vt--){var Bt=A.g=B[vt];ut=Qn(Bt,W,!0,A)&&ut}if(Bt=A.g=d,ut=Qn(Bt,W,!0,A)&&ut,ut=Qn(Bt,W,!1,A)&&ut,B)for(vt=0;vt<B.length;vt++)Bt=A.g=B[vt],ut=Qn(Bt,W,!1,A)&&ut}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var d=this.i,A;for(A in d.g){for(var B=d.g[A],W=0;W<B.length;W++)Rt(B[W]);delete d.g[A],d.h--}}this.F=null},Ce.prototype.K=function(d,A,B,W){return this.i.add(String(d),A,!1,B,W)},Ce.prototype.L=function(d,A,B,W){return this.i.add(String(d),A,!0,B,W)};function Qn(d,A,B,W){if(A=d.i.g[String(A)],!A)return!0;A=A.concat();for(var ut=!0,vt=0;vt<A.length;++vt){var Bt=A[vt];if(Bt&&!Bt.da&&Bt.capture==B){var _e=Bt.listener,yn=Bt.ha||Bt.src;Bt.fa&&Gt(d.i,Bt),ut=_e.call(yn,W)!==!1&&ut}}return ut&&!W.defaultPrevented}function ca(d,A,B){if(typeof d=="function")B&&(d=U(d,B));else if(d&&typeof d.handleEvent=="function")d=U(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:y.setTimeout(d,A||0)}function ji(d){d.g=ca(()=>{d.g=null,d.i&&(d.i=!1,ji(d))},d.l);const A=d.h;d.h=null,d.m.apply(null,A)}class ha extends St{constructor(A,B){super(),this.m=A,this.l=B,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zn(d){St.call(this),this.h=d,this.g={}}x(zn,St);var nn=[];function be(d){k(d.g,function(A,B){this.g.hasOwnProperty(B)&&He(A)},d),d.g={}}zn.prototype.N=function(){zn.aa.N.call(this),be(this)},zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=y.JSON.stringify,Fi=y.JSON.parse,Xn=class{stringify(d){return y.JSON.stringify(d,void 0)}parse(d){return y.JSON.parse(d,void 0)}};function js(){}js.prototype.h=null;function vo(d){return d.h||(d.h=d.i())}function So(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fs(){st.call(this,"d")}x(Fs,st);function Yi(){st.call(this,"c")}x(Yi,st);var ga={},Ys=null;function ks(){return Ys=Ys||new Ce}ga.La="serverreachability";function Ks(d){st.call(this,ga.La,d)}x(Ks,st);function Ja(d){const A=ks();qe(A,new Ks(A))}ga.STAT_EVENT="statevent";function Nl(d,A){st.call(this,ga.STAT_EVENT,d),this.stat=A}x(Nl,st);function vn(d){const A=ks();qe(A,new Nl(A,d))}ga.Ma="timingevent";function Eo(d,A){st.call(this,ga.Ma,d),this.size=A}x(Eo,st);function _s(d,A){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){d()},A)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function Wa(d,A,B,W,ut,vt){d.info(function(){if(d.g)if(vt)for(var Bt="",_e=vt.split("&"),yn=0;yn<_e.length;yn++){var ve=_e[yn].split("=");if(1<ve.length){var An=ve[0];ve=ve[1];var Bn=An.split("_");Bt=2<=Bn.length&&Bn[1]=="type"?Bt+(An+"="+ve+"&"):Bt+(An+"=redacted&")}}else Bt=null;else Bt=vt;return"XMLHTTP REQ ("+W+") [attempt "+ut+"]: "+A+`
`+B+`
`+Bt})}function To(d,A,B,W,ut,vt,Bt){d.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ut+"]: "+A+`
`+B+`
`+vt+" "+Bt})}function Oi(d,A,B,W){d.info(function(){return"XMLHTTP TEXT ("+A+"): "+bn(d,B)+(W?" "+W:"")})}function ei(d,A){d.info(function(){return"TIMEOUT: "+A})}vs.prototype.info=function(){};function bn(d,A){if(!d.g)return A;if(!A)return null;try{var B=JSON.parse(A);if(B){for(d=0;d<B.length;d++)if(Array.isArray(B[d])){var W=B[d];if(!(2>W.length)){var ut=W[1];if(Array.isArray(ut)&&!(1>ut.length)){var vt=ut[0];if(vt!="noop"&&vt!="stop"&&vt!="close")for(var Bt=1;Bt<ut.length;Bt++)ut[Bt]=""}}}}return fa(B)}catch{return A}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$a={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qs;function Ml(){}x(Ml,js),Ml.prototype.g=function(){return new XMLHttpRequest},Ml.prototype.i=function(){return{}},Qs=new Ml;function ts(d,A,B,W){this.j=d,this.i=A,this.l=B,this.R=W||1,this.U=new zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bo}function bo(){this.i=null,this.g="",this.h=!1}var Ss={},Xs={};function ma(d,A,B){d.L=1,d.v=zr(mn(A)),d.m=B,d.P=!0,Sn(d,null)}function Sn(d,A){d.F=Date.now(),an(d),d.A=mn(d.v);var B=d.A,W=d.R;Array.isArray(W)||(W=[String(W)]),bs(B.i,"t",W),d.C=0,B=d.j.J,d.h=new bo,d.g=xa(d.j,B?A:null,!d.m),0<d.O&&(d.M=new ha(U(d.Y,d,d.g),d.O)),A=d.U,B=d.g,W=d.ca;var ut="readystatechange";Array.isArray(ut)||(ut&&(nn[0]=ut.toString()),ut=nn);for(var vt=0;vt<ut.length;vt++){var Bt=je(B,ut[vt],W||A.handleEvent,!1,A.h||A);if(!Bt)break;A.g[Bt.key]=Bt}A=d.H?V(d.H):{},d.m?(d.u||(d.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,A)):(d.u="GET",d.g.ea(d.A,d.u,null,A)),Ja(),Wa(d.i,d.u,d.A,d.l,d.R,d.m)}ts.prototype.ca=function(d){d=d.target;const A=this.M;A&&va(d)==3?A.j():this.Y(d)},ts.prototype.Y=function(d){try{if(d==this.g)t:{const Bn=va(this.g);var A=this.g.Ba();const Cn=this.g.Z();if(!(3>Bn)&&(Bn!=3||this.g&&(this.h.h||this.g.oa()||No(this.g)))){this.J||Bn!=4||A==7||(A==8||0>=Cn?Ja(3):Ja(2)),ki(this);var B=this.g.Z();this.X=B;e:if(Ze(this)){var W=No(this.g);d="";var ut=W.length,vt=va(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),gi(this);var Bt="";break e}this.h.i=new y.TextDecoder}for(A=0;A<ut;A++)this.h.h=!0,d+=this.h.i.decode(W[A],{stream:!(vt&&A==ut-1)});W.length=0,this.h.g+=d,this.C=0,Bt=this.h.g}else Bt=this.g.oa();if(this.o=B==200,To(this.i,this.u,this.A,this.l,this.R,Bn,B),this.o){if(this.T&&!this.K){e:{if(this.g){var _e,yn=this.g;if((_e=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(_e)){var ve=_e;break e}}ve=null}if(B=ve)Oi(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xi(this,B);else{this.o=!1,this.s=3,vn(12),mi(this),gi(this);break t}}if(this.P){B=!0;let ni;for(;!this.J&&this.C<Bt.length;)if(ni=Na(this,Bt),ni==Xs){Bn==4&&(this.s=4,vn(14),B=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==Ss){this.s=4,vn(15),Oi(this.i,this.l,Bt,"[Invalid Chunk]"),B=!1;break}else Oi(this.i,this.l,ni,null),xi(this,ni);if(Ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bn!=4||Bt.length!=0||this.h.h||(this.s=1,vn(16),B=!1),this.o=this.o&&B,!B)Oi(this.i,this.l,Bt,"[Invalid Chunked Response]"),mi(this),gi(this);else if(0<Bt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Bt.length),nr(An),An.M=!0,vn(11))}}else Oi(this.i,this.l,Bt,null),xi(this,Bt);Bn==4&&mi(this),this.o&&!this.J&&(Bn==4?bu(this.j,this):(this.o=!1,an(this)))}else Dh(this.g),B==400&&0<Bt.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),mi(this),gi(this)}}}catch{}finally{}};function Ze(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Na(d,A){var B=d.C,W=A.indexOf(`
`,B);return W==-1?Xs:(B=Number(A.substring(B,W)),isNaN(B)?Ss:(W+=1,W+B>A.length?Xs:(A=A.slice(W,W+B),d.C=W+B,A)))}ts.prototype.cancel=function(){this.J=!0,mi(this)};function an(d){d.S=Date.now()+d.I,Ol(d,d.I)}function Ol(d,A){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_s(U(d.ba,d),A)}function ki(d){d.B&&(y.clearTimeout(d.B),d.B=null)}ts.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ei(this.i,this.A),this.L!=2&&(Ja(),vn(17)),mi(this),this.s=2,gi(this)):Ol(this,this.S-d)};function gi(d){d.j.G==0||d.J||bu(d.j,d)}function mi(d){ki(d);var A=d.M;A&&typeof A.ma=="function"&&A.ma(),d.M=null,be(d.U),d.g&&(A=d.g,d.g=null,A.abort(),A.ma())}function xi(d,A){try{var B=d.j;if(B.G!=0&&(B.g==d||Zs(B.h,d))){if(!d.K&&Zs(B.h,d)&&B.G==3){try{var W=B.Da.g.parse(A)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ut=W;if(ut[0]==0){t:if(!B.u){if(B.g)if(B.g.F+3e3<d.F)Yr(B),Ul(B);else break t;Gl(B),vn(18)}}else B.za=ut[1],0<B.za-B.T&&37500>ut[2]&&B.F&&B.v==0&&!B.C&&(B.C=_s(U(B.Za,B),6e3));if(1>=Ao(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else As(B,11)}else if((d.K||B.g==d)&&Yr(B),!C(A))for(ut=B.Da.g.parse(A),A=0;A<ut.length;A++){let ve=ut[A];if(B.T=ve[0],ve=ve[1],B.G==2)if(ve[0]=="c"){B.K=ve[1],B.ia=ve[2];const An=ve[3];An!=null&&(B.la=An,B.j.info("VER="+B.la));const Bn=ve[4];Bn!=null&&(B.Aa=Bn,B.j.info("SVER="+B.Aa));const Cn=ve[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(W=1.5*Cn,B.L=W,B.j.info("backChannelRequestTimeoutMs_="+W)),W=B;const ni=d.g;if(ni){const Ua=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var vt=W.h;vt.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(vt.j=vt.l,vt.g=new Set,vt.h&&(Js(vt,vt.h),vt.h=null))}if(W.D){const Du=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Du&&(W.ya=Du,xe(W.I,W.D,Du))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-d.F,B.j.info("Handshake RTT: "+B.R+"ms")),W=B;var Bt=d;if(W.qa=Vo(W,W.J?W.ia:null,W.W),Bt.K){Ki(W.h,Bt);var _e=Bt,yn=W.L;yn&&(_e.I=yn),_e.B&&(ki(_e),an(_e)),W.g=Bt}else xo(W);0<B.i.length&&zl(B)}else ve[0]!="stop"&&ve[0]!="close"||As(B,7);else B.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?As(B,7):Tu(B):ve[0]!="noop"&&B.l&&B.l.ta(ve),B.v=0)}}Ja(4)}catch{}}var yc=class{constructor(d,A){this.g=d,this.map=A}};function pu(d){this.l=d||10,y.PerformanceNavigationTiming?(d=y.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yu(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ao(d){return d.h?1:d.g?d.g.size:0}function Zs(d,A){return d.h?d.h==A:d.g?d.g.has(A):!1}function Js(d,A){d.g?d.g.add(A):d.h=A}function Ki(d,A){d.h&&d.h==A?d.h=null:d.g&&d.g.has(A)&&d.g.delete(A)}pu.prototype.cancel=function(){if(this.i=pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pi(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let A=d.i;for(const B of d.g.values())A=A.concat(B.D);return A}return z(d.i)}function _c(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(_(d)){for(var A=[],B=d.length,W=0;W<B;W++)A.push(d[W]);return A}A=[],B=0;for(W in d)A[B++]=d[W];return A}function vc(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(_(d)||typeof d=="string"){var A=[];d=d.length;for(var B=0;B<d;B++)A.push(B);return A}A=[],B=0;for(const W in d)A[B++]=W;return A}}}function wr(d,A){if(d.forEach&&typeof d.forEach=="function")d.forEach(A,void 0);else if(_(d)||typeof d=="string")Array.prototype.forEach.call(d,A,void 0);else for(var B=vc(d),W=_c(d),ut=W.length,vt=0;vt<ut;vt++)A.call(void 0,W[vt],B&&B[vt],d)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vr(d,A){if(d){d=d.split("&");for(var B=0;B<d.length;B++){var W=d[B].indexOf("="),ut=null;if(0<=W){var vt=d[B].substring(0,W);ut=d[B].substring(W+1)}else vt=d[B];A(vt,ut?decodeURIComponent(ut.replace(/\+/g," ")):"")}}}function Es(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Es){this.h=d.h,Ws(this,d.j),this.o=d.o,this.g=d.g,Ur(this,d.s),this.l=d.l;var A=d.i,B=new es;B.i=A.i,A.g&&(B.g=new Map(A.g),B.h=A.h),xl(this,B),this.m=d.m}else d&&(A=String(d).match(_u))?(this.h=!1,Ws(this,A[1]||"",!0),this.o=pa(A[2]||""),this.g=pa(A[3]||"",!0),Ur(this,A[4]),this.l=pa(A[5]||"",!0),xl(this,A[6]||"",!0),this.m=pa(A[7]||"")):(this.h=!1,this.i=new es(null,this.h))}Es.prototype.toString=function(){var d=[],A=this.j;A&&d.push(ya(A,Br,!0),":");var B=this.g;return(B||A=="file")&&(d.push("//"),(A=this.o)&&d.push(ya(A,Br,!0),"@"),d.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&d.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&d.push("/"),d.push(ya(B,B.charAt(0)=="/"?wl:Co,!0))),(B=this.i.toString())&&d.push("?",B),(B=this.m)&&d.push("#",ya(B,Ec)),d.join("")};function mn(d){return new Es(d)}function Ws(d,A,B){d.j=B?pa(A,!0):A,d.j&&(d.j=d.j.replace(/:$/,""))}function Ur(d,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);d.s=A}else d.s=null}function xl(d,A,B){A instanceof es?(d.i=A,Su(d.i,d.h)):(B||(A=ya(A,Sc)),d.i=new es(A,d.h))}function xe(d,A,B){d.i.set(A,B)}function zr(d){return xe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function pa(d,A){return d?A?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ya(d,A,B){return typeof d=="string"?(d=encodeURI(d).replace(A,vu),B&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Br=/[#\/\?@]/g,Co=/[#\?:]/g,wl=/[#\?]/g,Sc=/[#\?@]/g,Ec=/#/g;function es(d,A){this.h=this.g=null,this.i=d||null,this.j=!!A}function _a(d){d.g||(d.g=new Map,d.h=0,d.i&&Vr(d.i,function(A,B){d.add(decodeURIComponent(A.replace(/\+/g," ")),B)}))}r=es.prototype,r.add=function(d,A){_a(this),this.i=null,d=ns(this,d);var B=this.g.get(d);return B||this.g.set(d,B=[]),B.push(A),this.h+=1,this};function Lr(d,A){_a(d),A=ns(d,A),d.g.has(A)&&(d.i=null,d.h-=d.g.get(A).length,d.g.delete(A))}function Ts(d,A){return _a(d),A=ns(d,A),d.g.has(A)}r.forEach=function(d,A){_a(this),this.g.forEach(function(B,W){B.forEach(function(ut){d.call(A,ut,W,this)},this)},this)},r.na=function(){_a(this);const d=Array.from(this.g.values()),A=Array.from(this.g.keys()),B=[];for(let W=0;W<A.length;W++){const ut=d[W];for(let vt=0;vt<ut.length;vt++)B.push(A[W])}return B},r.V=function(d){_a(this);let A=[];if(typeof d=="string")Ts(this,d)&&(A=A.concat(this.g.get(ns(this,d))));else{d=Array.from(this.g.values());for(let B=0;B<d.length;B++)A=A.concat(d[B])}return A},r.set=function(d,A){return _a(this),this.i=null,d=ns(this,d),Ts(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[A]),this.h+=1,this},r.get=function(d,A){return d?(d=this.V(d),0<d.length?String(d[0]):A):A};function bs(d,A,B){Lr(d,A),0<B.length&&(d.i=null,d.g.set(ns(d,A),z(B)),d.h+=B.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],A=Array.from(this.g.keys());for(var B=0;B<A.length;B++){var W=A[B];const vt=encodeURIComponent(String(W)),Bt=this.V(W);for(W=0;W<Bt.length;W++){var ut=vt;Bt[W]!==""&&(ut+="="+encodeURIComponent(String(Bt[W]))),d.push(ut)}}return this.i=d.join("&")};function ns(d,A){return A=String(A),d.j&&(A=A.toLowerCase()),A}function Su(d,A){A&&!d.j&&(_a(d),d.i=null,d.g.forEach(function(B,W){var ut=W.toLowerCase();W!=ut&&(Lr(this,W),bs(this,ut,B))},d)),d.j=A}function Ro(d,A){const B=new vs;if(y.Image){const W=new Image;W.onload=D(Qi,B,"TestLoadImage: loaded",!0,A,W),W.onerror=D(Qi,B,"TestLoadImage: error",!1,A,W),W.onabort=D(Qi,B,"TestLoadImage: abort",!1,A,W),W.ontimeout=D(Qi,B,"TestLoadImage: timeout",!1,A,W),y.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=d}else A(!1)}function Gr(d,A){const B=new vs,W=new AbortController,ut=setTimeout(()=>{W.abort(),Qi(B,"TestPingServer: timeout",!1,A)},1e4);fetch(d,{signal:W.signal}).then(vt=>{clearTimeout(ut),vt.ok?Qi(B,"TestPingServer: ok",!0,A):Qi(B,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(ut),Qi(B,"TestPingServer: error",!1,A)})}function Qi(d,A,B,W,ut){try{ut&&(ut.onload=null,ut.onerror=null,ut.onabort=null,ut.ontimeout=null),W(B)}catch{}}function Hr(){this.g=new Xn}function is(d,A,B){const W=B||"";try{wr(d,function(ut,vt){let Bt=ut;S(ut)&&(Bt=fa(ut)),A.push(W+vt+"="+encodeURIComponent(Bt))})}catch(ut){throw A.push(W+"type="+encodeURIComponent("_badmap")),ut}}function qr(d){this.l=d.Ub||null,this.j=d.eb||!1}x(qr,js),qr.prototype.g=function(){return new $s(this.l,this.j)},qr.prototype.i=function(d){return function(){return d}}({});function $s(d,A){Ce.call(this),this.D=d,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x($s,Ce),r=$s.prototype,r.open=function(d,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=A,this.readyState=1,Ma(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(A.body=d),(this.D||y).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var A=d.value?d.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!d.done}))&&(this.response=this.responseText+=A)}d.done?Xi(this):Ma(this),this.readyState==3&&Eu(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Xi(this))},r.Qa=function(d){this.g&&(this.response=d,Xi(this))},r.ga=function(){this.g&&Xi(this)};function Xi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ma(d)}r.setRequestHeader=function(d,A){this.u.append(d,A)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],A=this.h.entries();for(var B=A.next();!B.done;)B=B.value,d.push(B[0]+": "+B[1]),B=A.next();return d.join(`\r
`)};function Ma(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Pr(d){let A="";return k(d,function(B,W){A+=W,A+=":",A+=B,A+=`\r
`}),A}function Zn(d,A,B){t:{for(W in B){var W=!1;break t}W=!0}W||(B=Pr(B),typeof d=="string"?B!=null&&encodeURIComponent(String(B)):xe(d,A,B))}function Be(d){Ce.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Be,Ce);var Ir=/^https?$/i,jr=["POST","PUT"];r=Be.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,A,B,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);A=A?A.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qs.g(),this.v=this.o?vo(this.o):vo(Qs),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(A,String(d),!0),this.B=!1}catch(vt){Do(this,vt);return}if(d=B||"",B=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ut in W)B.set(ut,W[ut]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const vt of W.keys())B.set(vt,W.get(vt));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(B.keys()).find(vt=>vt.toLowerCase()=="content-type"),ut=y.FormData&&d instanceof y.FormData,!(0<=Array.prototype.indexOf.call(jr,A,void 0))||W||ut||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[vt,Bt]of B)this.g.setRequestHeader(vt,Bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{er(this),this.u=!0,this.g.send(d),this.u=!1}catch(vt){Do(this,vt)}};function Do(d,A){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=A,d.m=5,Oa(d),as(d)}function Oa(d){d.A||(d.A=!0,qe(d,"complete"),qe(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,qe(this,"complete"),qe(this,"abort"),as(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Be.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?tr(this):this.bb())},r.bb=function(){tr(this)};function tr(d){if(d.h&&typeof g<"u"&&(!d.v[1]||va(d)!=4||d.Z()!=2)){if(d.u&&va(d)==4)ca(d.Ea,0,d);else if(qe(d,"readystatechange"),va(d)==4){d.h=!1;try{const Bt=d.Z();t:switch(Bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break t;default:A=!1}var B;if(!(B=A)){var W;if(W=Bt===0){var ut=String(d.D).match(_u)[1]||null;!ut&&y.self&&y.self.location&&(ut=y.self.location.protocol.slice(0,-1)),W=!Ir.test(ut?ut.toLowerCase():"")}B=W}if(B)qe(d,"complete"),qe(d,"success");else{d.m=6;try{var vt=2<va(d)?d.g.statusText:""}catch{vt=""}d.l=vt+" ["+d.Z()+"]",Oa(d)}}finally{as(d)}}}}function as(d,A){if(d.g){er(d);const B=d.g,W=d.v[0]?()=>{}:null;d.g=null,d.v=null,A||qe(d,"ready");try{B.onreadystatechange=W}catch{}}}function er(d){d.I&&(y.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function va(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<va(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var A=this.g.responseText;return d&&A.indexOf(d)==0&&(A=A.substring(d.length)),Fi(A)}};function No(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Dh(d){const A={};d=(d.g&&2<=va(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<d.length;W++){if(C(d[W]))continue;var B=q(d[W]);const ut=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const vt=A[ut]||[];A[ut]=vt,vt.push(B)}j(A,function(W){return W.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pn(d,A,B){return B&&B.internalChannelParams&&B.internalChannelParams[d]||A}function Vl(d){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pn("baseRetryDelayMs",5e3,d),this.cb=pn("retryDelaySeedMs",1e4,d),this.Wa=pn("forwardChannelMaxRetries",2,d),this.wa=pn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new pu(d&&d.concurrentRequestLimit),this.Da=new Hr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Vl.prototype,r.la=8,r.G=1,r.connect=function(d,A,B,W){vn(0),this.W=d,this.H=A||{},B&&W!==void 0&&(this.H.OSID=B,this.H.OAID=W),this.F=this.X,this.I=Vo(this,null,this.W),zl(this)};function Tu(d){if(Mo(d),d.G==3){var A=d.U++,B=mn(d.I);if(xe(B,"SID",d.K),xe(B,"RID",A),xe(B,"TYPE","terminate"),Fr(d,B),A=new ts(d,d.j,A),A.L=2,A.v=zr(mn(B)),B=!1,y.navigator&&y.navigator.sendBeacon)try{B=y.navigator.sendBeacon(A.v.toString(),"")}catch{}!B&&y.Image&&(new Image().src=A.v,B=!0),B||(A.g=xa(A.j,null),A.g.ea(A.v)),A.F=Date.now(),an(A)}Au(d)}function Ul(d){d.g&&(nr(d),d.g.cancel(),d.g=null)}function Mo(d){Ul(d),d.u&&(y.clearTimeout(d.u),d.u=null),Yr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&y.clearTimeout(d.s),d.s=null)}function zl(d){if(!yu(d.h)&&!d.s){d.s=!0;var A=d.Ga;$||Q(),at||($(),at=!0),dt.add(A,d),d.B=0}}function Bl(d,A){return Ao(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=A.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_s(U(d.Ga,d,A),Hl(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ut=new ts(this,this.j,d);let vt=this.o;if(this.S&&(vt?(vt=V(vt),w(vt,this.S)):vt=this.S),this.m!==null||this.O||(ut.H=vt,vt=null),this.P)t:{for(var A=0,B=0;B<this.i.length;B++){e:{var W=this.i[B];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break e}W=void 0}if(W===void 0)break;if(A+=W,4096<A){A=B;break t}if(A===4096||B===this.i.length-1){A=B+1;break t}}A=1e3}else A=1e3;A=Oo(this,ut,A),B=mn(this.I),xe(B,"RID",d),xe(B,"CVER",22),this.D&&xe(B,"X-HTTP-Session-Id",this.D),Fr(this,B),vt&&(this.O?A="headers="+encodeURIComponent(String(Pr(vt)))+"&"+A:this.m&&Zn(B,this.m,vt)),Js(this.h,ut),this.Ua&&xe(B,"TYPE","init"),this.P?(xe(B,"$req",A),xe(B,"SID","null"),ut.T=!0,ma(ut,B,null)):ma(ut,B,A),this.G=2}}else this.G==3&&(d?Ll(this,d):this.i.length==0||yu(this.h)||Ll(this))};function Ll(d,A){var B;A?B=A.l:B=d.U++;const W=mn(d.I);xe(W,"SID",d.K),xe(W,"RID",B),xe(W,"AID",d.T),Fr(d,W),d.m&&d.o&&Zn(W,d.m,d.o),B=new ts(d,d.j,B,d.B+1),d.m===null&&(B.H=d.o),A&&(d.i=A.D.concat(d.i)),A=Oo(d,B,1e3),B.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Js(d.h,B),ma(B,W,A)}function Fr(d,A){d.H&&k(d.H,function(B,W){xe(A,W,B)}),d.l&&wr({},function(B,W){xe(A,W,B)})}function Oo(d,A,B){B=Math.min(d.i.length,B);var W=d.l?U(d.l.Na,d.l,d):null;t:{var ut=d.i;let vt=-1;for(;;){const Bt=["count="+B];vt==-1?0<B?(vt=ut[0].g,Bt.push("ofs="+vt)):vt=0:Bt.push("ofs="+vt);let _e=!0;for(let yn=0;yn<B;yn++){let ve=ut[yn].g;const An=ut[yn].map;if(ve-=vt,0>ve)vt=Math.max(0,ut[yn].g-100),_e=!1;else try{is(An,Bt,"req"+ve+"_")}catch{W&&W(An)}}if(_e){W=Bt.join("&");break t}}}return d=d.i.splice(0,B),A.D=d,W}function xo(d){if(!d.g&&!d.u){d.Y=1;var A=d.Fa;$||Q(),at||($(),at=!0),dt.add(A,d),d.v=0}}function Gl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_s(U(d.Fa,d),Hl(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,wo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_s(U(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Ul(this),wo(this))};function nr(d){d.A!=null&&(y.clearTimeout(d.A),d.A=null)}function wo(d){d.g=new ts(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var A=mn(d.qa);xe(A,"RID","rpc"),xe(A,"SID",d.K),xe(A,"AID",d.T),xe(A,"CI",d.F?"0":"1"),!d.F&&d.ja&&xe(A,"TO",d.ja),xe(A,"TYPE","xmlhttp"),Fr(d,A),d.m&&d.o&&Zn(A,d.m,d.o),d.L&&(d.g.I=d.L);var B=d.g;d=d.ia,B.L=1,B.v=zr(mn(A)),B.m=null,B.P=!0,Sn(B,d)}r.Za=function(){this.C!=null&&(this.C=null,Ul(this),Gl(this),vn(19))};function Yr(d){d.C!=null&&(y.clearTimeout(d.C),d.C=null)}function bu(d,A){var B=null;if(d.g==A){Yr(d),nr(d),d.g=null;var W=2}else if(Zs(d.h,A))B=A.D,Ki(d.h,A),W=1;else return;if(d.G!=0){if(A.o)if(W==1){B=A.m?A.m.length:0,A=Date.now()-A.F;var ut=d.B;W=ks(),qe(W,new Eo(W,B)),zl(d)}else xo(d);else if(ut=A.s,ut==3||ut==0&&0<A.X||!(W==1&&Bl(d,A)||W==2&&Gl(d)))switch(B&&0<B.length&&(A=d.h,A.i=A.i.concat(B)),ut){case 1:As(d,5);break;case 4:As(d,10);break;case 3:As(d,6);break;default:As(d,2)}}}function Hl(d,A){let B=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(B*=2),B*A}function As(d,A){if(d.j.info("Error code "+A),A==2){var B=U(d.fb,d),W=d.Xa;const ut=!W;W=new Es(W||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Ws(W,"https"),zr(W),ut?Ro(W.toString(),B):Gr(W.toString(),B)}else vn(2);d.G=0,d.l&&d.l.sa(A),Au(d),Mo(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function Au(d){if(d.G=0,d.ka=[],d.l){const A=pi(d.h);(A.length!=0||d.i.length!=0)&&(L(d.ka,A),L(d.ka,d.i),d.h.i.length=0,z(d.i),d.i.length=0),d.l.ra()}}function Vo(d,A,B){var W=B instanceof Es?mn(B):new Es(B);if(W.g!="")A&&(W.g=A+"."+W.g),Ur(W,W.s);else{var ut=y.location;W=ut.protocol,A=A?A+"."+ut.hostname:ut.hostname,ut=+ut.port;var vt=new Es(null);W&&Ws(vt,W),A&&(vt.g=A),ut&&Ur(vt,ut),B&&(vt.l=B),W=vt}return B=d.D,A=d.ya,B&&A&&xe(W,B,A),xe(W,"VER",d.la),Fr(d,W),W}function xa(d,A,B){if(A&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=d.Ca&&!d.pa?new Be(new qr({eb:B})):new Be(d.pa),A.Ha(d.J),A}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}r=Cu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ru(){}Ru.prototype.g=function(d,A){return new yi(d,A)};function yi(d,A){Ce.call(this),this.g=new Vl(A),this.l=d,this.h=A&&A.messageUrlParams||null,d=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(d?d["X-WebChannel-Content-Type"]=A.messageContentType:d={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(d?d["X-WebChannel-Client-Profile"]=A.va:d={"X-WebChannel-Client-Profile":A.va}),this.g.S=d,(d=A&&A.Sb)&&!C(d)&&(this.g.m=d),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!C(A)&&(this.g.D=A,d=this.h,d!==null&&A in d&&(d=this.h,A in d&&delete d[A])),this.j=new Va(this)}x(yi,Ce),yi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yi.prototype.close=function(){Tu(this.g)},yi.prototype.o=function(d){var A=this.g;if(typeof d=="string"){var B={};B.__data__=d,d=B}else this.u&&(B={},B.__data__=fa(d),d=B);A.i.push(new yc(A.Ya++,d)),A.G==3&&zl(A)},yi.prototype.N=function(){this.g.l=null,delete this.j,Tu(this.g),delete this.g,yi.aa.N.call(this)};function ss(d){Fs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var A=d.__sm__;if(A){t:{for(const B in A){d=B;break t}d=void 0}(this.i=d)&&(d=this.i,A=A!==null&&d in A?A[d]:void 0),this.data=A}else this.data=d}x(ss,Fs);function wa(){Yi.call(this),this.status=1}x(wa,Yi);function Va(d){this.g=d}x(Va,Cu),Va.prototype.ua=function(){qe(this.g,"a")},Va.prototype.ta=function(d){qe(this.g,new ss(d))},Va.prototype.sa=function(d){qe(this.g,new wa)},Va.prototype.ra=function(){qe(this.g,"b")},Ru.prototype.createWebChannel=Ru.prototype.g,yi.prototype.send=yi.prototype.o,yi.prototype.open=yi.prototype.m,yi.prototype.close=yi.prototype.close,H_=function(){return new Ru},G_=function(){return ks()},L_=ga,e1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,ag=ue,$a.COMPLETE="complete",B_=$a,So.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,_d=So,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,z_=Be}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});const Ry="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ua.UNAUTHENTICATED=new ua(null),ua.GOOGLE_CREDENTIALS=new ua("google-credentials-uid"),ua.FIRST_PARTY=new ua("first-party-uid"),ua.MOCK_USER=new ua("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new N_("@firebase/firestore");function oh(){return fc.logLevel}function Ht(r,...t){if(fc.logLevel<=ze.DEBUG){const a=t.map(D1);fc.debug(`Firestore (${bh}): ${r}`,...a)}}function gu(r,...t){if(fc.logLevel<=ze.ERROR){const a=t.map(D1);fc.error(`Firestore (${bh}): ${r}`,...a)}}function mh(r,...t){if(fc.logLevel<=ze.WARN){const a=t.map(D1);fc.warn(`Firestore (${bh}): ${r}`,...a)}}function D1(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(a){return JSON.stringify(a)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(r="Unexpected state"){const t=`FIRESTORE (${bh}) INTERNAL ASSERTION FAILED: `+r;throw gu(t),new Error(t)}function Xe(r,t){r||ee()}function ae(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends Th{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable(()=>a(ua.UNAUTHENTICATED))}shutdown(){}}class G9{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class H9{constructor(t){this.t=t,this.currentUser=ua.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){Xe(this.o===void 0);let u=this.i;const o=_=>this.i!==u?(u=this.i,a(_)):Promise.resolve();let f=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ho,t.enqueueRetryable(()=>o(this.currentUser))};const g=()=>{const _=f;t.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},y=_=>{Ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(Ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ho)}},0),g()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(u=>this.i!==t?(Ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(Xe(typeof u.accessToken=="string"),new q_(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xe(t===null||typeof t=="string"),new ua(t)}}class q9{constructor(t,a,u){this.l=t,this.h=a,this.P=u,this.type="FirstParty",this.user=ua.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class P9{constructor(t,a,u){this.l=t,this.h=a,this.P=u}getToken(){return Promise.resolve(new q9(this.l,this.h,this.P))}start(t,a){t.enqueueRetryable(()=>a(ua.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I9{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j9{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,a){Xe(this.o===void 0);const u=f=>{f.error!=null&&Ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const g=f.token!==this.R;return this.R=f.token,Ht("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?a(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>u(f))};const o=f=>{Ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?o(f):Ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(a=>a?(Xe(typeof a.token=="string"),this.R=a.token,new I9(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let u=0;u<r;u++)a[u]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/t.length)*t.length;let u="";for(;u.length<20;){const o=F9(40);for(let f=0;f<o.length;++f)u.length<20&&o[f]<a&&(u+=t.charAt(o[f]%t.length))}return u}}function Oe(r,t){return r<t?-1:r>t?1:0}function ph(r,t,a){return r.length===t.length&&r.every((u,o)=>a(u,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{static now(){return hi.fromMillis(Date.now())}static fromDate(t){return hi.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),u=Math.floor(1e6*(t-1e3*a));return new hi(a,u)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new Kt(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new Kt(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<-62135596800)throw new Kt(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Kt(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Oe(this.nanoseconds,t.nanoseconds):Oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(t){return new ne(t)}static min(){return new ne(new hi(0,0))}static max(){return new ne(new hi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t,a,u){a===void 0?a=0:a>t.length&&ee(),u===void 0?u=t.length-a:u>t.length-a&&ee(),this.segments=t,this.offset=a,this.len=u}get length(){return this.len}isEqual(t){return bl.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof bl?t.forEach(u=>{a.push(u)}):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,u=this.limit();a<u;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const u=Math.min(t.length,a.length);for(let o=0;o<u;o++){const f=bl.compareSegments(t.get(o),a.get(o));if(f!==0)return f}return Math.sign(t.length-a.length)}static compareSegments(t,a){const u=bl.isNumericId(t),o=bl.isNumericId(a);return u&&!o?-1:!u&&o?1:u&&o?bl.extractNumericId(t).compare(bl.extractNumericId(a)):t<a?-1:t>a?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return co.fromString(t.substring(4,t.length-2))}}class Yn extends bl{construct(t,a,u){return new Yn(t,a,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const u of t){if(u.indexOf("//")>=0)throw new Kt(Ut.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);a.push(...u.split("/").filter(o=>o.length>0))}return new Yn(a)}static emptyPath(){return new Yn([])}}const Y9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends bl{construct(t,a,u){return new Pi(t,a,u)}static isValidIdentifier(t){return Y9.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pi(["__name__"])}static fromServerFormat(t){const a=[];let u="",o=0;const f=()=>{if(u.length===0)throw new Kt(Ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(u),u=""};let g=!1;for(;o<t.length;){const y=t[o];if(y==="\\"){if(o+1===t.length)throw new Kt(Ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Kt(Ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);u+=_,o+=2}else y==="`"?(g=!g,o++):y!=="."||g?(u+=y,o++):(f(),o++)}if(f(),g)throw new Kt(Ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pi(a)}static emptyPath(){return new Pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.path=t}static fromPath(t){return new Qt(Yn.fromString(t))}static fromName(t){return new Qt(Yn.fromString(t).popFirst(5))}static empty(){return new Qt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return Yn.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qt(new Yn(t.slice()))}}function k9(r,t){const a=r.toTimestamp().seconds,u=r.toTimestamp().nanoseconds+1,o=ne.fromTimestamp(u===1e9?new hi(a+1,0):new hi(a,u));return new fo(o,Qt.empty(),t)}function K9(r){return new fo(r.readTime,r.key,-1)}class fo{constructor(t,a,u){this.readTime=t,this.documentKey=a,this.largestBatchId=u}static min(){return new fo(ne.min(),Qt.empty(),-1)}static max(){return new fo(ne.max(),Qt.empty(),-1)}}function Q9(r,t){let a=r.readTime.compareTo(t.readTime);return a!==0?a:(a=Qt.comparator(r.documentKey,t.documentKey),a!==0?a:Oe(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(r){if(r.code!==Ut.FAILED_PRECONDITION||r.message!==X9)throw r;Ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new Nt((u,o)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(u,o)},this.catchCallback=f=>{this.wrapFailure(a,f).next(u,o)}})}toPromise(){return new Promise((t,a)=>{this.next(t,a)})}wrapUserFunction(t){try{const a=t();return a instanceof Nt?a:Nt.resolve(a)}catch(a){return Nt.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction(()=>t(a)):Nt.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction(()=>t(a)):Nt.reject(a)}static resolve(t){return new Nt((a,u)=>{a(t)})}static reject(t){return new Nt((a,u)=>{u(t)})}static waitFor(t){return new Nt((a,u)=>{let o=0,f=0,g=!1;t.forEach(y=>{++o,y.next(()=>{++f,g&&f===o&&a()},_=>u(_))}),g=!0,f===o&&a()})}static or(t){let a=Nt.resolve(!1);for(const u of t)a=a.next(o=>o?Nt.resolve(o):u());return a}static forEach(t,a){const u=[];return t.forEach((o,f)=>{u.push(a.call(this,o,f))}),this.waitFor(u)}static mapArray(t,a){return new Nt((u,o)=>{const f=t.length,g=new Array(f);let y=0;for(let _=0;_<f;_++){const S=_;a(t[S]).next(b=>{g[S]=b,++y,y===f&&u(g)},b=>o(b))}})}static doWhile(t,a){return new Nt((u,o)=>{const f=()=>{t()===!0?a().next(()=>{f()},o):u()};f()})}}function J9(r){const t=r.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function Ch(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=u=>this.ie(u),this.se=u=>a.writeSequenceNumber(u))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Mg.oe=-1;function Og(r){return r==null}function gg(r){return r===0&&1/r==-1/0}function W9(r){return typeof r=="number"&&Number.isInteger(r)&&!gg(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(r){let t="";for(let a=0;a<r.length;a++)t.length>0&&(t=Dy(t)),t=tS(r.get(a),t);return Dy(t)}function tS(r,t){let a=t;const u=r.length;for(let o=0;o<u;o++){const f=r.charAt(o);switch(f){case"\0":a+="";break;case"":a+="";break;default:a+=f}}return a}function Dy(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(r){let t=0;for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&t++;return t}function dc(r,t){for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&t(a,r[a])}function I_(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,a){this.comparator=t,this.root=a||qi.EMPTY}insert(t,a){return new Un(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(t){return new Un(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qi.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const u=this.comparator(t,a.key);if(u===0)return a.value;u<0?a=a.left:u>0&&(a=a.right)}return null}indexOf(t){let a=0,u=this.root;for(;!u.isEmpty();){const o=this.comparator(t,u.key);if(o===0)return a+u.left.size;o<0?u=u.left:(a+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((a,u)=>(t(a,u),!1))}toString(){const t=[];return this.inorderTraversal((a,u)=>(t.push(`${a}:${u}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $0(this.root,t,this.comparator,!1)}getReverseIterator(){return new $0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $0(this.root,t,this.comparator,!0)}}class $0{constructor(t,a,u,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=a?u(t.key,a):1,a&&o&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(f===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qi{constructor(t,a,u,o,f){this.key=t,this.value=a,this.color=u??qi.RED,this.left=o??qi.EMPTY,this.right=f??qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,u,o,f){return new qi(t??this.key,a??this.value,u??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,u){let o=this;const f=u(t,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(t,a,u),null):f===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(t,a,u)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let u,o=this;if(a(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(t,o.key)===0){if(o.right.isEmpty())return qi.EMPTY;u=o.right.min(),o=o.copy(u.key,u.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const t=this.left.check();if(t!==this.right.check())throw ee();return t+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1;qi.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(t,a,u,o,f){return this}insert(t,a,u){return new qi(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.comparator=t,this.data=new Un(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((a,u)=>(t(a),!1))}forEachInRange(t,a){const u=this.data.getIteratorFrom(t[0]);for(;u.hasNext();){const o=u.getNext();if(this.comparator(o.key,t[1])>=0)return;a(o.key)}}forEachWhile(t,a){let u;for(u=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();u.hasNext();)if(!t(u.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(t){return new My(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach(u=>{a=a.add(u)}),a}isEqual(t){if(!(t instanceof fi)||this.size!==t.size)return!1;const a=this.data.getIterator(),u=t.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,f=u.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(a=>{t.push(a)}),t}toString(){const t=[];return this.forEach(a=>t.push(a)),"SortedSet("+t.toString()+")"}copy(t){const a=new fi(this.comparator);return a.data=t,a}}class My{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.fields=t,t.sort(Pi.comparator)}static empty(){return new xr([])}unionWith(t){let a=new fi(Pi.comparator);for(const u of this.fields)a=a.add(u);for(const u of t)a=a.add(u);return new xr(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return ph(this.fields,t.fields,(a,u)=>a.isEqual(u))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this.binaryString=t}static fromBase64String(t){const a=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new j_("Invalid base64 string: "+f):f}}(t);return new Ii(a)}static fromUint8Array(t){const a=function(o){let f="";for(let g=0;g<o.length;++g)f+=String.fromCharCode(o[g]);return f}(t);return new Ii(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(a){return btoa(a)}(this.binaryString)}toUint8Array(){return function(a){const u=new Uint8Array(a.length);for(let o=0;o<a.length;o++)u[o]=a.charCodeAt(o);return u}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const eS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(r){if(Xe(!!r),typeof r=="string"){let t=0;const a=eS.exec(r);if(Xe(!!a),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),t=Number(o)}const u=new Date(r);return{seconds:Math.floor(u.getTime()/1e3),nanos:t}}return{seconds:$n(r.seconds),nanos:$n(r.nanos)}}function $n(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function mo(r){return typeof r=="string"?Ii.fromBase64String(r):Ii.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r){var t,a;return((a=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||a===void 0?void 0:a.stringValue)==="server_timestamp"}function xg(r){const t=r.mapValue.fields.__previous_value__;return N1(t)?xg(t):t}function Dd(r){const t=go(r.mapValue.fields.__local_write_time__.timestampValue);return new hi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,a,u,o,f,g,y,_,S){this.databaseId=t,this.appId=a,this.persistenceKey=u,this.host=o,this.ssl=f,this.forceLongPolling=g,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=S}}class Nd{constructor(t,a){this.projectId=t,this.database=a||"(default)"}static empty(){return new Nd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Nd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function po(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?N1(r)?4:aS(r)?9007199254740991:iS(r)?10:11:ee()}function Rl(r,t){if(r===t)return!0;const a=po(r);if(a!==po(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dd(r).isEqual(Dd(t));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const g=go(o.timestampValue),y=go(f.timestampValue);return g.seconds===y.seconds&&g.nanos===y.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,f){return mo(o.bytesValue).isEqual(mo(f.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,f){return $n(o.geoPointValue.latitude)===$n(f.geoPointValue.latitude)&&$n(o.geoPointValue.longitude)===$n(f.geoPointValue.longitude)}(r,t);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return $n(o.integerValue)===$n(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const g=$n(o.doubleValue),y=$n(f.doubleValue);return g===y?gg(g)===gg(y):isNaN(g)&&isNaN(y)}return!1}(r,t);case 9:return ph(r.arrayValue.values||[],t.arrayValue.values||[],Rl);case 10:case 11:return function(o,f){const g=o.mapValue.fields||{},y=f.mapValue.fields||{};if(Ny(g)!==Ny(y))return!1;for(const _ in g)if(g.hasOwnProperty(_)&&(y[_]===void 0||!Rl(g[_],y[_])))return!1;return!0}(r,t);default:return ee()}}function Md(r,t){return(r.values||[]).find(a=>Rl(a,t))!==void 0}function yh(r,t){if(r===t)return 0;const a=po(r),u=po(t);if(a!==u)return Oe(a,u);switch(a){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,t.booleanValue);case 2:return function(f,g){const y=$n(f.integerValue||f.doubleValue),_=$n(g.integerValue||g.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1}(r,t);case 3:return Oy(r.timestampValue,t.timestampValue);case 4:return Oy(Dd(r),Dd(t));case 5:return Oe(r.stringValue,t.stringValue);case 6:return function(f,g){const y=mo(f),_=mo(g);return y.compareTo(_)}(r.bytesValue,t.bytesValue);case 7:return function(f,g){const y=f.split("/"),_=g.split("/");for(let S=0;S<y.length&&S<_.length;S++){const b=Oe(y[S],_[S]);if(b!==0)return b}return Oe(y.length,_.length)}(r.referenceValue,t.referenceValue);case 8:return function(f,g){const y=Oe($n(f.latitude),$n(g.latitude));return y!==0?y:Oe($n(f.longitude),$n(g.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return xy(r.arrayValue,t.arrayValue);case 10:return function(f,g){var y,_,S,b;const O=f.fields||{},U=g.fields||{},D=(y=O.value)===null||y===void 0?void 0:y.arrayValue,x=(_=U.value)===null||_===void 0?void 0:_.arrayValue,z=Oe(((S=D==null?void 0:D.values)===null||S===void 0?void 0:S.length)||0,((b=x==null?void 0:x.values)===null||b===void 0?void 0:b.length)||0);return z!==0?z:xy(D,x)}(r.mapValue,t.mapValue);case 11:return function(f,g){if(f===tg.mapValue&&g===tg.mapValue)return 0;if(f===tg.mapValue)return 1;if(g===tg.mapValue)return-1;const y=f.fields||{},_=Object.keys(y),S=g.fields||{},b=Object.keys(S);_.sort(),b.sort();for(let O=0;O<_.length&&O<b.length;++O){const U=Oe(_[O],b[O]);if(U!==0)return U;const D=yh(y[_[O]],S[b[O]]);if(D!==0)return D}return Oe(_.length,b.length)}(r.mapValue,t.mapValue);default:throw ee()}}function Oy(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Oe(r,t);const a=go(r),u=go(t),o=Oe(a.seconds,u.seconds);return o!==0?o:Oe(a.nanos,u.nanos)}function xy(r,t){const a=r.values||[],u=t.values||[];for(let o=0;o<a.length&&o<u.length;++o){const f=yh(a[o],u[o]);if(f)return f}return Oe(a.length,u.length)}function _h(r){return n1(r)}function n1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(a){const u=go(a);return`time(${u.seconds},${u.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(a){return mo(a).toBase64()}(r.bytesValue):"referenceValue"in r?function(a){return Qt.fromName(a).toString()}(r.referenceValue):"geoPointValue"in r?function(a){return`geo(${a.latitude},${a.longitude})`}(r.geoPointValue):"arrayValue"in r?function(a){let u="[",o=!0;for(const f of a.values||[])o?o=!1:u+=",",u+=n1(f);return u+"]"}(r.arrayValue):"mapValue"in r?function(a){const u=Object.keys(a.fields||{}).sort();let o="{",f=!0;for(const g of u)f?f=!1:o+=",",o+=`${g}:${n1(a.fields[g])}`;return o+"}"}(r.mapValue):ee()}function sg(r){switch(po(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xg(r);return t?16+sg(t):16;case 5:return 2*r.stringValue.length;case 6:return mo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(u){return(u.values||[]).reduce((o,f)=>o+sg(f),0)}(r.arrayValue);case 10:case 11:return function(u){let o=0;return dc(u.fields,(f,g)=>{o+=f.length+sg(g)}),o}(r.mapValue);default:throw ee()}}function i1(r){return!!r&&"integerValue"in r}function M1(r){return!!r&&"arrayValue"in r}function wy(r){return!!r&&"nullValue"in r}function Vy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rg(r){return!!r&&"mapValue"in r}function iS(r){var t,a;return((a=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||a===void 0?void 0:a.stringValue)==="__vector__"}function Ed(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return dc(r.mapValue.fields,(a,u)=>t.mapValue.fields[a]=Ed(u)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(r.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=Ed(r.arrayValue.values[a]);return t}return Object.assign({},r)}function aS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.value=t}static empty(){return new Ps({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let u=0;u<t.length-1;++u)if(a=(a.mapValue.fields||{})[t.get(u)],!rg(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ed(a)}setAll(t){let a=Pi.emptyPath(),u={},o=[];t.forEach((g,y)=>{if(!a.isImmediateParentOf(y)){const _=this.getFieldsMap(a);this.applyChanges(_,u,o),u={},o=[],a=y.popLast()}g?u[y.lastSegment()]=Ed(g):o.push(y.lastSegment())});const f=this.getFieldsMap(a);this.applyChanges(f,u,o)}delete(t){const a=this.field(t.popLast());rg(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return Rl(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let u=0;u<t.length;++u){let o=a.mapValue.fields[t.get(u)];rg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[t.get(u)]=o),a=o}return a.mapValue.fields}applyChanges(t,a,u){dc(a,(o,f)=>t[o]=f);for(const o of u)delete t[o]}clone(){return new Ps(Ed(this.value))}}function F_(r){const t=[];return dc(r.fields,(a,u)=>{const o=new Pi([a]);if(rg(u)){const f=F_(u.mapValue).fields;if(f.length===0)t.push(o);else for(const g of f)t.push(o.child(g))}else t.push(o)}),new xr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,a,u,o,f,g,y){this.key=t,this.documentType=a,this.version=u,this.readTime=o,this.createTime=f,this.data=g,this.documentState=y}static newInvalidDocument(t){return new oa(t,0,ne.min(),ne.min(),ne.min(),Ps.empty(),0)}static newFoundDocument(t,a,u,o){return new oa(t,1,a,ne.min(),u,o,0)}static newNoDocument(t,a){return new oa(t,2,a,ne.min(),ne.min(),Ps.empty(),0)}static newUnknownDocument(t,a){return new oa(t,3,a,ne.min(),ne.min(),Ps.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof oa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,a){this.position=t,this.inclusive=a}}function Uy(r,t,a){let u=0;for(let o=0;o<r.position.length;o++){const f=t[o],g=r.position[o];if(f.field.isKeyField()?u=Qt.comparator(Qt.fromName(g.referenceValue),a.key):u=yh(g,a.data.field(f.field)),f.dir==="desc"&&(u*=-1),u!==0)break}return u}function zy(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let a=0;a<r.position.length;a++)if(!Rl(r.position[a],t.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,a="asc"){this.field=t,this.dir=a}}function sS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{}class ci extends Y_{constructor(t,a,u){super(),this.field=t,this.op=a,this.value=u}static create(t,a,u){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,u):new lS(t,a,u):a==="array-contains"?new cS(t,u):a==="in"?new hS(t,u):a==="not-in"?new fS(t,u):a==="array-contains-any"?new dS(t,u):new ci(t,a,u)}static createKeyFieldInFilter(t,a,u){return a==="in"?new uS(t,u):new oS(t,u)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&this.matchesComparison(yh(a,this.value)):a!==null&&po(this.value)===po(a)&&this.matchesComparison(yh(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dl extends Y_{constructor(t,a){super(),this.filters=t,this.op=a,this.ae=null}static create(t,a){return new Dl(t,a)}matches(t){return k_(this)?this.filters.find(a=>!a.matches(t))===void 0:this.filters.find(a=>a.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,a)=>t.concat(a.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k_(r){return r.op==="and"}function K_(r){return rS(r)&&k_(r)}function rS(r){for(const t of r.filters)if(t instanceof Dl)return!1;return!0}function a1(r){if(r instanceof ci)return r.field.canonicalString()+r.op.toString()+_h(r.value);if(K_(r))return r.filters.map(t=>a1(t)).join(",");{const t=r.filters.map(a=>a1(a)).join(",");return`${r.op}(${t})`}}function Q_(r,t){return r instanceof ci?function(u,o){return o instanceof ci&&u.op===o.op&&u.field.isEqual(o.field)&&Rl(u.value,o.value)}(r,t):r instanceof Dl?function(u,o){return o instanceof Dl&&u.op===o.op&&u.filters.length===o.filters.length?u.filters.reduce((f,g,y)=>f&&Q_(g,o.filters[y]),!0):!1}(r,t):void ee()}function X_(r){return r instanceof ci?function(a){return`${a.field.canonicalString()} ${a.op} ${_h(a.value)}`}(r):r instanceof Dl?function(a){return a.op.toString()+" {"+a.getFilters().map(X_).join(" ,")+"}"}(r):"Filter"}class lS extends ci{constructor(t,a,u){super(t,a,u),this.key=Qt.fromName(u.referenceValue)}matches(t){const a=Qt.comparator(t.key,this.key);return this.matchesComparison(a)}}class uS extends ci{constructor(t,a){super(t,"in",a),this.keys=Z_("in",a)}matches(t){return this.keys.some(a=>a.isEqual(t.key))}}class oS extends ci{constructor(t,a){super(t,"not-in",a),this.keys=Z_("not-in",a)}matches(t){return!this.keys.some(a=>a.isEqual(t.key))}}function Z_(r,t){var a;return(((a=t.arrayValue)===null||a===void 0?void 0:a.values)||[]).map(u=>Qt.fromName(u.referenceValue))}class cS extends ci{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return M1(a)&&Md(a.arrayValue,this.value)}}class hS extends ci{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&Md(this.value.arrayValue,a)}}class fS extends ci{constructor(t,a){super(t,"not-in",a)}matches(t){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&!Md(this.value.arrayValue,a)}}class dS extends ci{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!M1(a)||!a.arrayValue.values)&&a.arrayValue.values.some(u=>Md(this.value.arrayValue,u))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,a=null,u=[],o=[],f=null,g=null,y=null){this.path=t,this.collectionGroup=a,this.orderBy=u,this.filters=o,this.limit=f,this.startAt=g,this.endAt=y,this.ue=null}}function By(r,t=null,a=[],u=[],o=null,f=null,g=null){return new gS(r,t,a,u,o,f,g)}function O1(r){const t=ae(r);if(t.ue===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map(u=>a1(u)).join(","),a+="|ob:",a+=t.orderBy.map(u=>function(f){return f.field.canonicalString()+f.dir}(u)).join(","),Og(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(u=>_h(u)).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(u=>_h(u)).join(",")),t.ue=a}return t.ue}function x1(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!sS(r.orderBy[a],t.orderBy[a]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if(!Q_(r.filters[a],t.filters[a]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!zy(r.startAt,t.startAt)&&zy(r.endAt,t.endAt)}function s1(r){return Qt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,a=null,u=[],o=[],f=null,g="F",y=null,_=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=u,this.filters=o,this.limit=f,this.limitType=g,this.startAt=y,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mS(r,t,a,u,o,f,g,y){return new wg(r,t,a,u,o,f,g,y)}function w1(r){return new wg(r)}function Ly(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pS(r){return r.collectionGroup!==null}function Td(r){const t=ae(r);if(t.ce===null){t.ce=[];const a=new Set;for(const f of t.explicitOrderBy)t.ce.push(f),a.add(f.field.canonicalString());const u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(g){let y=new fi(Pi.comparator);return g.filters.forEach(_=>{_.getFlattenedFilters().forEach(S=>{S.isInequality()&&(y=y.add(S.field))})}),y})(t).forEach(f=>{a.has(f.canonicalString())||f.isKeyField()||t.ce.push(new pg(f,u))}),a.has(Pi.keyField().canonicalString())||t.ce.push(new pg(Pi.keyField(),u))}return t.ce}function Al(r){const t=ae(r);return t.le||(t.le=yS(t,Td(r))),t.le}function yS(r,t){if(r.limitType==="F")return By(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new pg(o.field,f)});const a=r.endAt?new mg(r.endAt.position,r.endAt.inclusive):null,u=r.startAt?new mg(r.startAt.position,r.startAt.inclusive):null;return By(r.path,r.collectionGroup,t,r.filters,r.limit,a,u)}}function r1(r,t,a){return new wg(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,a,r.startAt,r.endAt)}function Vg(r,t){return x1(Al(r),Al(t))&&r.limitType===t.limitType}function J_(r){return`${O1(Al(r))}|lt:${r.limitType}`}function ch(r){return`Query(target=${function(a){let u=a.path.canonicalString();return a.collectionGroup!==null&&(u+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(u+=`, filters: [${a.filters.map(o=>X_(o)).join(", ")}]`),Og(a.limit)||(u+=", limit: "+a.limit),a.orderBy.length>0&&(u+=`, orderBy: [${a.orderBy.map(o=>function(g){return`${g.field.canonicalString()} (${g.dir})`}(o)).join(", ")}]`),a.startAt&&(u+=", startAt: ",u+=a.startAt.inclusive?"b:":"a:",u+=a.startAt.position.map(o=>_h(o)).join(",")),a.endAt&&(u+=", endAt: ",u+=a.endAt.inclusive?"a:":"b:",u+=a.endAt.position.map(o=>_h(o)).join(",")),`Target(${u})`}(Al(r))}; limitType=${r.limitType})`}function Ug(r,t){return t.isFoundDocument()&&function(u,o){const f=o.key.path;return u.collectionGroup!==null?o.key.hasCollectionId(u.collectionGroup)&&u.path.isPrefixOf(f):Qt.isDocumentKey(u.path)?u.path.isEqual(f):u.path.isImmediateParentOf(f)}(r,t)&&function(u,o){for(const f of Td(u))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(r,t)&&function(u,o){for(const f of u.filters)if(!f.matches(o))return!1;return!0}(r,t)&&function(u,o){return!(u.startAt&&!function(g,y,_){const S=Uy(g,y,_);return g.inclusive?S<=0:S<0}(u.startAt,Td(u),o)||u.endAt&&!function(g,y,_){const S=Uy(g,y,_);return g.inclusive?S>=0:S>0}(u.endAt,Td(u),o))}(r,t)}function _S(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function W_(r){return(t,a)=>{let u=!1;for(const o of Td(r)){const f=vS(o,t,a);if(f!==0)return f;u=u||o.field.isKeyField()}return 0}}function vS(r,t,a){const u=r.field.isKeyField()?Qt.comparator(t.key,a.key):function(f,g,y){const _=g.data.field(f),S=y.data.field(f);return _!==null&&S!==null?yh(_,S):ee()}(r.field,t,a);switch(r.dir){case"asc":return u;case"desc":return-1*u;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),u=this.inner[a];if(u!==void 0){for(const[o,f]of u)if(this.equalsFn(o,t))return f}}has(t){return this.get(t)!==void 0}set(t,a){const u=this.mapKeyFn(t),o=this.inner[u];if(o===void 0)return this.inner[u]=[[t,a]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],t))return void(o[f]=[t,a]);o.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),u=this.inner[a];if(u===void 0)return!1;for(let o=0;o<u.length;o++)if(this.equalsFn(u[o][0],t))return u.length===1?delete this.inner[a]:u.splice(o,1),this.innerSize--,!0;return!1}forEach(t){dc(this.inner,(a,u)=>{for(const[o,f]of u)t(o,f)})}isEmpty(){return I_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Un(Qt.comparator);function mu(){return SS}const $_=new Un(Qt.comparator);function vd(...r){let t=$_;for(const a of r)t=t.insert(a.key,a);return t}function tv(r){let t=$_;return r.forEach((a,u)=>t=t.insert(a,u.overlayedDocument)),t}function hc(){return bd()}function ev(){return bd()}function bd(){return new gc(r=>r.toString(),(r,t)=>r.isEqual(t))}const ES=new Un(Qt.comparator),TS=new fi(Qt.comparator);function Re(...r){let t=TS;for(const a of r)t=t.add(a);return t}const bS=new fi(Oe);function AS(){return bS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gg(t)?"-0":t}}function nv(r){return{integerValue:""+r}}function CS(r,t){return W9(t)?nv(t):V1(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this._=void 0}}function RS(r,t,a){return r instanceof yg?function(o,f){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&N1(f)&&(f=xg(f)),f&&(g.fields.__previous_value__=f),{mapValue:g}}(a,t):r instanceof Od?av(r,t):r instanceof xd?sv(r,t):function(o,f){const g=iv(o,f),y=Gy(g)+Gy(o.Pe);return i1(g)&&i1(o.Pe)?nv(y):V1(o.serializer,y)}(r,t)}function DS(r,t,a){return r instanceof Od?av(r,t):r instanceof xd?sv(r,t):a}function iv(r,t){return r instanceof _g?function(u){return i1(u)||function(f){return!!f&&"doubleValue"in f}(u)}(t)?t:{integerValue:0}:null}class yg extends zg{}class Od extends zg{constructor(t){super(),this.elements=t}}function av(r,t){const a=rv(t);for(const u of r.elements)a.some(o=>Rl(o,u))||a.push(u);return{arrayValue:{values:a}}}class xd extends zg{constructor(t){super(),this.elements=t}}function sv(r,t){let a=rv(t);for(const u of r.elements)a=a.filter(o=>!Rl(o,u));return{arrayValue:{values:a}}}class _g extends zg{constructor(t,a){super(),this.serializer=t,this.Pe=a}}function Gy(r){return $n(r.integerValue||r.doubleValue)}function rv(r){return M1(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function NS(r,t){return r.field.isEqual(t.field)&&function(u,o){return u instanceof Od&&o instanceof Od||u instanceof xd&&o instanceof xd?ph(u.elements,o.elements,Rl):u instanceof _g&&o instanceof _g?Rl(u.Pe,o.Pe):u instanceof yg&&o instanceof yg}(r.transform,t.transform)}class MS{constructor(t,a){this.version=t,this.transformResults=a}}class fu{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new fu}static exists(t){return new fu(void 0,t)}static updateTime(t){return new fu(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lg(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Bg{}function lv(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ov(r.key,fu.none()):new Ud(r.key,r.data,fu.none());{const a=r.data,u=Ps.empty();let o=new fi(Pi.comparator);for(let f of t.fields)if(!o.has(f)){let g=a.field(f);g===null&&f.length>1&&(f=f.popLast(),g=a.field(f)),g===null?u.delete(f):u.set(f,g),o=o.add(f)}return new mc(r.key,u,new xr(o.toArray()),fu.none())}}function OS(r,t,a){r instanceof Ud?function(o,f,g){const y=o.value.clone(),_=qy(o.fieldTransforms,f,g.transformResults);y.setAll(_),f.convertToFoundDocument(g.version,y).setHasCommittedMutations()}(r,t,a):r instanceof mc?function(o,f,g){if(!lg(o.precondition,f))return void f.convertToUnknownDocument(g.version);const y=qy(o.fieldTransforms,f,g.transformResults),_=f.data;_.setAll(uv(o)),_.setAll(y),f.convertToFoundDocument(g.version,_).setHasCommittedMutations()}(r,t,a):function(o,f,g){f.convertToNoDocument(g.version).setHasCommittedMutations()}(0,t,a)}function Ad(r,t,a,u){return r instanceof Ud?function(f,g,y,_){if(!lg(f.precondition,g))return y;const S=f.value.clone(),b=Py(f.fieldTransforms,_,g);return S.setAll(b),g.convertToFoundDocument(g.version,S).setHasLocalMutations(),null}(r,t,a,u):r instanceof mc?function(f,g,y,_){if(!lg(f.precondition,g))return y;const S=Py(f.fieldTransforms,_,g),b=g.data;return b.setAll(uv(f)),b.setAll(S),g.convertToFoundDocument(g.version,b).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(O=>O.field))}(r,t,a,u):function(f,g,y){return lg(f.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):y}(r,t,a)}function xS(r,t){let a=null;for(const u of r.fieldTransforms){const o=t.data.field(u.field),f=iv(u.transform,o||null);f!=null&&(a===null&&(a=Ps.empty()),a.set(u.field,f))}return a||null}function Hy(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(u,o){return u===void 0&&o===void 0||!(!u||!o)&&ph(u,o,(f,g)=>NS(f,g))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ud extends Bg{constructor(t,a,u,o=[]){super(),this.key=t,this.value=a,this.precondition=u,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mc extends Bg{constructor(t,a,u,o,f=[]){super(),this.key=t,this.data=a,this.fieldMask=u,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function uv(r){const t=new Map;return r.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const u=r.data.field(a);t.set(a,u)}}),t}function qy(r,t,a){const u=new Map;Xe(r.length===a.length);for(let o=0;o<a.length;o++){const f=r[o],g=f.transform,y=t.data.field(f.field);u.set(f.field,DS(g,y,a[o]))}return u}function Py(r,t,a){const u=new Map;for(const o of r){const f=o.transform,g=a.data.field(o.field);u.set(o.field,RS(f,g,t))}return u}class ov extends Bg{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wS extends Bg{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,a,u,o){this.batchId=t,this.localWriteTime=a,this.baseMutations=u,this.mutations=o}applyToRemoteDocument(t,a){const u=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(t.key)&&OS(f,t,u[o])}}applyToLocalView(t,a){for(const u of this.baseMutations)u.key.isEqual(t.key)&&(a=Ad(u,t,a,this.localWriteTime));for(const u of this.mutations)u.key.isEqual(t.key)&&(a=Ad(u,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const u=ev();return this.mutations.forEach(o=>{const f=t.get(o.key),g=f.overlayedDocument;let y=this.applyToLocalView(g,f.mutatedFields);y=a.has(o.key)?null:y;const _=lv(g,y);_!==null&&u.set(o.key,_),g.isValidDocument()||g.convertToNoDocument(ne.min())}),u}keys(){return this.mutations.reduce((t,a)=>t.add(a.key),Re())}isEqual(t){return this.batchId===t.batchId&&ph(this.mutations,t.mutations,(a,u)=>Hy(a,u))&&ph(this.baseMutations,t.baseMutations,(a,u)=>Hy(a,u))}}class U1{constructor(t,a,u,o){this.batch=t,this.commitVersion=a,this.mutationResults=u,this.docVersions=o}static from(t,a,u){Xe(t.mutations.length===u.length);let o=function(){return ES}();const f=t.mutations;for(let g=0;g<f.length;g++)o=o.insert(f[g].key,u[g].version);return new U1(t,a,u,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,a){this.count=t,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri,Ue;function BS(r){switch(r){default:return ee();case Ut.CANCELLED:case Ut.UNKNOWN:case Ut.DEADLINE_EXCEEDED:case Ut.RESOURCE_EXHAUSTED:case Ut.INTERNAL:case Ut.UNAVAILABLE:case Ut.UNAUTHENTICATED:return!1;case Ut.INVALID_ARGUMENT:case Ut.NOT_FOUND:case Ut.ALREADY_EXISTS:case Ut.PERMISSION_DENIED:case Ut.FAILED_PRECONDITION:case Ut.ABORTED:case Ut.OUT_OF_RANGE:case Ut.UNIMPLEMENTED:case Ut.DATA_LOSS:return!0}}function cv(r){if(r===void 0)return gu("GRPC error has no .code"),Ut.UNKNOWN;switch(r){case ri.OK:return Ut.OK;case ri.CANCELLED:return Ut.CANCELLED;case ri.UNKNOWN:return Ut.UNKNOWN;case ri.DEADLINE_EXCEEDED:return Ut.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return Ut.RESOURCE_EXHAUSTED;case ri.INTERNAL:return Ut.INTERNAL;case ri.UNAVAILABLE:return Ut.UNAVAILABLE;case ri.UNAUTHENTICATED:return Ut.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return Ut.INVALID_ARGUMENT;case ri.NOT_FOUND:return Ut.NOT_FOUND;case ri.ALREADY_EXISTS:return Ut.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return Ut.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return Ut.FAILED_PRECONDITION;case ri.ABORTED:return Ut.ABORTED;case ri.OUT_OF_RANGE:return Ut.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return Ut.UNIMPLEMENTED;case ri.DATA_LOSS:return Ut.DATA_LOSS;default:return ee()}}(Ue=ri||(ri={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new co([4294967295,4294967295],0);function Iy(r){const t=LS().encode(r),a=new U_;return a.update(t),new Uint8Array(a.digest())}function jy(r){const t=new DataView(r.buffer),a=t.getUint32(0,!0),u=t.getUint32(4,!0),o=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new co([a,u],0),new co([o,f],0)]}class z1{constructor(t,a,u){if(this.bitmap=t,this.padding=a,this.hashCount=u,a<0||a>=8)throw new Sd(`Invalid padding: ${a}`);if(u<0)throw new Sd(`Invalid hash count: ${u}`);if(t.length>0&&this.hashCount===0)throw new Sd(`Invalid hash count: ${u}`);if(t.length===0&&a!==0)throw new Sd(`Invalid padding when bitmap length is 0: ${a}`);this.Te=8*t.length-a,this.Ie=co.fromNumber(this.Te)}de(t,a,u){let o=t.add(a.multiply(co.fromNumber(u)));return o.compare(GS)===1&&(o=new co([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const a=Iy(t),[u,o]=jy(a);for(let f=0;f<this.hashCount;f++){const g=this.de(u,o,f);if(!this.Ee(g))return!1}return!0}static create(t,a,u){const o=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),g=new z1(f,o,a);return u.forEach(y=>g.insert(y)),g}insert(t){if(this.Te===0)return;const a=Iy(t),[u,o]=jy(a);for(let f=0;f<this.hashCount;f++){const g=this.de(u,o,f);this.Ae(g)}}Ae(t){const a=Math.floor(t/8),u=t%8;this.bitmap[a]|=1<<u}}class Sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t,a,u,o,f){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=u,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,a,u){const o=new Map;return o.set(t,zd.createSynthesizedTargetChangeForCurrentChange(t,a,u)),new Lg(ne.min(),o,new Un(Oe),mu(),Re())}}class zd{constructor(t,a,u,o,f){this.resumeToken=t,this.current=a,this.addedDocuments=u,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,a,u){return new zd(u,a,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,a,u,o){this.Re=t,this.removedTargetIds=a,this.key=u,this.Ve=o}}class hv{constructor(t,a){this.targetId=t,this.me=a}}class fv{constructor(t,a,u=Ii.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=a,this.resumeToken=u,this.cause=o}}class Fy{constructor(){this.fe=0,this.ge=Yy(),this.pe=Ii.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Re(),a=Re(),u=Re();return this.ge.forEach((o,f)=>{switch(f){case 0:t=t.add(o);break;case 2:a=a.add(o);break;case 1:u=u.add(o);break;default:ee()}}),new zd(this.pe,this.ye,t,a,u)}Ce(){this.we=!1,this.ge=Yy()}Fe(t,a){this.we=!0,this.ge=this.ge.insert(t,a)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HS{constructor(t){this.Be=t,this.Le=new Map,this.ke=mu(),this.qe=eg(),this.Qe=eg(),this.Ke=new Un(Oe)}$e(t){for(const a of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(a,t.Ve):this.We(a,t.key,t.Ve);for(const a of t.removedTargetIds)this.We(a,t.key,t.Ve)}Ge(t){this.forEachTarget(t,a=>{const u=this.ze(a);switch(t.state){case 0:this.je(a)&&u.De(t.resumeToken);break;case 1:u.Oe(),u.Se||u.Ce(),u.De(t.resumeToken);break;case 2:u.Oe(),u.Se||this.removeTarget(a);break;case 3:this.je(a)&&(u.Ne(),u.De(t.resumeToken));break;case 4:this.je(a)&&(this.He(a),u.De(t.resumeToken));break;default:ee()}})}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.Le.forEach((u,o)=>{this.je(o)&&a(o)})}Je(t){const a=t.targetId,u=t.me.count,o=this.Ye(a);if(o){const f=o.target;if(s1(f))if(u===0){const g=new Qt(f.path);this.We(a,g,oa.newNoDocument(g,ne.min()))}else Xe(u===1);else{const g=this.Ze(a);if(g!==u){const y=this.Xe(t),_=y?this.et(y,t,g):1;if(_!==0){this.He(a);const S=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(a,S)}}}}}Xe(t){const a=t.me.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:u="",padding:o=0},hashCount:f=0}=a;let g,y;try{g=mo(u).toUint8Array()}catch(_){if(_ instanceof j_)return mh("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new z1(g,o,f)}catch(_){return mh(_ instanceof Sd?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.Te===0?null:y}et(t,a,u){return a.me.count===u-this.rt(t,a.targetId)?0:2}rt(t,a){const u=this.Be.getRemoteKeysForTarget(a);let o=0;return u.forEach(f=>{const g=this.Be.nt(),y=`projects/${g.projectId}/databases/${g.database}/documents/${f.path.canonicalString()}`;t.mightContain(y)||(this.We(a,f,null),o++)}),o}it(t){const a=new Map;this.Le.forEach((f,g)=>{const y=this.Ye(g);if(y){if(f.current&&s1(y.target)){const _=new Qt(y.target.path);this.st(_).has(g)||this.ot(g,_)||this.We(g,_,oa.newNoDocument(_,t))}f.be&&(a.set(g,f.ve()),f.Ce())}});let u=Re();this.Qe.forEach((f,g)=>{let y=!0;g.forEachWhile(_=>{const S=this.Ye(_);return!S||S.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(u=u.add(f))}),this.ke.forEach((f,g)=>g.setReadTime(t));const o=new Lg(t,a,this.Ke,this.ke,u);return this.ke=mu(),this.qe=eg(),this.Qe=eg(),this.Ke=new Un(Oe),o}Ue(t,a){if(!this.je(t))return;const u=this.ot(t,a.key)?2:0;this.ze(t).Fe(a.key,u),this.ke=this.ke.insert(a.key,a),this.qe=this.qe.insert(a.key,this.st(a.key).add(t)),this.Qe=this.Qe.insert(a.key,this._t(a.key).add(t))}We(t,a,u){if(!this.je(t))return;const o=this.ze(t);this.ot(t,a)?o.Fe(a,1):o.Me(a),this.Qe=this.Qe.insert(a,this._t(a).delete(t)),this.Qe=this.Qe.insert(a,this._t(a).add(t)),u&&(this.ke=this.ke.insert(a,u))}removeTarget(t){this.Le.delete(t)}Ze(t){const a=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let a=this.Le.get(t);return a||(a=new Fy,this.Le.set(t,a)),a}_t(t){let a=this.Qe.get(t);return a||(a=new fi(Oe),this.Qe=this.Qe.insert(t,a)),a}st(t){let a=this.qe.get(t);return a||(a=new fi(Oe),this.qe=this.qe.insert(t,a)),a}je(t){const a=this.Ye(t)!==null;return a||Ht("WatchChangeAggregator","Detected inactive target",t),a}Ye(t){const a=this.Le.get(t);return a&&a.Se?null:this.Be.ut(t)}He(t){this.Le.set(t,new Fy),this.Be.getRemoteKeysForTarget(t).forEach(a=>{this.We(t,a,null)})}ot(t,a){return this.Be.getRemoteKeysForTarget(t).has(a)}}function eg(){return new Un(Qt.comparator)}function Yy(){return new Un(Qt.comparator)}const qS={asc:"ASCENDING",desc:"DESCENDING"},PS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IS={and:"AND",or:"OR"};class jS{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function l1(r,t){return r.useProto3Json||Og(t)?t:{value:t}}function vg(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dv(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function FS(r,t){return vg(r,t.toTimestamp())}function Cl(r){return Xe(!!r),ne.fromTimestamp(function(a){const u=go(a);return new hi(u.seconds,u.nanos)}(r))}function B1(r,t){return u1(r,t).canonicalString()}function u1(r,t){const a=function(o){return new Yn(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?a:a.child(t)}function gv(r){const t=Yn.fromString(r);return Xe(vv(t)),t}function o1(r,t){return B1(r.databaseId,t.path)}function jm(r,t){const a=gv(t);if(a.get(1)!==r.databaseId.projectId)throw new Kt(Ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+r.databaseId.projectId);if(a.get(3)!==r.databaseId.database)throw new Kt(Ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+r.databaseId.database);return new Qt(pv(a))}function mv(r,t){return B1(r.databaseId,t)}function YS(r){const t=gv(r);return t.length===4?Yn.emptyPath():pv(t)}function c1(r){return new Yn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pv(r){return Xe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function ky(r,t,a){return{name:o1(r,t),fields:a.value.mapValue.fields}}function kS(r,t){let a;if("targetChange"in t){t.targetChange;const u=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:ee()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],f=function(S,b){return S.useProto3Json?(Xe(b===void 0||typeof b=="string"),Ii.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Ii.fromUint8Array(b||new Uint8Array))}(r,t.targetChange.resumeToken),g=t.targetChange.cause,y=g&&function(S){const b=S.code===void 0?Ut.UNKNOWN:cv(S.code);return new Kt(b,S.message||"")}(g);a=new fv(u,o,f,y||null)}else if("documentChange"in t){t.documentChange;const u=t.documentChange;u.document,u.document.name,u.document.updateTime;const o=jm(r,u.document.name),f=Cl(u.document.updateTime),g=u.document.createTime?Cl(u.document.createTime):ne.min(),y=new Ps({mapValue:{fields:u.document.fields}}),_=oa.newFoundDocument(o,f,g,y),S=u.targetIds||[],b=u.removedTargetIds||[];a=new ug(S,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const u=t.documentDelete;u.document;const o=jm(r,u.document),f=u.readTime?Cl(u.readTime):ne.min(),g=oa.newNoDocument(o,f),y=u.removedTargetIds||[];a=new ug([],y,g.key,g)}else if("documentRemove"in t){t.documentRemove;const u=t.documentRemove;u.document;const o=jm(r,u.document),f=u.removedTargetIds||[];a=new ug([],f,o,null)}else{if(!("filter"in t))return ee();{t.filter;const u=t.filter;u.targetId;const{count:o=0,unchangedNames:f}=u,g=new zS(o,f),y=u.targetId;a=new hv(y,g)}}return a}function KS(r,t){let a;if(t instanceof Ud)a={update:ky(r,t.key,t.value)};else if(t instanceof ov)a={delete:o1(r,t.key)};else if(t instanceof mc)a={update:ky(r,t.key,t.data),updateMask:nE(t.fieldMask)};else{if(!(t instanceof wS))return ee();a={verify:o1(r,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map(u=>function(f,g){const y=g.transform;if(y instanceof yg)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Od)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof xd)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof _g)return{fieldPath:g.field.canonicalString(),increment:y.Pe};throw ee()}(0,u))),t.precondition.isNone||(a.currentDocument=function(o,f){return f.updateTime!==void 0?{updateTime:FS(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:ee()}(r,t.precondition)),a}function QS(r,t){return r&&r.length>0?(Xe(t!==void 0),r.map(a=>function(o,f){let g=o.updateTime?Cl(o.updateTime):Cl(f);return g.isEqual(ne.min())&&(g=Cl(f)),new MS(g,o.transformResults||[])}(a,t))):[]}function XS(r,t){return{documents:[mv(r,t.path)]}}function ZS(r,t){const a={structuredQuery:{}},u=t.path;let o;t.collectionGroup!==null?(o=u,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=u.popLast(),a.structuredQuery.from=[{collectionId:u.lastSegment()}]),a.parent=mv(r,o);const f=function(S){if(S.length!==0)return _v(Dl.create(S,"and"))}(t.filters);f&&(a.structuredQuery.where=f);const g=function(S){if(S.length!==0)return S.map(b=>function(U){return{field:hh(U.field),direction:$S(U.dir)}}(b))}(t.orderBy);g&&(a.structuredQuery.orderBy=g);const y=l1(r,t.limit);return y!==null&&(a.structuredQuery.limit=y),t.startAt&&(a.structuredQuery.startAt=function(S){return{before:S.inclusive,values:S.position}}(t.startAt)),t.endAt&&(a.structuredQuery.endAt=function(S){return{before:!S.inclusive,values:S.position}}(t.endAt)),{ct:a,parent:o}}function JS(r){let t=YS(r.parent);const a=r.structuredQuery,u=a.from?a.from.length:0;let o=null;if(u>0){Xe(u===1);const b=a.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let f=[];a.where&&(f=function(O){const U=yv(O);return U instanceof Dl&&K_(U)?U.getFilters():[U]}(a.where));let g=[];a.orderBy&&(g=function(O){return O.map(U=>function(x){return new pg(fh(x.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(U))}(a.orderBy));let y=null;a.limit&&(y=function(O){let U;return U=typeof O=="object"?O.value:O,Og(U)?null:U}(a.limit));let _=null;a.startAt&&(_=function(O){const U=!!O.before,D=O.values||[];return new mg(D,U)}(a.startAt));let S=null;return a.endAt&&(S=function(O){const U=!O.before,D=O.values||[];return new mg(D,U)}(a.endAt)),mS(t,o,g,f,y,"F",_,S)}function WS(r,t){const a=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(t.purpose);return a==null?null:{"goog-listen-tags":a}}function yv(r){return r.unaryFilter!==void 0?function(a){switch(a.unaryFilter.op){case"IS_NAN":const u=fh(a.unaryFilter.field);return ci.create(u,"==",{doubleValue:NaN});case"IS_NULL":const o=fh(a.unaryFilter.field);return ci.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=fh(a.unaryFilter.field);return ci.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=fh(a.unaryFilter.field);return ci.create(g,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(r):r.fieldFilter!==void 0?function(a){return ci.create(fh(a.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(a.fieldFilter.op),a.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(a){return Dl.create(a.compositeFilter.filters.map(u=>yv(u)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ee()}}(a.compositeFilter.op))}(r):ee()}function $S(r){return qS[r]}function tE(r){return PS[r]}function eE(r){return IS[r]}function hh(r){return{fieldPath:r.canonicalString()}}function fh(r){return Pi.fromServerFormat(r.fieldPath)}function _v(r){return r instanceof ci?function(a){if(a.op==="=="){if(Vy(a.value))return{unaryFilter:{field:hh(a.field),op:"IS_NAN"}};if(wy(a.value))return{unaryFilter:{field:hh(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(Vy(a.value))return{unaryFilter:{field:hh(a.field),op:"IS_NOT_NAN"}};if(wy(a.value))return{unaryFilter:{field:hh(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hh(a.field),op:tE(a.op),value:a.value}}}(r):r instanceof Dl?function(a){const u=a.getFilters().map(o=>_v(o));return u.length===1?u[0]:{compositeFilter:{op:eE(a.op),filters:u}}}(r):ee()}function nE(r){const t=[];return r.fields.forEach(a=>t.push(a.canonicalString())),{fieldPaths:t}}function vv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,a,u,o,f=ne.min(),g=ne.min(),y=Ii.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=a,this.purpose=u,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(t){return new lo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t){this.ht=t}}function aE(r){const t=JS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?r1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ln=new rE}addToCollectionParentIndex(t,a){return this.ln.add(a),Nt.resolve()}getCollectionParents(t,a){return Nt.resolve(this.ln.getEntries(a))}addFieldIndex(t,a){return Nt.resolve()}deleteFieldIndex(t,a){return Nt.resolve()}deleteAllFieldIndexes(t){return Nt.resolve()}createTargetIndexes(t,a){return Nt.resolve()}getDocumentsMatchingTarget(t,a){return Nt.resolve(null)}getIndexType(t,a){return Nt.resolve(0)}getFieldIndexes(t,a){return Nt.resolve([])}getNextCollectionGroupToUpdate(t){return Nt.resolve(null)}getMinOffset(t,a){return Nt.resolve(fo.min())}getMinOffsetFromCollectionGroup(t,a){return Nt.resolve(fo.min())}updateCollectionGroup(t,a,u){return Nt.resolve()}updateIndexEntries(t,a){return Nt.resolve()}}class rE{constructor(){this.index={}}add(t){const a=t.lastSegment(),u=t.popLast(),o=this.index[a]||new fi(Yn.comparator),f=!o.has(u);return this.index[a]=o.add(u),f}has(t){const a=t.lastSegment(),u=t.popLast(),o=this.index[a];return o&&o.has(u)}getEntries(t){return(this.index[t]||new fi(Yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Za{static withCacheSize(t){return new Za(t,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,u){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(41943040,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new vh(0)}static Qn(){return new vh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy([r,t],[a,u]){const o=Oe(r,a);return o===0?Oe(t,u):o}class lE{constructor(t){this.Gn=t,this.buffer=new fi(Qy),this.zn=0}jn(){return++this.zn}Hn(t){const a=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(a);else{const u=this.buffer.last();Qy(a,u)<0&&(this.buffer=this.buffer.delete(u).add(a))}}get maxValue(){return this.buffer.last()[0]}}class uE{constructor(t,a,u){this.garbageCollector=t,this.asyncQueue=a,this.localStore=u,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){Ht("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){Ch(a)?Ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):await Ah(a)}await this.Yn(3e5)})}}class oE{constructor(t,a){this.Zn=t,this.params=a}calculateTargetCount(t,a){return this.Zn.Xn(t).next(u=>Math.floor(a/100*u))}nthSequenceNumber(t,a){if(a===0)return Nt.resolve(Mg.oe);const u=new lE(a);return this.Zn.forEachTarget(t,o=>u.Hn(o.sequenceNumber)).next(()=>this.Zn.er(t,o=>u.Hn(o))).next(()=>u.maxValue)}removeTargets(t,a,u){return this.Zn.removeTargets(t,a,u)}removeOrphanedDocuments(t,a){return this.Zn.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(Ht("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(Ky)):this.getCacheSize(t).next(u=>u<this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.tr(t,a))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,a){let u,o,f,g,y,_,S;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,g=Date.now(),this.nthSequenceNumber(t,o))).next(O=>(u=O,y=Date.now(),this.removeTargets(t,u,a))).next(O=>(f=O,_=Date.now(),this.removeOrphanedDocuments(t,u))).next(O=>(S=Date.now(),oh()<=ze.DEBUG&&Ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${g-b}ms
	Determined least recently used ${o} in `+(y-g)+`ms
	Removed ${f} targets in `+(_-y)+`ms
	Removed ${O} documents in `+(S-_)+`ms
Total Duration: ${S-b}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:O})))}}function cE(r,t){return new oE(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.changes=new gc(t=>t.toString(),(t,a)=>t.isEqual(a)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,oa.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const u=this.changes.get(a);return u!==void 0?Nt.resolve(u):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,a,u,o){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=u,this.indexManager=o}getDocument(t,a){let u=null;return this.documentOverlayCache.getOverlay(t,a).next(o=>(u=o,this.remoteDocumentCache.getEntry(t,a))).next(o=>(u!==null&&Ad(u.mutation,o,xr.empty(),hi.now()),o))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next(u=>this.getLocalViewOfDocuments(t,u,Re()).next(()=>u))}getLocalViewOfDocuments(t,a,u=Re()){const o=hc();return this.populateOverlays(t,o,a).next(()=>this.computeViews(t,a,o,u).next(f=>{let g=vd();return f.forEach((y,_)=>{g=g.insert(y,_.overlayedDocument)}),g}))}getOverlayedDocuments(t,a){const u=hc();return this.populateOverlays(t,u,a).next(()=>this.computeViews(t,a,u,Re()))}populateOverlays(t,a,u){const o=[];return u.forEach(f=>{a.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(t,o).next(f=>{f.forEach((g,y)=>{a.set(g,y)})})}computeViews(t,a,u,o){let f=mu();const g=bd(),y=function(){return bd()}();return a.forEach((_,S)=>{const b=u.get(S.key);o.has(S.key)&&(b===void 0||b.mutation instanceof mc)?f=f.insert(S.key,S):b!==void 0?(g.set(S.key,b.mutation.getFieldMask()),Ad(b.mutation,S,b.mutation.getFieldMask(),hi.now())):g.set(S.key,xr.empty())}),this.recalculateAndSaveOverlays(t,f).next(_=>(_.forEach((S,b)=>g.set(S,b)),a.forEach((S,b)=>{var O;return y.set(S,new fE(b,(O=g.get(S))!==null&&O!==void 0?O:null))}),y))}recalculateAndSaveOverlays(t,a){const u=bd();let o=new Un((g,y)=>g-y),f=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next(g=>{for(const y of g)y.keys().forEach(_=>{const S=a.get(_);if(S===null)return;let b=u.get(_)||xr.empty();b=y.applyToLocalView(S,b),u.set(_,b);const O=(o.get(y.batchId)||Re()).add(_);o=o.insert(y.batchId,O)})}).next(()=>{const g=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),S=_.key,b=_.value,O=ev();b.forEach(U=>{if(!f.has(U)){const D=lv(a.get(U),u.get(U));D!==null&&O.set(U,D),f=f.add(U)}}),g.push(this.documentOverlayCache.saveOverlays(t,S,O))}return Nt.waitFor(g)}).next(()=>u)}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next(u=>this.recalculateAndSaveOverlays(t,u))}getDocumentsMatchingQuery(t,a,u,o){return function(g){return Qt.isDocumentKey(g.path)&&g.collectionGroup===null&&g.filters.length===0}(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):pS(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,u,o):this.getDocumentsMatchingCollectionQuery(t,a,u,o)}getNextDocuments(t,a,u,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,u,o).next(f=>{const g=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,u.largestBatchId,o-f.size):Nt.resolve(hc());let y=-1,_=f;return g.next(S=>Nt.forEach(S,(b,O)=>(y<O.largestBatchId&&(y=O.largestBatchId),f.get(b)?Nt.resolve():this.remoteDocumentCache.getEntry(t,b).next(U=>{_=_.insert(b,U)}))).next(()=>this.populateOverlays(t,S,f)).next(()=>this.computeViews(t,_,S,Re())).next(b=>({batchId:y,changes:tv(b)})))})}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new Qt(a)).next(u=>{let o=vd();return u.isFoundDocument()&&(o=o.insert(u.key,u)),o})}getDocumentsMatchingCollectionGroupQuery(t,a,u,o){const f=a.collectionGroup;let g=vd();return this.indexManager.getCollectionParents(t,f).next(y=>Nt.forEach(y,_=>{const S=function(O,U){return new wg(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(a,_.child(f));return this.getDocumentsMatchingCollectionQuery(t,S,u,o).next(b=>{b.forEach((O,U)=>{g=g.insert(O,U)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(t,a,u,o){let f;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,u.largestBatchId).next(g=>(f=g,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,u,f,o))).next(g=>{f.forEach((_,S)=>{const b=S.getKey();g.get(b)===null&&(g=g.insert(b,oa.newInvalidDocument(b)))});let y=vd();return g.forEach((_,S)=>{const b=f.get(_);b!==void 0&&Ad(b.mutation,S,xr.empty(),hi.now()),Ug(a,S)&&(y=y.insert(_,S))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,a){return Nt.resolve(this.Tr.get(a))}saveBundleMetadata(t,a){return this.Tr.set(a.id,function(o){return{id:o.id,version:o.version,createTime:Cl(o.createTime)}}(a)),Nt.resolve()}getNamedQuery(t,a){return Nt.resolve(this.Ir.get(a))}saveNamedQuery(t,a){return this.Ir.set(a.name,function(o){return{name:o.name,query:aE(o.bundledQuery),readTime:Cl(o.readTime)}}(a)),Nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.overlays=new Un(Qt.comparator),this.dr=new Map}getOverlay(t,a){return Nt.resolve(this.overlays.get(a))}getOverlays(t,a){const u=hc();return Nt.forEach(a,o=>this.getOverlay(t,o).next(f=>{f!==null&&u.set(o,f)})).next(()=>u)}saveOverlays(t,a,u){return u.forEach((o,f)=>{this.Tt(t,a,f)}),Nt.resolve()}removeOverlaysForBatchId(t,a,u){const o=this.dr.get(u);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.dr.delete(u)),Nt.resolve()}getOverlaysForCollection(t,a,u){const o=hc(),f=a.length+1,g=new Qt(a.child("")),y=this.overlays.getIteratorFrom(g);for(;y.hasNext();){const _=y.getNext().value,S=_.getKey();if(!a.isPrefixOf(S.path))break;S.path.length===f&&_.largestBatchId>u&&o.set(_.getKey(),_)}return Nt.resolve(o)}getOverlaysForCollectionGroup(t,a,u,o){let f=new Un((S,b)=>S-b);const g=this.overlays.getIterator();for(;g.hasNext();){const S=g.getNext().value;if(S.getKey().getCollectionGroup()===a&&S.largestBatchId>u){let b=f.get(S.largestBatchId);b===null&&(b=hc(),f=f.insert(S.largestBatchId,b)),b.set(S.getKey(),S)}}const y=hc(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((S,b)=>y.set(S,b)),!(y.size()>=o)););return Nt.resolve(y)}Tt(t,a,u){const o=this.overlays.get(u.key);if(o!==null){const g=this.dr.get(o.largestBatchId).delete(u.key);this.dr.set(o.largestBatchId,g)}this.overlays=this.overlays.insert(u.key,new US(a,u));let f=this.dr.get(a);f===void 0&&(f=Re(),this.dr.set(a,f)),this.dr.set(a,f.add(u.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.sessionToken=Ii.EMPTY_BYTE_STRING}getSessionToken(t){return Nt.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,Nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.Er=new fi(Di.Ar),this.Rr=new fi(Di.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(t,a){const u=new Di(t,a);this.Er=this.Er.add(u),this.Rr=this.Rr.add(u)}mr(t,a){t.forEach(u=>this.addReference(u,a))}removeReference(t,a){this.gr(new Di(t,a))}pr(t,a){t.forEach(u=>this.removeReference(u,a))}yr(t){const a=new Qt(new Yn([])),u=new Di(a,t),o=new Di(a,t+1),f=[];return this.Rr.forEachInRange([u,o],g=>{this.gr(g),f.push(g.key)}),f}wr(){this.Er.forEach(t=>this.gr(t))}gr(t){this.Er=this.Er.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const a=new Qt(new Yn([])),u=new Di(a,t),o=new Di(a,t+1);let f=Re();return this.Rr.forEachInRange([u,o],g=>{f=f.add(g.key)}),f}containsKey(t){const a=new Di(t,0),u=this.Er.firstAfterOrEqual(a);return u!==null&&t.isEqual(u.key)}}class Di{constructor(t,a){this.key=t,this.br=a}static Ar(t,a){return Qt.comparator(t.key,a.key)||Oe(t.br,a.br)}static Vr(t,a){return Oe(t.br,a.br)||Qt.comparator(t.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.Dr=1,this.vr=new fi(Di.Ar)}checkEmpty(t){return Nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,u,o){const f=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const g=new VS(f,a,u,o);this.mutationQueue.push(g);for(const y of o)this.vr=this.vr.add(new Di(y.key,f)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return Nt.resolve(g)}lookupMutationBatch(t,a){return Nt.resolve(this.Cr(a))}getNextMutationBatchAfterBatchId(t,a){const u=a+1,o=this.Fr(u),f=o<0?0:o;return Nt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const u=new Di(a,0),o=new Di(a,Number.POSITIVE_INFINITY),f=[];return this.vr.forEachInRange([u,o],g=>{const y=this.Cr(g.br);f.push(y)}),Nt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,a){let u=new fi(Oe);return a.forEach(o=>{const f=new Di(o,0),g=new Di(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([f,g],y=>{u=u.add(y.br)})}),Nt.resolve(this.Mr(u))}getAllMutationBatchesAffectingQuery(t,a){const u=a.path,o=u.length+1;let f=u;Qt.isDocumentKey(f)||(f=f.child(""));const g=new Di(new Qt(f),0);let y=new fi(Oe);return this.vr.forEachWhile(_=>{const S=_.key.path;return!!u.isPrefixOf(S)&&(S.length===o&&(y=y.add(_.br)),!0)},g),Nt.resolve(this.Mr(y))}Mr(t){const a=[];return t.forEach(u=>{const o=this.Cr(u);o!==null&&a.push(o)}),a}removeMutationBatch(t,a){Xe(this.Or(a.batchId,"removed")===0),this.mutationQueue.shift();let u=this.vr;return Nt.forEach(a.mutations,o=>{const f=new Di(o.key,a.batchId);return u=u.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.vr=u})}Bn(t){}containsKey(t,a){const u=new Di(a,0),o=this.vr.firstAfterOrEqual(u);return Nt.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Nt.resolve()}Or(t,a){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const a=this.Fr(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t){this.Nr=t,this.docs=function(){return new Un(Qt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const u=a.key,o=this.docs.get(u),f=o?o.size:0,g=this.Nr(a);return this.docs=this.docs.insert(u,{document:a.mutableCopy(),size:g}),this.size+=g-f,this.indexManager.addToCollectionParentIndex(t,u.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const u=this.docs.get(a);return Nt.resolve(u?u.document.mutableCopy():oa.newInvalidDocument(a))}getEntries(t,a){let u=mu();return a.forEach(o=>{const f=this.docs.get(o);u=u.insert(o,f?f.document.mutableCopy():oa.newInvalidDocument(o))}),Nt.resolve(u)}getDocumentsMatchingQuery(t,a,u,o){let f=mu();const g=a.path,y=new Qt(g.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:S,value:{document:b}}=_.getNext();if(!g.isPrefixOf(S.path))break;S.path.length>g.length+1||Q9(K9(b),u)<=0||(o.has(b.key)||Ug(a,b))&&(f=f.insert(b.key,b.mutableCopy()))}return Nt.resolve(f)}getAllFromCollectionGroup(t,a,u,o){ee()}Br(t,a){return Nt.forEach(this.docs,u=>a(u))}newChangeBuffer(t){return new vE(this)}getSize(t){return Nt.resolve(this.size)}}class vE extends hE{constructor(t){super(),this.hr=t}applyChanges(t){const a=[];return this.changes.forEach((u,o)=>{o.isValidDocument()?a.push(this.hr.addEntry(t,o)):this.hr.removeEntry(u)}),Nt.waitFor(a)}getFromCache(t,a){return this.hr.getEntry(t,a)}getAllFromCache(t,a){return this.hr.getEntries(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this.persistence=t,this.Lr=new gc(a=>O1(a),x1),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.kr=0,this.qr=new L1,this.targetCount=0,this.Qr=vh.qn()}forEachTarget(t,a){return this.Lr.forEach((u,o)=>a(o)),Nt.resolve()}getLastRemoteSnapshotVersion(t){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Nt.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(t,a,u){return u&&(this.lastRemoteSnapshotVersion=u),a>this.kr&&(this.kr=a),Nt.resolve()}Un(t){this.Lr.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.Qr=new vh(a),this.highestTargetId=a),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,a){return this.Un(a),this.targetCount+=1,Nt.resolve()}updateTargetData(t,a){return this.Un(a),Nt.resolve()}removeTargetData(t,a){return this.Lr.delete(a.target),this.qr.yr(a.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(t,a,u){let o=0;const f=[];return this.Lr.forEach((g,y)=>{y.sequenceNumber<=a&&u.get(y.targetId)===null&&(this.Lr.delete(g),f.push(this.removeMatchingKeysForTargetId(t,y.targetId)),o++)}),Nt.waitFor(f).next(()=>o)}getTargetCount(t){return Nt.resolve(this.targetCount)}getTargetData(t,a){const u=this.Lr.get(a)||null;return Nt.resolve(u)}addMatchingKeys(t,a,u){return this.qr.mr(a,u),Nt.resolve()}removeMatchingKeys(t,a,u){this.qr.pr(a,u);const o=this.persistence.referenceDelegate,f=[];return o&&a.forEach(g=>{f.push(o.markPotentiallyOrphaned(t,g))}),Nt.waitFor(f)}removeMatchingKeysForTargetId(t,a){return this.qr.yr(a),Nt.resolve()}getMatchingKeysForTargetId(t,a){const u=this.qr.Sr(a);return Nt.resolve(u)}containsKey(t,a){return Nt.resolve(this.qr.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,a){this.Kr={},this.overlays={},this.$r=new Mg(0),this.Ur=!1,this.Ur=!0,this.Wr=new pE,this.referenceDelegate=t(this),this.Gr=new SE(this),this.indexManager=new sE,this.remoteDocumentCache=function(o){return new _E(o)}(u=>this.referenceDelegate.zr(u)),this.serializer=new iE(a),this.jr=new gE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new mE,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let u=this.Kr[t.toKey()];return u||(u=new yE(a,this.referenceDelegate),this.Kr[t.toKey()]=u),u}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,a,u){Ht("MemoryPersistence","Starting transaction:",t);const o=new EE(this.$r.next());return this.referenceDelegate.Hr(),u(o).next(f=>this.referenceDelegate.Jr(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}Yr(t,a){return Nt.or(Object.values(this.Kr).map(u=>()=>u.containsKey(t,a)))}}class EE extends Z9{constructor(t){super(),this.currentSequenceNumber=t}}class G1{constructor(t){this.persistence=t,this.Zr=new L1,this.Xr=null}static ei(t){return new G1(t)}get ti(){if(this.Xr)return this.Xr;throw ee()}addReference(t,a,u){return this.Zr.addReference(u,a),this.ti.delete(u.toString()),Nt.resolve()}removeReference(t,a,u){return this.Zr.removeReference(u,a),this.ti.add(u.toString()),Nt.resolve()}markPotentiallyOrphaned(t,a){return this.ti.add(a.toString()),Nt.resolve()}removeTarget(t,a){this.Zr.yr(a.targetId).forEach(o=>this.ti.add(o.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(t,a.targetId).next(o=>{o.forEach(f=>this.ti.add(f.toString()))}).next(()=>u.removeTargetData(t,a))}Hr(){this.Xr=new Set}Jr(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.ti,u=>{const o=Qt.fromPath(u);return this.ni(t,o).next(f=>{f||a.removeEntry(o,ne.min())})}).next(()=>(this.Xr=null,a.apply(t)))}updateLimboDocument(t,a){return this.ni(t,a).next(u=>{u?this.ti.delete(a.toString()):this.ti.add(a.toString())})}zr(t){return 0}ni(t,a){return Nt.or([()=>Nt.resolve(this.Zr.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Yr(t,a)])}}class Sg{constructor(t,a){this.persistence=t,this.ri=new gc(u=>$9(u.path),(u,o)=>u.isEqual(o)),this.garbageCollector=cE(this,a)}static ei(t,a){return new Sg(t,a)}Hr(){}Jr(t){return Nt.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}Xn(t){const a=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(u=>a.next(o=>u+o))}nr(t){let a=0;return this.er(t,u=>{a++}).next(()=>a)}er(t,a){return Nt.forEach(this.ri,(u,o)=>this.ir(t,u,o).next(f=>f?Nt.resolve():a(o)))}removeTargets(t,a,u){return this.persistence.getTargetCache().removeTargets(t,a,u)}removeOrphanedDocuments(t,a){let u=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.Br(t,g=>this.ir(t,g,a).next(y=>{y||(u++,f.removeEntry(g,ne.min()))})).next(()=>f.apply(t)).next(()=>u)}markPotentiallyOrphaned(t,a){return this.ri.set(a,t.currentSequenceNumber),Nt.resolve()}removeTarget(t,a){const u=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,u)}addReference(t,a,u){return this.ri.set(u,t.currentSequenceNumber),Nt.resolve()}removeReference(t,a,u){return this.ri.set(u,t.currentSequenceNumber),Nt.resolve()}updateLimboDocument(t,a){return this.ri.set(a,t.currentSequenceNumber),Nt.resolve()}zr(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=sg(t.data.value)),a}ir(t,a,u){return Nt.or([()=>this.persistence.Yr(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const o=this.ri.get(a);return Nt.resolve(o!==void 0&&o>u)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,a,u,o){this.targetId=t,this.fromCache=a,this.Wi=u,this.Gi=o}static zi(t,a){let u=Re(),o=Re();for(const f of a.docChanges)switch(f.type){case 0:u=u.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new H1(t,a.fromCache,u,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return E6()?8:J9(v6())>0?6:4}()}initialize(t,a){this.Zi=t,this.indexManager=a,this.ji=!0}getDocumentsMatchingQuery(t,a,u,o){const f={result:null};return this.Xi(t,a).next(g=>{f.result=g}).next(()=>{if(!f.result)return this.es(t,a,o,u).next(g=>{f.result=g})}).next(()=>{if(f.result)return;const g=new TE;return this.ts(t,a,g).next(y=>{if(f.result=y,this.Hi)return this.ns(t,a,g,y.size)})}).next(()=>f.result)}ns(t,a,u,o){return u.documentReadCount<this.Ji?(oh()<=ze.DEBUG&&Ht("QueryEngine","SDK will not create cache indexes for query:",ch(a),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Nt.resolve()):(oh()<=ze.DEBUG&&Ht("QueryEngine","Query:",ch(a),"scans",u.documentReadCount,"local documents and returns",o,"documents as results."),u.documentReadCount>this.Yi*o?(oh()<=ze.DEBUG&&Ht("QueryEngine","The SDK decides to create cache indexes for query:",ch(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Al(a))):Nt.resolve())}Xi(t,a){if(Ly(a))return Nt.resolve(null);let u=Al(a);return this.indexManager.getIndexType(t,u).next(o=>o===0?null:(a.limit!==null&&o===1&&(a=r1(a,null,"F"),u=Al(a)),this.indexManager.getDocumentsMatchingTarget(t,u).next(f=>{const g=Re(...f);return this.Zi.getDocuments(t,g).next(y=>this.indexManager.getMinOffset(t,u).next(_=>{const S=this.rs(a,y);return this.ss(a,S,g,_.readTime)?this.Xi(t,r1(a,null,"F")):this.os(t,S,a,_)}))})))}es(t,a,u,o){return Ly(a)||o.isEqual(ne.min())?Nt.resolve(null):this.Zi.getDocuments(t,u).next(f=>{const g=this.rs(a,f);return this.ss(a,g,u,o)?Nt.resolve(null):(oh()<=ze.DEBUG&&Ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ch(a)),this.os(t,g,a,k9(o,-1)).next(y=>y))})}rs(t,a){let u=new fi(W_(t));return a.forEach((o,f)=>{Ug(t,f)&&(u=u.add(f))}),u}ss(t,a,u,o){if(t.limit===null)return!1;if(u.size!==a.size)return!0;const f=t.limitType==="F"?a.last():a.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}ts(t,a,u){return oh()<=ze.DEBUG&&Ht("QueryEngine","Using full collection scan to execute query:",ch(a)),this.Zi.getDocumentsMatchingQuery(t,a,fo.min(),u)}os(t,a,u,o){return this.Zi.getDocumentsMatchingQuery(t,u,o).next(f=>(a.forEach(g=>{f=f.insert(g.key,g)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,a,u,o){this.persistence=t,this._s=a,this.serializer=o,this.us=new Un(Oe),this.cs=new gc(f=>O1(f),x1),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(u)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>t.collect(a,this.us))}}function CE(r,t,a,u){return new AE(r,t,a,u)}async function Ev(r,t){const a=ae(r);return await a.persistence.runTransaction("Handle user change","readonly",u=>{let o;return a.mutationQueue.getAllMutationBatches(u).next(f=>(o=f,a.Ps(t),a.mutationQueue.getAllMutationBatches(u))).next(f=>{const g=[],y=[];let _=Re();for(const S of o){g.push(S.batchId);for(const b of S.mutations)_=_.add(b.key)}for(const S of f){y.push(S.batchId);for(const b of S.mutations)_=_.add(b.key)}return a.localDocuments.getDocuments(u,_).next(S=>({Ts:S,removedBatchIds:g,addedBatchIds:y}))})})}function RE(r,t){const a=ae(r);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const o=t.batch.keys(),f=a.hs.newChangeBuffer({trackRemovals:!0});return function(y,_,S,b){const O=S.batch,U=O.keys();let D=Nt.resolve();return U.forEach(x=>{D=D.next(()=>b.getEntry(_,x)).next(z=>{const L=S.docVersions.get(x);Xe(L!==null),z.version.compareTo(L)<0&&(O.applyToRemoteDocument(z,S),z.isValidDocument()&&(z.setReadTime(S.commitVersion),b.addEntry(z)))})}),D.next(()=>y.mutationQueue.removeMutationBatch(_,O))}(a,u,t,f).next(()=>f.apply(u)).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,o,t.batch.batchId)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,function(y){let _=Re();for(let S=0;S<y.mutationResults.length;++S)y.mutationResults[S].transformResults.length>0&&(_=_.add(y.batch.mutations[S].key));return _}(t))).next(()=>a.localDocuments.getDocuments(u,o))})}function Tv(r){const t=ae(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",a=>t.Gr.getLastRemoteSnapshotVersion(a))}function DE(r,t){const a=ae(r),u=t.snapshotVersion;let o=a.us;return a.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const g=a.hs.newChangeBuffer({trackRemovals:!0});o=a.us;const y=[];t.targetChanges.forEach((b,O)=>{const U=o.get(O);if(!U)return;y.push(a.Gr.removeMatchingKeys(f,b.removedDocuments,O).next(()=>a.Gr.addMatchingKeys(f,b.addedDocuments,O)));let D=U.withSequenceNumber(f.currentSequenceNumber);t.targetMismatches.get(O)!==null?D=D.withResumeToken(Ii.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,u)),o=o.insert(O,D),function(z,L,F){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(U,D,b)&&y.push(a.Gr.updateTargetData(f,D))});let _=mu(),S=Re();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(f,b))}),y.push(NE(f,g,t.documentUpdates).next(b=>{_=b.Is,S=b.ds})),!u.isEqual(ne.min())){const b=a.Gr.getLastRemoteSnapshotVersion(f).next(O=>a.Gr.setTargetsMetadata(f,f.currentSequenceNumber,u));y.push(b)}return Nt.waitFor(y).next(()=>g.apply(f)).next(()=>a.localDocuments.getLocalViewOfDocuments(f,_,S)).next(()=>_)}).then(f=>(a.us=o,f))}function NE(r,t,a){let u=Re(),o=Re();return a.forEach(f=>u=u.add(f)),t.getEntries(r,u).next(f=>{let g=mu();return a.forEach((y,_)=>{const S=f.get(y);_.isFoundDocument()!==S.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(ne.min())?(t.removeEntry(y,_.readTime),g=g.insert(y,_)):!S.isValidDocument()||_.version.compareTo(S.version)>0||_.version.compareTo(S.version)===0&&S.hasPendingWrites?(t.addEntry(_),g=g.insert(y,_)):Ht("LocalStore","Ignoring outdated watch update for ",y,". Current version:",S.version," Watch version:",_.version)}),{Is:g,ds:o}})}function ME(r,t){const a=ae(r);return a.persistence.runTransaction("Get next mutation batch","readonly",u=>(t===void 0&&(t=-1),a.mutationQueue.getNextMutationBatchAfterBatchId(u,t)))}function OE(r,t){const a=ae(r);return a.persistence.runTransaction("Allocate target","readwrite",u=>{let o;return a.Gr.getTargetData(u,t).next(f=>f?(o=f,Nt.resolve(o)):a.Gr.allocateTargetId(u).next(g=>(o=new lo(t,g,"TargetPurposeListen",u.currentSequenceNumber),a.Gr.addTargetData(u,o).next(()=>o))))}).then(u=>{const o=a.us.get(u.targetId);return(o===null||u.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.us=a.us.insert(u.targetId,u),a.cs.set(t,u.targetId)),u})}async function h1(r,t,a){const u=ae(r),o=u.us.get(t),f=a?"readwrite":"readwrite-primary";try{a||await u.persistence.runTransaction("Release target",f,g=>u.persistence.referenceDelegate.removeTarget(g,o))}catch(g){if(!Ch(g))throw g;Ht("LocalStore",`Failed to update sequence numbers for target ${t}: ${g}`)}u.us=u.us.remove(t),u.cs.delete(o.target)}function Xy(r,t,a){const u=ae(r);let o=ne.min(),f=Re();return u.persistence.runTransaction("Execute query","readwrite",g=>function(_,S,b){const O=ae(_),U=O.cs.get(b);return U!==void 0?Nt.resolve(O.us.get(U)):O.Gr.getTargetData(S,b)}(u,g,Al(t)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,u.Gr.getMatchingKeysForTargetId(g,y.targetId).next(_=>{f=_})}).next(()=>u._s.getDocumentsMatchingQuery(g,t,a?o:ne.min(),a?f:Re())).next(y=>(xE(u,_S(t),y),{documents:y,Es:f})))}function xE(r,t,a){let u=r.ls.get(t)||ne.min();a.forEach((o,f)=>{f.readTime.compareTo(u)>0&&(u=f.readTime)}),r.ls.set(t,u)}class Zy{constructor(){this.activeTargetIds=AS()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wE{constructor(){this._o=new Zy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,u){}addLocalQueryTarget(t,a=!0){return a&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,a,u){this.ao[t]=a}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new Zy,Promise.resolve()}handleUserChange(t,a,u){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){Ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng=null;function Fm(){return ng===null?ng=function(){return 268435456+Math.round(2147483648*Math.random())}():ng++,"0x"+ng.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="WebChannelConnection";class BE extends class{get Co(){return!1}constructor(a){this.databaseInfo=a,this.databaseId=a.databaseId;const u=a.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Fo=u+"://"+a.host,this.Mo=`projects/${o}/databases/${f}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${f}`}Oo(a,u,o,f,g){const y=Fm(),_=this.No(a,u.toUriEncodedString());Ht("RestConnection",`Sending RPC '${a}' ${y}:`,_,o);const S={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(S,f,g),this.Lo(a,_,S,o).then(b=>(Ht("RestConnection",`Received RPC '${a}' ${y}: `,b),b),b=>{throw mh("RestConnection",`RPC '${a}' ${y} failed with error: `,b,"url: ",_,"request:",o),b})}ko(a,u,o,f,g,y){return this.Oo(a,u,o,f,g)}Bo(a,u,o){a["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bh}(),a["Content-Type"]="text/plain",this.databaseInfo.appId&&(a["X-Firebase-GMPID"]=this.databaseInfo.appId),u&&u.headers.forEach((f,g)=>a[g]=f),o&&o.headers.forEach((f,g)=>a[g]=f)}No(a,u){const o=UE[a];return`${this.Fo}/v1/${u}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Lo(t,a,u,o){const f=Fm();return new Promise((g,y)=>{const _=new z_;_.setWithCredentials(!0),_.listenOnce(B_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ag.NO_ERROR:const b=_.getResponseJson();Ht(ra,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),g(b);break;case ag.TIMEOUT:Ht(ra,`RPC '${t}' ${f} timed out`),y(new Kt(Ut.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:const O=_.getStatus();if(Ht(ra,`RPC '${t}' ${f} failed with status:`,O,"response text:",_.getResponseText()),O>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const D=U==null?void 0:U.error;if(D&&D.status&&D.message){const x=function(L){const F=L.toLowerCase().replace(/_/g,"-");return Object.values(Ut).indexOf(F)>=0?F:Ut.UNKNOWN}(D.status);y(new Kt(x,D.message))}else y(new Kt(Ut.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new Kt(Ut.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{Ht(ra,`RPC '${t}' ${f} completed.`)}});const S=JSON.stringify(o);Ht(ra,`RPC '${t}' ${f} sending request:`,o),_.send(a,"POST",S,u,15)})}qo(t,a,u){const o=Fm(),f=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],g=H_(),y=G_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;S!==void 0&&(_.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Bo(_.initMessageHeaders,a,u),_.encodeInitMessageHeaders=!0;const b=f.join("");Ht(ra,`Creating RPC '${t}' stream ${o}: ${b}`,_);const O=g.createWebChannel(b,_);let U=!1,D=!1;const x=new zE({Eo:L=>{D?Ht(ra,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(U||(Ht(ra,`Opening RPC '${t}' stream ${o} transport.`),O.open(),U=!0),Ht(ra,`RPC '${t}' stream ${o} sending:`,L),O.send(L))},Ao:()=>O.close()}),z=(L,F,C)=>{L.listen(F,R=>{try{C(R)}catch(H){setTimeout(()=>{throw H},0)}})};return z(O,_d.EventType.OPEN,()=>{D||(Ht(ra,`RPC '${t}' stream ${o} transport opened.`),x.So())}),z(O,_d.EventType.CLOSE,()=>{D||(D=!0,Ht(ra,`RPC '${t}' stream ${o} transport closed`),x.Do())}),z(O,_d.EventType.ERROR,L=>{D||(D=!0,mh(ra,`RPC '${t}' stream ${o} transport errored:`,L),x.Do(new Kt(Ut.UNAVAILABLE,"The operation could not be completed")))}),z(O,_d.EventType.MESSAGE,L=>{var F;if(!D){const C=L.data[0];Xe(!!C);const R=C,H=(R==null?void 0:R.error)||((F=R[0])===null||F===void 0?void 0:F.error);if(H){Ht(ra,`RPC '${t}' stream ${o} received error:`,H);const I=H.status;let k=function(M){const w=ri[M];if(w!==void 0)return cv(w)}(I),j=H.message;k===void 0&&(k=Ut.INTERNAL,j="Unknown error status: "+I+" with message "+H.message),D=!0,x.Do(new Kt(k,j)),O.close()}else Ht(ra,`RPC '${t}' stream ${o} received:`,C),x.vo(C)}}),z(y,L_.STAT_EVENT,L=>{L.stat===e1.PROXY?Ht(ra,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===e1.NOPROXY&&Ht(ra,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(r){return new jS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t,a,u=1e3,o=1.5,f=6e4){this.li=t,this.timerId=a,this.Qo=u,this.Ko=o,this.$o=f,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const a=Math.floor(this.Uo+this.Ho()),u=Math.max(0,Date.now()-this.Go),o=Math.max(0,a-u);o>0&&Ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${a} ms, last attempt: ${u} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,a,u,o,f,g,y,_){this.li=t,this.Yo=u,this.Zo=o,this.connection=f,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new bv(t,a)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,a){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():a&&a.code===Ut.RESOURCE_EXHAUSTED?(gu(a.toString()),gu("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):a&&a.code===Ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(a)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),a=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([u,o])=>{this.Xo===a&&this.I_(u,o)},u=>{t(()=>{const o=new Kt(Ut.UNKNOWN,"Fetching auth token failed: "+u.message);return this.d_(o)})})}I_(t,a){const u=this.T_(this.Xo);this.stream=this.E_(t,a),this.stream.Ro(()=>{u(()=>this.listener.Ro())}),this.stream.mo(()=>{u(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{u(()=>this.d_(o))}),this.stream.onMessage(o=>{u(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(t){return Ht("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return a=>{this.li.enqueueAndForget(()=>this.Xo===t?a():(Ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LE extends Av{constructor(t,a,u,o,f,g){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,u,o,g),this.serializer=f}E_(t,a){return this.connection.qo("Listen",t,a)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const a=kS(this.serializer,t),u=function(f){if(!("targetChange"in f))return ne.min();const g=f.targetChange;return g.targetIds&&g.targetIds.length?ne.min():g.readTime?Cl(g.readTime):ne.min()}(t);return this.listener.R_(a,u)}V_(t){const a={};a.database=c1(this.serializer),a.addTarget=function(f,g){let y;const _=g.target;if(y=s1(_)?{documents:XS(f,_)}:{query:ZS(f,_).ct},y.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){y.resumeToken=dv(f,g.resumeToken);const S=l1(f,g.expectedCount);S!==null&&(y.expectedCount=S)}else if(g.snapshotVersion.compareTo(ne.min())>0){y.readTime=vg(f,g.snapshotVersion.toTimestamp());const S=l1(f,g.expectedCount);S!==null&&(y.expectedCount=S)}return y}(this.serializer,t);const u=WS(this.serializer,t);u&&(a.labels=u),this.c_(a)}m_(t){const a={};a.database=c1(this.serializer),a.removeTarget=t,this.c_(a)}}class GE extends Av{constructor(t,a,u,o,f,g){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,u,o,g),this.serializer=f}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(t,a){return this.connection.qo("Write",t,a)}A_(t){return Xe(!!t.streamToken),this.lastStreamToken=t.streamToken,Xe(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){Xe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const a=QS(t.writeResults,t.commitTime),u=Cl(t.commitTime);return this.listener.y_(u,a)}w_(){const t={};t.database=c1(this.serializer),this.c_(t)}g_(t){const a={streamToken:this.lastStreamToken,writes:t.map(u=>KS(this.serializer,u))};this.c_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends class{}{constructor(t,a,u,o){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=u,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Kt(Ut.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,a,u,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Oo(t,u1(a,u),o,f,g)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Kt(Ut.UNKNOWN,f.toString())})}ko(t,a,u,o,f){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.connection.ko(t,u1(a,u),o,g,y,f)).catch(g=>{throw g.name==="FirebaseError"?(g.code===Ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Kt(Ut.UNKNOWN,g.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class qE{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(gu(a),this.C_=!1):Ht("OnlineStateTracker",a)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,a,u,o,f){this.localStore=t,this.datastore=a,this.asyncQueue=u,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=f,this.Q_.uo(g=>{u.enqueueAndForget(async()=>{pc(this)&&(Ht("RemoteStore","Restarting streams for network reachability change."),await async function(_){const S=ae(_);S.k_.add(4),await Bd(S),S.K_.set("Unknown"),S.k_.delete(4),await Hg(S)}(this))})}),this.K_=new qE(u,o)}}async function Hg(r){if(pc(r))for(const t of r.q_)await t(!0)}async function Bd(r){for(const t of r.q_)await t(!1)}function Cv(r,t){const a=ae(r);a.L_.has(t.targetId)||(a.L_.set(t.targetId,t),j1(a)?I1(a):Rh(a).s_()&&P1(a,t))}function q1(r,t){const a=ae(r),u=Rh(a);a.L_.delete(t),u.s_()&&Rv(a,t),a.L_.size===0&&(u.s_()?u.a_():pc(a)&&a.K_.set("Unknown"))}function P1(r,t){if(r.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ne.min())>0){const a=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}Rh(r).V_(t)}function Rv(r,t){r.U_.xe(t),Rh(r).m_(t)}function I1(r){r.U_=new HS({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>r.L_.get(t)||null,nt:()=>r.datastore.serializer.databaseId}),Rh(r).start(),r.K_.F_()}function j1(r){return pc(r)&&!Rh(r).i_()&&r.L_.size>0}function pc(r){return ae(r).k_.size===0}function Dv(r){r.U_=void 0}async function IE(r){r.K_.set("Online")}async function jE(r){r.L_.forEach((t,a)=>{P1(r,t)})}async function FE(r,t){Dv(r),j1(r)?(r.K_.O_(t),I1(r)):r.K_.set("Unknown")}async function YE(r,t,a){if(r.K_.set("Online"),t instanceof fv&&t.state===2&&t.cause)try{await async function(o,f){const g=f.cause;for(const y of f.targetIds)o.L_.has(y)&&(await o.remoteSyncer.rejectListen(y,g),o.L_.delete(y),o.U_.removeTarget(y))}(r,t)}catch(u){Ht("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),u),await Eg(r,u)}else if(t instanceof ug?r.U_.$e(t):t instanceof hv?r.U_.Je(t):r.U_.Ge(t),!a.isEqual(ne.min()))try{const u=await Tv(r.localStore);a.compareTo(u)>=0&&await function(f,g){const y=f.U_.it(g);return y.targetChanges.forEach((_,S)=>{if(_.resumeToken.approximateByteSize()>0){const b=f.L_.get(S);b&&f.L_.set(S,b.withResumeToken(_.resumeToken,g))}}),y.targetMismatches.forEach((_,S)=>{const b=f.L_.get(_);if(!b)return;f.L_.set(_,b.withResumeToken(Ii.EMPTY_BYTE_STRING,b.snapshotVersion)),Rv(f,_);const O=new lo(b.target,_,S,b.sequenceNumber);P1(f,O)}),f.remoteSyncer.applyRemoteEvent(y)}(r,a)}catch(u){Ht("RemoteStore","Failed to raise snapshot:",u),await Eg(r,u)}}async function Eg(r,t,a){if(!Ch(t))throw t;r.k_.add(1),await Bd(r),r.K_.set("Offline"),a||(a=()=>Tv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ht("RemoteStore","Retrying IndexedDB access"),await a(),r.k_.delete(1),await Hg(r)})}function Nv(r,t){return t().catch(a=>Eg(r,a,t))}async function qg(r){const t=ae(r),a=yo(t);let u=t.B_.length>0?t.B_[t.B_.length-1].batchId:-1;for(;kE(t);)try{const o=await ME(t.localStore,u);if(o===null){t.B_.length===0&&a.a_();break}u=o.batchId,KE(t,o)}catch(o){await Eg(t,o)}Mv(t)&&Ov(t)}function kE(r){return pc(r)&&r.B_.length<10}function KE(r,t){r.B_.push(t);const a=yo(r);a.s_()&&a.f_&&a.g_(t.mutations)}function Mv(r){return pc(r)&&!yo(r).i_()&&r.B_.length>0}function Ov(r){yo(r).start()}async function QE(r){yo(r).w_()}async function XE(r){const t=yo(r);for(const a of r.B_)t.g_(a.mutations)}async function ZE(r,t,a){const u=r.B_.shift(),o=U1.from(u,t,a);await Nv(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await qg(r)}async function JE(r,t){t&&yo(r).f_&&await async function(u,o){if(function(g){return BS(g)&&g!==Ut.ABORTED}(o.code)){const f=u.B_.shift();yo(u).__(),await Nv(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,o)),await qg(u)}}(r,t),Mv(r)&&Ov(r)}async function Wy(r,t){const a=ae(r);a.asyncQueue.verifyOperationInProgress(),Ht("RemoteStore","RemoteStore received new credentials");const u=pc(a);a.k_.add(3),await Bd(a),u&&a.K_.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.k_.delete(3),await Hg(a)}async function WE(r,t){const a=ae(r);t?(a.k_.delete(2),await Hg(a)):t||(a.k_.add(2),await Bd(a),a.K_.set("Unknown"))}function Rh(r){return r.W_||(r.W_=function(a,u,o){const f=ae(a);return f.b_(),new LE(u,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(r.datastore,r.asyncQueue,{Ro:IE.bind(null,r),mo:jE.bind(null,r),po:FE.bind(null,r),R_:YE.bind(null,r)}),r.q_.push(async t=>{t?(r.W_.__(),j1(r)?I1(r):r.K_.set("Unknown")):(await r.W_.stop(),Dv(r))})),r.W_}function yo(r){return r.G_||(r.G_=function(a,u,o){const f=ae(a);return f.b_(),new GE(u,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:QE.bind(null,r),po:JE.bind(null,r),p_:XE.bind(null,r),y_:ZE.bind(null,r)}),r.q_.push(async t=>{t?(r.G_.__(),await qg(r)):(await r.G_.stop(),r.B_.length>0&&(Ht("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,a,u,o,f){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=u,this.op=o,this.removalCallback=f,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,a,u,o,f){const g=Date.now()+u,y=new F1(t,a,g,o,f);return y.start(u),y}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Kt(Ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y1(r,t){if(gu("AsyncQueue",`${t}: ${r}`),Ch(r))return new Kt(Ut.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{static emptySet(t){return new gh(t.comparator)}constructor(t){this.comparator=t?(a,u)=>t(a,u)||Qt.comparator(a.key,u.key):(a,u)=>Qt.comparator(a.key,u.key),this.keyedMap=vd(),this.sortedSet=new Un(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((a,u)=>(t(a),!1))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof gh)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),u=t.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,f=u.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(a=>{t.push(a.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const u=new gh;return u.comparator=this.comparator,u.keyedMap=t,u.sortedSet=a,u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.z_=new Un(Qt.comparator)}track(t){const a=t.doc.key,u=this.z_.get(a);u?t.type!==0&&u.type===3?this.z_=this.z_.insert(a,t):t.type===3&&u.type!==1?this.z_=this.z_.insert(a,{type:u.type,doc:t.doc}):t.type===2&&u.type===2?this.z_=this.z_.insert(a,{type:2,doc:t.doc}):t.type===2&&u.type===0?this.z_=this.z_.insert(a,{type:0,doc:t.doc}):t.type===1&&u.type===0?this.z_=this.z_.remove(a):t.type===1&&u.type===2?this.z_=this.z_.insert(a,{type:1,doc:u.doc}):t.type===0&&u.type===1?this.z_=this.z_.insert(a,{type:2,doc:t.doc}):ee():this.z_=this.z_.insert(a,t)}j_(){const t=[];return this.z_.inorderTraversal((a,u)=>{t.push(u)}),t}}class Sh{constructor(t,a,u,o,f,g,y,_,S){this.query=t,this.docs=a,this.oldDocs=u,this.docChanges=o,this.mutatedKeys=f,this.fromCache=g,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=S}static fromInitialDocuments(t,a,u,o,f){const g=[];return a.forEach(y=>{g.push({type:0,doc:y})}),new Sh(t,a,gh.emptySet(a),g,u,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,u=t.docChanges;if(a.length!==u.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==u[o].type||!a[o].doc.isEqual(u[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class t8{constructor(){this.queries=t_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(a,u){const o=ae(a),f=o.queries;o.queries=t_(),f.forEach((g,y)=>{for(const _ of y.J_)_.onError(u)})})(this,new Kt(Ut.ABORTED,"Firestore shutting down"))}}function t_(){return new gc(r=>J_(r),Vg)}async function e8(r,t){const a=ae(r);let u=3;const o=t.query;let f=a.queries.get(o);f?!f.Y_()&&t.Z_()&&(u=2):(f=new $E,u=t.Z_()?0:1);try{switch(u){case 0:f.H_=await a.onListen(o,!0);break;case 1:f.H_=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(g){const y=Y1(g,`Initialization of query '${ch(t.query)}' failed`);return void t.onError(y)}a.queries.set(o,f),f.J_.push(t),t.ea(a.onlineState),f.H_&&t.ta(f.H_)&&k1(a)}async function n8(r,t){const a=ae(r),u=t.query;let o=3;const f=a.queries.get(u);if(f){const g=f.J_.indexOf(t);g>=0&&(f.J_.splice(g,1),f.J_.length===0?o=t.Z_()?0:1:!f.Y_()&&t.Z_()&&(o=2))}switch(o){case 0:return a.queries.delete(u),a.onUnlisten(u,!0);case 1:return a.queries.delete(u),a.onUnlisten(u,!1);case 2:return a.onLastRemoteStoreUnlisten(u);default:return}}function i8(r,t){const a=ae(r);let u=!1;for(const o of t){const f=o.query,g=a.queries.get(f);if(g){for(const y of g.J_)y.ta(o)&&(u=!0);g.H_=o}}u&&k1(a)}function a8(r,t,a){const u=ae(r),o=u.queries.get(t);if(o)for(const f of o.J_)f.onError(a);u.queries.delete(t)}function k1(r){r.X_.forEach(t=>{t.next()})}var f1,e_;(e_=f1||(f1={})).na="default",e_.Cache="cache";class s8{constructor(t,a,u){this.query=t,this.ra=a,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=u||{}}ta(t){if(!this.options.includeMetadataChanges){const u=[];for(const o of t.docChanges)o.type!==3&&u.push(o);t=new Sh(t.query,t.docs,t.oldDocs,u,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.ia?this.oa(t)&&(this.ra.next(t),a=!0):this._a(t,this.onlineState)&&(this.aa(t),a=!0),this.sa=t,a}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let a=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),a=!0),a}_a(t,a){if(!t.fromCache||!this.Z_())return!0;const u=a!=="Offline";return(!this.options.ua||!u)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const a=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}aa(t){t=Sh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==f1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t){this.key=t}}class wv{constructor(t){this.key=t}}class r8{constructor(t,a){this.query=t,this.Ea=a,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Re(),this.mutatedKeys=Re(),this.Va=W_(t),this.ma=new gh(this.Va)}get fa(){return this.Ea}ga(t,a){const u=a?a.pa:new $y,o=a?a.ma:this.ma;let f=a?a.mutatedKeys:this.mutatedKeys,g=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,S=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((b,O)=>{const U=o.get(b),D=Ug(this.query,O)?O:null,x=!!U&&this.mutatedKeys.has(U.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;U&&D?U.data.isEqual(D.data)?x!==z&&(u.track({type:3,doc:D}),L=!0):this.ya(U,D)||(u.track({type:2,doc:D}),L=!0,(_&&this.Va(D,_)>0||S&&this.Va(D,S)<0)&&(y=!0)):!U&&D?(u.track({type:0,doc:D}),L=!0):U&&!D&&(u.track({type:1,doc:U}),L=!0,(_||S)&&(y=!0)),L&&(D?(g=g.add(D),f=z?f.add(b):f.delete(b)):(g=g.delete(b),f=f.delete(b)))}),this.query.limit!==null)for(;g.size>this.query.limit;){const b=this.query.limitType==="F"?g.last():g.first();g=g.delete(b.key),f=f.delete(b.key),u.track({type:1,doc:b})}return{ma:g,pa:u,ss:y,mutatedKeys:f}}ya(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,u,o){const f=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const g=t.pa.j_();g.sort((b,O)=>function(D,x){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return z(D)-z(x)}(b.type,O.type)||this.Va(b.doc,O.doc)),this.wa(u),o=o!=null&&o;const y=a&&!o?this.Sa():[],_=this.Ra.size===0&&this.current&&!o?1:0,S=_!==this.Aa;return this.Aa=_,g.length!==0||S?{snapshot:new Sh(this.query,t.ma,f,g,t.mutatedKeys,_===0,S,!1,!!u&&u.resumeToken.approximateByteSize()>0),ba:y}:{ba:y}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new $y,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.Ea.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(a=>this.Ea=this.Ea.add(a)),t.modifiedDocuments.forEach(a=>{}),t.removedDocuments.forEach(a=>this.Ea=this.Ea.delete(a)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Re(),this.ma.forEach(u=>{this.Da(u.key)&&(this.Ra=this.Ra.add(u.key))});const a=[];return t.forEach(u=>{this.Ra.has(u)||a.push(new wv(u))}),this.Ra.forEach(u=>{t.has(u)||a.push(new xv(u))}),a}va(t){this.Ea=t.Es,this.Ra=Re();const a=this.ga(t.documents);return this.applyChanges(a,!0)}Ca(){return Sh.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class l8{constructor(t,a,u){this.query=t,this.targetId=a,this.view=u}}class u8{constructor(t){this.key=t,this.Fa=!1}}class o8{constructor(t,a,u,o,f,g){this.localStore=t,this.remoteStore=a,this.eventManager=u,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=g,this.Ma={},this.xa=new gc(y=>J_(y),Vg),this.Oa=new Map,this.Na=new Set,this.Ba=new Un(Qt.comparator),this.La=new Map,this.ka=new L1,this.qa={},this.Qa=new Map,this.Ka=vh.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function c8(r,t,a=!0){const u=Gv(r);let o;const f=u.xa.get(t);return f?(u.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.Ca()):o=await Vv(u,t,a,!0),o}async function h8(r,t){const a=Gv(r);await Vv(a,t,!0,!1)}async function Vv(r,t,a,u){const o=await OE(r.localStore,Al(t)),f=o.targetId,g=r.sharedClientState.addLocalQueryTarget(f,a);let y;return u&&(y=await f8(r,t,f,g==="current",o.resumeToken)),r.isPrimaryClient&&a&&Cv(r.remoteStore,o),y}async function f8(r,t,a,u,o){r.Ua=(O,U,D)=>async function(z,L,F,C){let R=L.view.ga(F);R.ss&&(R=await Xy(z.localStore,L.query,!1).then(({documents:j})=>L.view.ga(j,R)));const H=C&&C.targetChanges.get(L.targetId),I=C&&C.targetMismatches.get(L.targetId)!=null,k=L.view.applyChanges(R,z.isPrimaryClient,H,I);return i_(z,L.targetId,k.ba),k.snapshot}(r,O,U,D);const f=await Xy(r.localStore,t,!0),g=new r8(t,f.Es),y=g.ga(f.documents),_=zd.createSynthesizedTargetChangeForCurrentChange(a,u&&r.onlineState!=="Offline",o),S=g.applyChanges(y,r.isPrimaryClient,_);i_(r,a,S.ba);const b=new l8(t,a,g);return r.xa.set(t,b),r.Oa.has(a)?r.Oa.get(a).push(t):r.Oa.set(a,[t]),S.snapshot}async function d8(r,t,a){const u=ae(r),o=u.xa.get(t),f=u.Oa.get(o.targetId);if(f.length>1)return u.Oa.set(o.targetId,f.filter(g=>!Vg(g,t))),void u.xa.delete(t);u.isPrimaryClient?(u.sharedClientState.removeLocalQueryTarget(o.targetId),u.sharedClientState.isActiveQueryTarget(o.targetId)||await h1(u.localStore,o.targetId,!1).then(()=>{u.sharedClientState.clearQueryState(o.targetId),a&&q1(u.remoteStore,o.targetId),d1(u,o.targetId)}).catch(Ah)):(d1(u,o.targetId),await h1(u.localStore,o.targetId,!0))}async function g8(r,t){const a=ae(r),u=a.xa.get(t),o=a.Oa.get(u.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(u.targetId),q1(a.remoteStore,u.targetId))}async function m8(r,t,a){const u=T8(r);try{const o=await function(g,y){const _=ae(g),S=hi.now(),b=y.reduce((D,x)=>D.add(x.key),Re());let O,U;return _.persistence.runTransaction("Locally write mutations","readwrite",D=>{let x=mu(),z=Re();return _.hs.getEntries(D,b).next(L=>{x=L,x.forEach((F,C)=>{C.isValidDocument()||(z=z.add(F))})}).next(()=>_.localDocuments.getOverlayedDocuments(D,x)).next(L=>{O=L;const F=[];for(const C of y){const R=xS(C,O.get(C.key).overlayedDocument);R!=null&&F.push(new mc(C.key,R,F_(R.value.mapValue),fu.exists(!0)))}return _.mutationQueue.addMutationBatch(D,S,F,y)}).next(L=>{U=L;const F=L.applyToLocalDocumentSet(O,z);return _.documentOverlayCache.saveOverlays(D,L.batchId,F)})}).then(()=>({batchId:U.batchId,changes:tv(O)}))}(u.localStore,t);u.sharedClientState.addPendingMutation(o.batchId),function(g,y,_){let S=g.qa[g.currentUser.toKey()];S||(S=new Un(Oe)),S=S.insert(y,_),g.qa[g.currentUser.toKey()]=S}(u,o.batchId,a),await Ld(u,o.changes),await qg(u.remoteStore)}catch(o){const f=Y1(o,"Failed to persist write");a.reject(f)}}async function Uv(r,t){const a=ae(r);try{const u=await DE(a.localStore,t);t.targetChanges.forEach((o,f)=>{const g=a.La.get(f);g&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?g.Fa=!0:o.modifiedDocuments.size>0?Xe(g.Fa):o.removedDocuments.size>0&&(Xe(g.Fa),g.Fa=!1))}),await Ld(a,u,t)}catch(u){await Ah(u)}}function n_(r,t,a){const u=ae(r);if(u.isPrimaryClient&&a===0||!u.isPrimaryClient&&a===1){const o=[];u.xa.forEach((f,g)=>{const y=g.view.ea(t);y.snapshot&&o.push(y.snapshot)}),function(g,y){const _=ae(g);_.onlineState=y;let S=!1;_.queries.forEach((b,O)=>{for(const U of O.J_)U.ea(y)&&(S=!0)}),S&&k1(_)}(u.eventManager,t),o.length&&u.Ma.R_(o),u.onlineState=t,u.isPrimaryClient&&u.sharedClientState.setOnlineState(t)}}async function p8(r,t,a){const u=ae(r);u.sharedClientState.updateQueryState(t,"rejected",a);const o=u.La.get(t),f=o&&o.key;if(f){let g=new Un(Qt.comparator);g=g.insert(f,oa.newNoDocument(f,ne.min()));const y=Re().add(f),_=new Lg(ne.min(),new Map,new Un(Oe),g,y);await Uv(u,_),u.Ba=u.Ba.remove(f),u.La.delete(t),K1(u)}else await h1(u.localStore,t,!1).then(()=>d1(u,t,a)).catch(Ah)}async function y8(r,t){const a=ae(r),u=t.batch.batchId;try{const o=await RE(a.localStore,t);Bv(a,u,null),zv(a,u),a.sharedClientState.updateMutationState(u,"acknowledged"),await Ld(a,o)}catch(o){await Ah(o)}}async function _8(r,t,a){const u=ae(r);try{const o=await function(g,y){const _=ae(g);return _.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let b;return _.mutationQueue.lookupMutationBatch(S,y).next(O=>(Xe(O!==null),b=O.keys(),_.mutationQueue.removeMutationBatch(S,O))).next(()=>_.mutationQueue.performConsistencyCheck(S)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(S,b,y)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(S,b)).next(()=>_.localDocuments.getDocuments(S,b))})}(u.localStore,t);Bv(u,t,a),zv(u,t),u.sharedClientState.updateMutationState(t,"rejected",a),await Ld(u,o)}catch(o){await Ah(o)}}function zv(r,t){(r.Qa.get(t)||[]).forEach(a=>{a.resolve()}),r.Qa.delete(t)}function Bv(r,t,a){const u=ae(r);let o=u.qa[u.currentUser.toKey()];if(o){const f=o.get(t);f&&(a?f.reject(a):f.resolve(),o=o.remove(t)),u.qa[u.currentUser.toKey()]=o}}function d1(r,t,a=null){r.sharedClientState.removeLocalQueryTarget(t);for(const u of r.Oa.get(t))r.xa.delete(u),a&&r.Ma.Wa(u,a);r.Oa.delete(t),r.isPrimaryClient&&r.ka.yr(t).forEach(u=>{r.ka.containsKey(u)||Lv(r,u)})}function Lv(r,t){r.Na.delete(t.path.canonicalString());const a=r.Ba.get(t);a!==null&&(q1(r.remoteStore,a),r.Ba=r.Ba.remove(t),r.La.delete(a),K1(r))}function i_(r,t,a){for(const u of a)u instanceof xv?(r.ka.addReference(u.key,t),v8(r,u)):u instanceof wv?(Ht("SyncEngine","Document no longer in limbo: "+u.key),r.ka.removeReference(u.key,t),r.ka.containsKey(u.key)||Lv(r,u.key)):ee()}function v8(r,t){const a=t.key,u=a.path.canonicalString();r.Ba.get(a)||r.Na.has(u)||(Ht("SyncEngine","New document in limbo: "+a),r.Na.add(u),K1(r))}function K1(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const t=r.Na.values().next().value;r.Na.delete(t);const a=new Qt(Yn.fromString(t)),u=r.Ka.next();r.La.set(u,new u8(a)),r.Ba=r.Ba.insert(a,u),Cv(r.remoteStore,new lo(Al(w1(a.path)),u,"TargetPurposeLimboResolution",Mg.oe))}}async function Ld(r,t,a){const u=ae(r),o=[],f=[],g=[];u.xa.isEmpty()||(u.xa.forEach((y,_)=>{g.push(u.Ua(_,t,a).then(S=>{var b;if((S||a)&&u.isPrimaryClient){const O=S?!S.fromCache:(b=a==null?void 0:a.targetChanges.get(_.targetId))===null||b===void 0?void 0:b.current;u.sharedClientState.updateQueryState(_.targetId,O?"current":"not-current")}if(S){o.push(S);const O=H1.zi(_.targetId,S);f.push(O)}}))}),await Promise.all(g),u.Ma.R_(o),await async function(_,S){const b=ae(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Nt.forEach(S,U=>Nt.forEach(U.Wi,D=>b.persistence.referenceDelegate.addReference(O,U.targetId,D)).next(()=>Nt.forEach(U.Gi,D=>b.persistence.referenceDelegate.removeReference(O,U.targetId,D)))))}catch(O){if(!Ch(O))throw O;Ht("LocalStore","Failed to update sequence numbers: "+O)}for(const O of S){const U=O.targetId;if(!O.fromCache){const D=b.us.get(U),x=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(x);b.us=b.us.insert(U,z)}}}(u.localStore,f))}async function S8(r,t){const a=ae(r);if(!a.currentUser.isEqual(t)){Ht("SyncEngine","User change. New user:",t.toKey());const u=await Ev(a.localStore,t);a.currentUser=t,function(f,g){f.Qa.forEach(y=>{y.forEach(_=>{_.reject(new Kt(Ut.CANCELLED,g))})}),f.Qa.clear()}(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,u.removedBatchIds,u.addedBatchIds),await Ld(a,u.Ts)}}function E8(r,t){const a=ae(r),u=a.La.get(t);if(u&&u.Fa)return Re().add(u.key);{let o=Re();const f=a.Oa.get(t);if(!f)return o;for(const g of f){const y=a.xa.get(g);o=o.unionWith(y.view.fa)}return o}}function Gv(r){const t=ae(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=E8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=p8.bind(null,t),t.Ma.R_=i8.bind(null,t.eventManager),t.Ma.Wa=a8.bind(null,t.eventManager),t}function T8(r){const t=ae(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=y8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_8.bind(null,t),t}class Tg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gg(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,a){return null}Ya(t,a){return null}Ha(t){return CE(this.persistence,new bE,t.initialUser,this.serializer)}ja(t){return new Sv(G1.ei,this.serializer)}za(t){return new wE}async terminate(){var t,a;(t=this.gcScheduler)===null||t===void 0||t.stop(),(a=this.indexBackfillerScheduler)===null||a===void 0||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tg.provider={build:()=>new Tg};class b8 extends Tg{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,a){Xe(this.persistence.referenceDelegate instanceof Sg);const u=this.persistence.referenceDelegate.garbageCollector;return new uE(u,t.asyncQueue,a)}ja(t){const a=this.cacheSizeBytes!==void 0?Za.withCacheSize(this.cacheSizeBytes):Za.DEFAULT;return new Sv(u=>Sg.ei(u,a),this.serializer)}}class g1{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=u=>n_(this.syncEngine,u,1),this.remoteStore.remoteSyncer.handleCredentialChange=S8.bind(null,this.syncEngine),await WE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new t8}()}createDatastore(t){const a=Gg(t.databaseInfo.databaseId),u=function(f){return new BE(f)}(t.databaseInfo);return function(f,g,y,_){return new HE(f,g,y,_)}(t.authCredentials,t.appCheckCredentials,u,a)}createRemoteStore(t){return function(u,o,f,g,y){return new PE(u,o,f,g,y)}(this.localStore,this.datastore,t.asyncQueue,a=>n_(this.syncEngine,a,0),function(){return Jy.p()?new Jy:new VE}())}createSyncEngine(t,a){return function(o,f,g,y,_,S,b){const O=new o8(o,f,g,y,_,S);return b&&(O.$a=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){var t,a;await async function(o){const f=ae(o);Ht("RemoteStore","RemoteStore shutting down."),f.k_.add(5),await Bd(f),f.Q_.shutdown(),f.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(a=this.eventManager)===null||a===void 0||a.terminate()}}g1.provider={build:()=>new g1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):gu("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,a){setTimeout(()=>{this.muted||t(a)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(t,a,u,o,f){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=u,this.databaseInfo=o,this.user=ua.UNAUTHENTICATED,this.clientId=P_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(u,async g=>{Ht("FirestoreClient","Received user=",g.uid),await this.authCredentialListener(g),this.user=g}),this.appCheckCredentials.start(u,g=>(Ht("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const u=Y1(a,"Failed to shutdown persistence");t.reject(u)}}),t.promise}}async function km(r,t){r.asyncQueue.verifyOperationInProgress(),Ht("FirestoreClient","Initializing OfflineComponentProvider");const a=r.configuration;await t.initialize(a);let u=a.initialUser;r.setCredentialChangeListener(async o=>{u.isEqual(o)||(await Ev(t.localStore,o),u=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function a_(r,t){r.asyncQueue.verifyOperationInProgress();const a=await R8(r);Ht("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(a,r.configuration),r.setCredentialChangeListener(u=>Wy(t.remoteStore,u)),r.setAppCheckTokenChangeListener((u,o)=>Wy(t.remoteStore,o)),r._onlineComponents=t}async function R8(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ht("FirestoreClient","Using user provided OfflineComponentProvider");try{await km(r,r._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!function(o){return o.name==="FirebaseError"?o.code===Ut.FAILED_PRECONDITION||o.code===Ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(a))throw a;mh("Error using user provided cache. Falling back to memory cache: "+a),await km(r,new Tg)}}else Ht("FirestoreClient","Using default OfflineComponentProvider"),await km(r,new b8(void 0));return r._offlineComponents}async function Hv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ht("FirestoreClient","Using user provided OnlineComponentProvider"),await a_(r,r._uninitializedComponentsProvider._online)):(Ht("FirestoreClient","Using default OnlineComponentProvider"),await a_(r,new g1))),r._onlineComponents}function D8(r){return Hv(r).then(t=>t.syncEngine)}async function N8(r){const t=await Hv(r),a=t.eventManager;return a.onListen=c8.bind(null,t.syncEngine),a.onUnlisten=d8.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=h8.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=g8.bind(null,t.syncEngine),a}function M8(r,t,a={}){const u=new ho;return r.asyncQueue.enqueueAndForget(async()=>function(f,g,y,_,S){const b=new A8({next:U=>{b.eu(),g.enqueueAndForget(()=>n8(f,O));const D=U.docs.has(y);!D&&U.fromCache?S.reject(new Kt(Ut.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&U.fromCache&&_&&_.source==="server"?S.reject(new Kt(Ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(U)},error:U=>S.reject(U)}),O=new s8(w1(y.path),b,{includeMetadataChanges:!0,ua:!0});return e8(f,O)}(await N8(r),r.asyncQueue,t,a,u)),u.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(r,t,a){if(!a)throw new Kt(Ut.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function x8(r,t,a,u){if(t===!0&&u===!0)throw new Kt(Ut.INVALID_ARGUMENT,`${r} and ${a} cannot be used together.`)}function r_(r){if(!Qt.isDocumentKey(r))throw new Kt(Ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Q1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(u){return u.constructor?u.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":ee()}function wd(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Kt(Ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Q1(r);throw new Kt(Ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(t){var a,u;if(t.host===void 0){if(t.ssl!==void 0)throw new Kt(Ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(a=t.ssl)===null||a===void 0||a;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Kt(Ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}x8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qv((u=t.experimentalLongPollingOptions)!==null&&u!==void 0?u:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new Kt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Kt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Kt(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(u,o){return u.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class X1{constructor(t,a,u,o){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=u,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Kt(Ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Kt(Ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(t),t.credentials!==void 0&&(this._authCredentials=function(u){if(!u)return new L9;switch(u.type){case"firstParty":return new P9(u.sessionIndex||"0",u.iamToken||null,u.authTokenFactory||null);case"provider":return u.client;default:throw new Kt(Ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const u=s_.get(a);u&&(Ht("ComponentProvider","Removing Datastore"),s_.delete(a),u.terminate())}(this),Promise.resolve()}}function w8(r,t,a,u={}){var o;const f=(r=wd(r,X1))._getSettings(),g=`${t}:${a}`;if(f.host!=="firestore.googleapis.com"&&f.host!==g&&mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},f),{host:g,ssl:!1})),u.mockUserToken){let y,_;if(typeof u.mockUserToken=="string")y=u.mockUserToken,_=ua.MOCK_USER;else{y=_6(u.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=u.mockUserToken.sub||u.mockUserToken.user_id;if(!S)throw new Kt(Ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ua(S)}r._authCredentials=new G9(new q_(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,a,u){this.converter=a,this._query=u,this.type="query",this.firestore=t}withConverter(t){return new Z1(this.firestore,t,this._query)}}class Is{constructor(t,a,u){this.converter=a,this._key=u,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Is(this.firestore,t,this._key)}}class Vd extends Z1{constructor(t,a,u){super(t,a,w1(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Is(this.firestore,null,new Qt(t))}withConverter(t){return new Vd(this.firestore,t,this._path)}}function u_(r,t,...a){if(r=hg(r),arguments.length===1&&(t=P_.newId()),O8("doc","path",t),r instanceof X1){const u=Yn.fromString(t,...a);return r_(u),new Is(r,null,new Qt(u))}{if(!(r instanceof Is||r instanceof Vd))throw new Kt(Ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=r._path.child(Yn.fromString(t,...a));return r_(u),new Is(r.firestore,r instanceof Vd?r.converter:null,new Qt(u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new bv(this,"async_queue_retry"),this.fu=()=>{const u=Ym();u&&Ht("AsyncQueue","Visibility state changed to "+u.visibilityState),this.r_.Jo()},this.gu=t;const a=Ym();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.du){this.du=!0,this.Vu=t||!1;const a=Ym();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.du)return new Promise(()=>{});const a=new ho;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(t().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Ch(t))throw t;Ht("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const a=this.gu.then(()=>(this.Ru=!0,t().catch(u=>{this.Au=u,this.Ru=!1;const o=function(g){let y=g.message||"";return g.stack&&(y=g.stack.includes(g.message)?g.stack:g.message+`
`+g.stack),y}(u);throw gu("INTERNAL UNHANDLED ERROR: ",o),u}).then(u=>(this.Ru=!1,u))));return this.gu=a,a}enqueueAfterDelay(t,a,u){this.pu(),this.mu.indexOf(t)>-1&&(a=0);const o=F1.createAndSchedule(this,t,a,u,f=>this.Su(f));return this.Eu.push(o),o}pu(){this.Au&&ee()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const a of this.Eu)if(a.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.Eu.sort((a,u)=>a.targetTimeMs-u.targetTimeMs);for(const a of this.Eu)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const a=this.Eu.indexOf(t);this.Eu.splice(a,1)}}class J1 extends X1{constructor(t,a,u,o){super(t,a,u,o),this.type="firestore",this._queue=new o_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new o_(t),this._firestoreClient=void 0,await t}}}function Pv(r,t){const a=typeof r=="object"?r:D9(),u=typeof r=="string"?r:"(default)",o=b9(a,"firestore").getImmediate({identifier:u});if(!o._initialized){const f=p6("firestore");f&&w8(o,...f)}return o}function Iv(r){if(r._terminated)throw new Kt(Ut.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||V8(r),r._firestoreClient}function V8(r){var t,a,u;const o=r._freezeSettings(),f=function(y,_,S,b){return new nS(y,_,S,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,qv(b.experimentalLongPollingOptions),b.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((a=o.localCache)===null||a===void 0)&&a._offlineComponentProvider&&(!((u=o.localCache)===null||u===void 0)&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new C8(r._authCredentials,r._appCheckCredentials,r._queue,f,r._componentsProvider&&function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Eh(Ii.fromBase64String(t))}catch(a){throw new Kt(Ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new Eh(Ii.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new Kt(Ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new Kt(Ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new Kt(Ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Oe(this._lat,t._lat)||Oe(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t){this._values=(t||[]).map(a=>a)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(u,o){if(u.length!==o.length)return!1;for(let f=0;f<u.length;++f)if(u[f]!==o[f])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=/^__.*__$/;class z8{constructor(t,a,u){this.data=t,this.fieldMask=a,this.fieldTransforms=u}toMutation(t,a){return this.fieldMask!==null?new mc(t,this.data,this.fieldMask,a,this.fieldTransforms):new Ud(t,this.data,a,this.fieldTransforms)}}function Fv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class ep{constructor(t,a,u,o,f,g){this.settings=t,this.databaseId=a,this.serializer=u,this.ignoreUndefinedProperties=o,f===void 0&&this.Fu(),this.fieldTransforms=f||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new ep(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var a;const u=(a=this.path)===null||a===void 0?void 0:a.child(t),o=this.xu({path:u,Nu:!1});return o.Bu(t),o}Lu(t){var a;const u=(a=this.path)===null||a===void 0?void 0:a.child(t),o=this.xu({path:u,Nu:!1});return o.Fu(),o}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return bg(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return this.fieldMask.find(a=>t.isPrefixOf(a))!==void 0||this.fieldTransforms.find(a=>t.isPrefixOf(a.field))!==void 0}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Bu(this.path.get(t))}Bu(t){if(t.length===0)throw this.qu("Document fields must not be empty");if(Fv(this.Mu)&&U8.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class B8{constructor(t,a,u){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=u||Gg(t)}$u(t,a,u,o=!1){return new ep({Mu:t,methodName:a,Ku:u,path:Pi.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L8(r){const t=r._freezeSettings(),a=Gg(r._databaseId);return new B8(r._databaseId,!!t.ignoreUndefinedProperties,a)}function G8(r,t,a,u,o,f={}){const g=r.$u(f.merge||f.mergeFields?2:0,t,a,o);Qv("Data must be an object, but it was:",g,u);const y=kv(u,g);let _,S;if(f.merge)_=new xr(g.fieldMask),S=g.fieldTransforms;else if(f.mergeFields){const b=[];for(const O of f.mergeFields){const U=H8(t,O,a);if(!g.contains(U))throw new Kt(Ut.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);P8(b,U)||b.push(U)}_=new xr(b),S=g.fieldTransforms.filter(O=>_.covers(O.field))}else _=null,S=g.fieldTransforms;return new z8(new Ps(y),_,S)}function Yv(r,t){if(Kv(r=hg(r)))return Qv("Unsupported field value:",t,r),kv(r,t);if(r instanceof jv)return function(u,o){if(!Fv(o.Mu))throw o.qu(`${u._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${u._methodName}() is not currently supported inside arrays`);const f=u._toFieldTransform(o);f&&o.fieldTransforms.push(f)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Nu&&t.Mu!==4)throw t.qu("Nested arrays are not supported");return function(u,o){const f=[];let g=0;for(const y of u){let _=Yv(y,o.ku(g));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),g++}return{arrayValue:{values:f}}}(r,t)}return function(u,o){if((u=hg(u))===null)return{nullValue:"NULL_VALUE"};if(typeof u=="number")return CS(o.serializer,u);if(typeof u=="boolean")return{booleanValue:u};if(typeof u=="string")return{stringValue:u};if(u instanceof Date){const f=hi.fromDate(u);return{timestampValue:vg(o.serializer,f)}}if(u instanceof hi){const f=new hi(u.seconds,1e3*Math.floor(u.nanoseconds/1e3));return{timestampValue:vg(o.serializer,f)}}if(u instanceof $1)return{geoPointValue:{latitude:u.latitude,longitude:u.longitude}};if(u instanceof Eh)return{bytesValue:dv(o.serializer,u._byteString)};if(u instanceof Is){const f=o.databaseId,g=u.firestore._databaseId;if(!g.isEqual(f))throw o.qu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:B1(u.firestore._databaseId||o.databaseId,u._key.path)}}if(u instanceof tp)return function(g,y){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:g.toArray().map(_=>{if(typeof _!="number")throw y.qu("VectorValues must only contain numeric values.");return V1(y.serializer,_)})}}}}}}(u,o);throw o.qu(`Unsupported field value: ${Q1(u)}`)}(r,t)}function kv(r,t){const a={};return I_(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dc(r,(u,o)=>{const f=Yv(o,t.Ou(u));f!=null&&(a[u]=f)}),{mapValue:{fields:a}}}function Kv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof hi||r instanceof $1||r instanceof Eh||r instanceof Is||r instanceof jv||r instanceof tp)}function Qv(r,t,a){if(!Kv(a)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(a)){const u=Q1(a);throw u==="an object"?t.qu(r+" a custom object"):t.qu(r+" "+u)}}function H8(r,t,a){if((t=hg(t))instanceof W1)return t._internalPath;if(typeof t=="string")return Xv(r,t);throw bg("Field path arguments must be of type string or ",r,!1,void 0,a)}const q8=new RegExp("[~\\*/\\[\\]]");function Xv(r,t,a){if(t.search(q8)>=0)throw bg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,a);try{return new W1(...t.split("."))._internalPath}catch{throw bg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,a)}}function bg(r,t,a,u,o){const f=u&&!u.isEmpty(),g=o!==void 0;let y=`Function ${t}() called with invalid data`;a&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(f||g)&&(_+=" (found",f&&(_+=` in field ${u}`),g&&(_+=` in document ${o}`),_+=")"),new Kt(Ut.INVALID_ARGUMENT,y+r+_)}function P8(r,t){return r.some(a=>a.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,a,u,o,f){this._firestore=t,this._userDataWriter=a,this._key=u,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Is(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new I8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(Jv("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class I8 extends Zv{data(){return super.data()}}function Jv(r,t){return typeof t=="string"?Xv(r,t):t instanceof W1?t._internalPath:t._delegate._internalPath}class j8{convertValue(t,a="none"){switch(po(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $n(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(mo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw ee()}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const u={};return dc(t,(o,f)=>{u[o]=this.convertValue(f,a)}),u}convertVectorValue(t){var a,u,o;const f=(o=(u=(a=t.fields)===null||a===void 0?void 0:a.value.arrayValue)===null||u===void 0?void 0:u.values)===null||o===void 0?void 0:o.map(g=>$n(g.doubleValue));return new tp(f)}convertGeoPoint(t){return new $1($n(t.latitude),$n(t.longitude))}convertArray(t,a){return(t.values||[]).map(u=>this.convertValue(u,a))}convertServerTimestamp(t,a){switch(a){case"previous":const u=xg(t);return u==null?null:this.convertValue(u,a);case"estimate":return this.convertTimestamp(Dd(t));default:return null}}convertTimestamp(t){const a=go(t);return new hi(a.seconds,a.nanos)}convertDocumentKey(t,a){const u=Yn.fromString(t);Xe(vv(u));const o=new Nd(u.get(1),u.get(3)),f=new Qt(u.popFirst(5));return o.isEqual(a)||gu(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(r,t,a){let u;return u=r?r.toFirestore(t):t,u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wv extends Zv{constructor(t,a,u,o,f,g){super(t,a,u,o,g),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new k8(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const u=this._document.data.field(Jv("DocumentSnapshot.get",t));if(u!==null)return this._userDataWriter.convertValue(u,a.serverTimestamps)}}}class k8 extends Wv{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(r){r=wd(r,Is);const t=wd(r.firestore,J1);return M8(Iv(t),r._key).then(a=>Z8(t,r,a))}class Q8 extends j8{constructor(t){super(),this.firestore=t}convertBytes(t){return new Eh(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new Is(this.firestore,null,a)}}function c_(r,t,a){r=wd(r,Is);const u=wd(r.firestore,J1),o=F8(r.converter,t);return X8(u,[G8(L8(u),"setDoc",r._key,o,r.converter!==null,a).toMutation(r._key,fu.none())])}function X8(r,t){return function(u,o){const f=new ho;return u.asyncQueue.enqueueAndForget(async()=>m8(await D8(u),o,f)),f.promise}(Iv(r),t)}function Z8(r,t,a){const u=a.docs.get(t._key),o=new Q8(r);return new Wv(r,o,t._key,u,new Y8(a.hasPendingWrites,a.fromCache),t.converter)}(function(t,a=!0){(function(o){bh=o})(R9),dg(new Cd("firestore",(u,{instanceIdentifier:o,options:f})=>{const g=u.getProvider("app").getImmediate(),y=new J1(new H9(u.getProvider("auth-internal")),new j9(u.getProvider("app-check-internal")),function(S,b){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Kt(Ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(S.options.projectId,b)}(g,o),g);return f=Object.assign({useFetchStreams:a},f),y._setSettings(f),y},"PUBLIC").setMultipleInstances(!0)),dh(Ry,"4.7.6",t),dh(Ry,"4.7.6","esm2017")})();var J8="firebase",W8="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dh(J8,W8,"app");const $8={apiKey:"AIzaSyC2TPUyNqYDP-3ebM2bQ-Kx3CJVeb-zlEw",authDomain:"teeline-tracer.firebaseapp.com",projectId:"teeline-tracer",storageBucket:"teeline-tracer.firebasestorage.app",messagingSenderId:"1039627863544",appId:"1:1039627863544:web:79a76cb451f01ce471820d",measurementId:"G-WY00H60KMG"},$v=x_($8);Pv($v);const h_=Pv($v),pd=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t7=()=>{const[r,t]=$e.useState(null),[a,u]=$e.useState(null),[o,f]=$e.useState(!1),[g,y]=$e.useState({}),[_,S]=$e.useState([]),[b,O]=$e.useState([]);$e.useEffect(()=>{(async()=>{try{const C=u_(h_,"piles","letters"),R=await K8(C);if(R.exists()){const H=R.data();console.log("Fetched from Firestore:",H),S(I=>I.length>0?I:H.goodPile||[]),O(I=>I.length>0?I:H.needsWorkPile||[])}else console.log("No user data found, initializing..."),await c_(C,{goodPile:[],needsWorkPile:[]}).then(()=>console.log("Document successfully initialized.")).catch(H=>console.error("Error initializing Firestore document:",H))}catch(C){console.error("Error fetching user data:",C)}})()},[]);let U={goodPile:[],needsWorkPile:[]};$e.useEffect(()=>{const F=setTimeout(async()=>{try{const C=u_(h_,"piles","letters");(JSON.stringify(U.goodPile)!==JSON.stringify(_)||JSON.stringify(U.needsWorkPile)!==JSON.stringify(b))&&(await c_(C,{goodPile:_,needsWorkPile:b}),U={goodPile:[],needsWorkPile:[]},console.log("Data successfully saved to Firestore:",{goodPile:_,needsWorkPile:b}))}catch(C){console.error("Error saving user data:",C)}},500);return()=>clearTimeout(F)},[_,b]),$e.useEffect(()=>{(async()=>{const C={};for(const R of pd)try{const k=(await(await fetch(`/normalized_svgs/${R}.svg`)).text()).match(/<path[^>]*d="([^"]*)"/);k&&(C[R]=k[1])}catch(H){console.error(`Failed to load SVG for letter ${R}:`,H)}y(C)})()},[]);const D=F=>{t(F),f(!1)},x=()=>{f(!0)},z=F=>{r&&(F?(S(C=>[...new Set([...C,r])]),O(C=>C.filter(R=>R!==r))):(O(C=>[...new Set([...C,r])]),S(C=>C.filter(R=>R!==r)))),f(!1)},L=()=>{if(r){const C=(pd.indexOf(r)+1)%pd.length;t(pd[C]),f(!1)}};return re.jsx("div",{style:ys.container,children:r?re.jsx("div",{style:ys.previewContainer,children:o?re.jsx(s6,{svgPath:g[r],onComplete:z}):re.jsxs(re.Fragment,{children:[re.jsxs("h2",{style:ys.title,children:["Teeline Version: ",r.toUpperCase()]}),g[r]?re.jsx(r6,{path:g[r],width:400,height:400}):re.jsx("p",{children:"Loading Teeline version..."}),re.jsx("button",{style:ys.traceButton,onClick:x,children:"Start Tracing"}),re.jsx("button",{style:ys.nextButton,onClick:L,children:"Move to Next Letter"}),re.jsx("button",{style:ys.backButton,onClick:()=>t(null),children:"Back to Grid"})]})}):re.jsxs(re.Fragment,{children:[re.jsx("div",{style:ys.grid,children:pd.map((F,C)=>re.jsx("div",{style:{...ys.card,...a===C?ys.cardHover:{},animationDelay:`${C*.1}s`},onMouseEnter:()=>u(C),onMouseLeave:()=>u(null),onClick:()=>D(F),children:re.jsx("span",{style:ys.letter,children:F.toUpperCase()})},F))}),re.jsxs("div",{style:ys.pilesContainer,children:[re.jsxs("div",{style:ys.pile,children:[re.jsx("h3",{children:"Good To Go"}),_.map(F=>re.jsx("div",{children:F.toUpperCase()},F))]}),re.jsxs("div",{style:ys.pile,children:[re.jsx("h3",{children:"Needs Work"}),b.map(F=>re.jsx("div",{children:F.toUpperCase()},F))]})]})]})})},ys={nextButton:{padding:"12px 24px",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:"16px",cursor:"pointer",marginTop:"10px"},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#E6F2ED",padding:"20px",fontFamily:"'Baloo 2', cursive",borderRadius:"16px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"30px",width:"100%",maxWidth:"800px"},card:{display:"flex",alignItems:"center",justifyContent:"center",border:"3px solid #D1E1DB",borderRadius:"16px",background:"linear-gradient(135deg, #A6C3BB, #D1E1DB)",boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.1)",width:"150px",height:"150px",cursor:"pointer",fontSize:"24px",fontWeight:"bold",textAlign:"center",color:"#2F3D38",opacity:0,transform:"translateY(-50px)",animation:"dropIn 0.5s ease-out forwards",transition:"transform 0.2s ease, box-shadow 0.2s ease"},cardHover:{transform:"translateY(-4px)",boxShadow:"8px 8px 0px rgba(0, 0, 0, 0.3)",background:"linear-gradient(135deg, #D1E1DB, #A6C3BB)"},previewContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",padding:"20px",borderRadius:"16px",background:"#E6F2ED",boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.2)"},title:{fontSize:"28px",fontWeight:"bold",color:"#2F3D38"},traceButton:{padding:"12px 24px",backgroundColor:"#6D8B83",color:"#FFFFFF",borderRadius:"16px",cursor:"pointer"},backButton:{padding:"12px 24px",backgroundColor:"#A6C3BB",color:"#2F3D38",borderRadius:"16px",cursor:"pointer"},letter:{fontSize:"48px",fontWeight:"bold",color:"#2F3D38"},pilesContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"20px",marginTop:"20px",width:"100%",maxWidth:"800px"},pile:{flex:1,border:"3px dashed #A6C3BB",borderRadius:"16px",padding:"20px",backgroundColor:"#E6F2ED",boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"}},e7=()=>re.jsxs("div",{style:f_.appContainer,children:[re.jsx("h1",{style:f_.title,children:"Teeline Alphabet"}),re.jsx(t7,{})]}),f_={appContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"radial-gradient(circle at bottom right, #2F3D38, #6D8B83 40%, #A6C3BB 70%)",padding:"20px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.2)",borderRadius:"16px",border:"4px dotted #2F3D38"},title:{textAlign:"center",marginBottom:"20px",fontSize:"36px",color:"#2F3D38",fontFamily:"'Baloo 2', cursive",textShadow:"3px 3px 0px #6D8B83, 5px 5px 0px #A6C3BB"}};Y4.createRoot(document.getElementById("root")).render(re.jsx($e.StrictMode,{children:re.jsx(e7,{})}));
